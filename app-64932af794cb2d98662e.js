/*! For license information please see app-64932af794cb2d98662e.js.LICENSE.txt */
(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[3524],{510:function(e,t,n){"use strict";n.d(t,{C6:function(){return o},Cl:function(){return i},Tt:function(){return a},YH:function(){return c},gz:function(){return l},sH:function(){return s}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},5351:function(e,t,n){"use strict";n.d(t,{X:function(){return h}});var r=n(510),o=n(6368),i={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},a={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},s={code:"storage_not_supported",desc:"Given storage configuration option was not supported."},c={code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},u={code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},l={code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},d={code:"entropy_not_provided",desc:"The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option."},h=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="BrowserConfigurationAuthError",Object.setPrototypeOf(o,t.prototype),o}return(0,r.C6)(t,e),t.createRedirectUriEmptyError=function(){return new t(i.code,i.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(a.code,a.desc)},t.createStorageNotSupportedError=function(e){return new t(s.code,s.desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(c.code,c.desc)},t.createStubPcaInstanceCalledError=function(){return new t(u.code,u.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(l.code,l.desc)},t.createEntropyNotProvided=function(){return new t(d.code,d.desc)},t}(o.l)},59:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.INITIALIZE_START="msal:initializeStart",e.INITIALIZE_END="msal:initializeEnd",e.ACCOUNT_ADDED="msal:accountAdded",e.ACCOUNT_REMOVED="msal:accountRemoved",e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",e.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",e.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd",e.RESTORE_FROM_BFCACHE="msal:restoreFromBFCache"}(r||(r={}))},9789:function(e,t,n){"use strict";n.d(t,{$u:function(){return C},Al:function(){return o},CC:function(){return i},Ct:function(){return r},G8:function(){return E},H3:function(){return c},JD:function(){return f},Q1:function(){return p},T$:function(){return d},WJ:function(){return w},X8:function(){return l},_p:function(){return a},dh:function(){return s},f7:function(){return g},jb:function(){return y},nN:function(){return v},sA:function(){return u},uq:function(){return m}});var r,o,i,a,s,c,u,l,d,h=n(6894),p={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},f={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"};!function(e){e.HandshakeRequest="Handshake",e.HandshakeResponse="HandshakeResponse",e.GetToken="GetToken",e.Response="Response"}(r||(r={})),function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(o||(o={})),function(e){e.GET="GET",e.POST="POST"}(i||(i={})),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential",e.CORRELATION_ID="request.correlationId",e.NATIVE_REQUEST="request.native",e.REDIRECT_CONTEXT="request.redirect.context"}(a||(a={})),function(e){e.ACCOUNT_KEYS="msal.account.keys",e.TOKEN_KEYS="msal.token.keys"}(s||(s={})),function(e){e.WRAPPER_SKU="wrapper.sku",e.WRAPPER_VER="wrapper.version"}(c||(c={})),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenByCode=866]="acquireTokenByCode",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(u||(u={})),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(l||(l={})),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(d||(d={}));var g,m={scopes:h.aZ},y="jwk";!function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(g||(g={}));var v,C="msal.db",E=1,w=C+".keys";!function(e){e[e.Default=0]="Default",e[e.AccessToken=1]="AccessToken",e[e.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",e[e.RefreshToken=3]="RefreshToken",e[e.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",e[e.Skip=5]="Skip"}(v||(v={}))},9483:function(e,t,n){"use strict";n.d(t,{C6:function(){return o},Cl:function(){return i},YH:function(){return s},aN:function(){return c},sH:function(){return a}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}},3502:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},k:function(){return a}});var r=n(3273),o=n(8261),i=n(6894);function a(e,t){if(o.$.isEmpty(e))throw r.e.createClientInfoEmptyError();try{var n=t.base64Decode(e);return JSON.parse(n)}catch(i){throw r.e.createClientInfoDecodingError(i.message)}}function s(e){if(o.$.isEmpty(e))throw r.e.createClientInfoDecodingError("Home account ID was empty.");var t=e.split(i.LR.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?i.YM.EMPTY_STRING:t[1]}}},9618:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs",e[e.Dsts=2]="Dsts",e[e.Ciam=3]="Ciam"}(r||(r={}))},7624:function(e,t,n){"use strict";var r;n.d(t,{e:function(){return r}}),function(e){e.AAD="AAD",e.OIDC="OIDC"}(r||(r={}))},9186:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(6894),o=n(3502),i=n(8261),a=n(3273),s=n(9618),c=n(7624),u=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(r.LR.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||r.YM.EMPTY_STRING,e.tenantId||r.YM.EMPTY_STRING].join(r.LR.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,n){var o=new e;n.authorityType===s.I.Adfs?o.authorityType=r.Qd.ADFS_ACCOUNT_TYPE:n.protocolMode===c.e.AAD?o.authorityType=r.Qd.MSSTS_ACCOUNT_TYPE:o.authorityType=r.Qd.GENERIC_ACCOUNT_TYPE,o.clientInfo=t.clientInfo,o.homeAccountId=t.homeAccountId,o.nativeAccountId=t.nativeAccountId;var i=t.environment||n&&n.getPreferredCache();if(!i)throw a.e.createInvalidCacheEnvironmentError();if(o.environment=i,o.realm=t.idTokenClaims.tid||r.YM.EMPTY_STRING,o.idTokenClaims=t.idTokenClaims,o.localAccountId=t.idTokenClaims.oid||t.idTokenClaims.sub||r.YM.EMPTY_STRING,o.authorityType===r.Qd.MSSTS_ACCOUNT_TYPE){var u=t.idTokenClaims.preferred_username,l=t.idTokenClaims.emails?t.idTokenClaims.emails[0]:null;o.username=u||l||""}else o.username=t.idTokenClaims.upn||"";return o.name=t.idTokenClaims.name,o.cloudGraphHostName=t.cloudGraphHostName,o.msGraphHost=t.msGraphHost,o},e.createFromAccountInfo=function(t,n,o){var i=new e;return i.authorityType=t.authorityType||r.Qd.GENERIC_ACCOUNT_TYPE,i.homeAccountId=t.homeAccountId,i.localAccountId=t.localAccountId,i.nativeAccountId=t.nativeAccountId,i.realm=t.tenantId,i.environment=t.environment,i.username=t.username,i.name=t.name,i.idTokenClaims=t.idTokenClaims,i.cloudGraphHostName=n,i.msGraphHost=o,i},e.generateHomeAccountId=function(e,t,n,a,c){var u=(null==c?void 0:c.sub)?c.sub:r.YM.EMPTY_STRING;if(t===s.I.Adfs||t===s.I.Dsts)return u;if(e)try{var l=(0,o.k)(e,a);if(!i.$.isEmpty(l.uid)&&!i.$.isEmpty(l.utid))return""+l.uid+r.LR.CLIENT_INFO_SEPARATOR+l.utid}catch(d){}return n.verbose("No client info in response"),u},e.isAccountEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))},e.accountInfoIsEqual=function(e,t,n){if(!e||!t)return!1;var r=!0;if(n){var o=e.idTokenClaims||{},i=t.idTokenClaims||{};r=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r},e}()},6368:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(9483),o=n(6894),i={code:"unexpected_error",desc:"Unexpected error in authentication."},a={code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},s=function(e){function t(n,r,i){var a=this,s=r?n+": "+r:n;return a=e.call(this,s)||this,Object.setPrototypeOf(a,t.prototype),a.errorCode=n||o.YM.EMPTY_STRING,a.errorMessage=r||o.YM.EMPTY_STRING,a.subError=i||o.YM.EMPTY_STRING,a.name="AuthError",a}return(0,r.C6)(t,e),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(i.code,i.desc+": "+e)},t.createPostRequestFailed=function(e){return new t(a.code,a.desc+": "+e)},t}(Error)},3273:function(e,t,n){"use strict";n.d(t,{N:function(){return i},e:function(){return a}});var r=n(9483),o=n(6368),i={clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoEmptyError:{code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},tokenParsingError:{code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},nullOrEmptyToken:{code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},networkError:{code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},unableToGetOpenidConfigError:{code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},hashNotDeserialized:{code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},blankGuidGenerated:{code:"blank_guid_generated",desc:"The guid generated was blank. Please review the trace to determine the root cause."},invalidStateError:{code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},stateMismatchError:{code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},stateNotFoundError:{code:"state_not_found",desc:"State not found"},nonceMismatchError:{code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},nonceNotFoundError:{code:"nonce_not_found",desc:"nonce not found"},authTimeNotFoundError:{code:"auth_time_not_found",desc:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information."},maxAgeTranspiredError:{code:"max_age_transpired",desc:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication."},noTokensFoundError:{code:"no_tokens_found",desc:"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken()."},multipleMatchingTokens:{code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},multipleMatchingAccounts:{code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},multipleMatchingAppMetadata:{code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},tokenRequestCannotBeMade:{code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},appendEmptyScopeError:{code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},removeEmptyScopeError:{code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},appendScopeSetError:{code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},emptyInputScopeSetError:{code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},DeviceCodePollingCancelled:{code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},DeviceCodeExpired:{code:"device_code_expired",desc:"Device code is expired."},DeviceCodeUnknownError:{code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},NoAccountInSilentRequest:{code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},invalidCacheRecord:{code:"invalid_cache_record",desc:"Cache record object was null or undefined."},invalidCacheEnvironment:{code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},noAccountFound:{code:"no_account_found",desc:"No account found in cache for given key."},CachePluginError:{code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},noCryptoObj:{code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},unexpectedAccountType:{code:"unexpected_account_type",desc:"Unexpected account type."},unexpectedCredentialType:{code:"unexpected_credential_type",desc:"Unexpected credential type."},invalidAssertion:{code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},invalidClientCredential:{code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},tokenRefreshRequired:{code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},userTimeoutReached:{code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},tokenClaimsRequired:{code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},noAuthorizationCodeFromServer:{code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},noAzureRegionDetected:{code:"no_azure_region_detected",desc:"No azure region was detected and no fallback was made available"},accessTokenEntityNullError:{code:"access_token_entity_null",desc:"Access token entity is null, please check logs and cache to ensure a valid access token is present."},bindingKeyNotRemovedError:{code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},logoutNotSupported:{code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},keyIdMissing:{code:"key_id_missing",desc:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},userCanceledError:{code:"user_canceled",desc:"User canceled the flow."}},a=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,t.prototype),o}return(0,r.C6)(t,e),t.createClientInfoDecodingError=function(e){return new t(i.clientInfoDecodingError.code,i.clientInfoDecodingError.desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(i.clientInfoEmptyError.code,""+i.clientInfoEmptyError.desc)},t.createTokenParsingError=function(e){return new t(i.tokenParsingError.code,i.tokenParsingError.desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(i.nullOrEmptyToken.code,i.nullOrEmptyToken.desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(i.endpointResolutionError.code,i.endpointResolutionError.desc+" Detail: "+e)},t.createNetworkError=function(e,n){return new t(i.networkError.code,i.networkError.desc+" | Fetch client threw: "+n+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(i.unableToGetOpenidConfigError.code,i.unableToGetOpenidConfigError.desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(i.hashNotDeserialized.code,i.hashNotDeserialized.desc+" Given Object: "+e)},t.createInvalidStateError=function(e,n){return new t(i.invalidStateError.code,i.invalidStateError.desc+" Invalid State: "+e+", Root Err: "+n)},t.createStateMismatchError=function(){return new t(i.stateMismatchError.code,i.stateMismatchError.desc)},t.createStateNotFoundError=function(e){return new t(i.stateNotFoundError.code,i.stateNotFoundError.desc+":  "+e)},t.createNonceMismatchError=function(){return new t(i.nonceMismatchError.code,i.nonceMismatchError.desc)},t.createAuthTimeNotFoundError=function(){return new t(i.authTimeNotFoundError.code,i.authTimeNotFoundError.desc)},t.createMaxAgeTranspiredError=function(){return new t(i.maxAgeTranspiredError.code,i.maxAgeTranspiredError.desc)},t.createNonceNotFoundError=function(e){return new t(i.nonceNotFoundError.code,i.nonceNotFoundError.desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(i.multipleMatchingTokens.code,i.multipleMatchingTokens.desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(i.multipleMatchingAccounts.code,i.multipleMatchingAccounts.desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(i.multipleMatchingAppMetadata.code,i.multipleMatchingAppMetadata.desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(i.tokenRequestCannotBeMade.code,i.tokenRequestCannotBeMade.desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(i.appendEmptyScopeError.code,i.appendEmptyScopeError.desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(i.removeEmptyScopeError.code,i.removeEmptyScopeError.desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(i.appendScopeSetError.code,i.appendScopeSetError.desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(i.emptyInputScopeSetError.code,""+i.emptyInputScopeSetError.desc)},t.createDeviceCodeCancelledError=function(){return new t(i.DeviceCodePollingCancelled.code,""+i.DeviceCodePollingCancelled.desc)},t.createDeviceCodeExpiredError=function(){return new t(i.DeviceCodeExpired.code,""+i.DeviceCodeExpired.desc)},t.createDeviceCodeUnknownError=function(){return new t(i.DeviceCodeUnknownError.code,""+i.DeviceCodeUnknownError.desc)},t.createNoAccountInSilentRequestError=function(){return new t(i.NoAccountInSilentRequest.code,""+i.NoAccountInSilentRequest.desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(i.invalidCacheRecord.code,i.invalidCacheRecord.desc)},t.createInvalidCacheEnvironmentError=function(){return new t(i.invalidCacheEnvironment.code,i.invalidCacheEnvironment.desc)},t.createNoAccountFoundError=function(){return new t(i.noAccountFound.code,i.noAccountFound.desc)},t.createCachePluginError=function(){return new t(i.CachePluginError.code,""+i.CachePluginError.desc)},t.createNoCryptoObjectError=function(e){return new t(i.noCryptoObj.code,""+i.noCryptoObj.desc+e)},t.createInvalidCacheTypeError=function(){return new t(i.invalidCacheType.code,""+i.invalidCacheType.desc)},t.createUnexpectedAccountTypeError=function(){return new t(i.unexpectedAccountType.code,""+i.unexpectedAccountType.desc)},t.createUnexpectedCredentialTypeError=function(){return new t(i.unexpectedCredentialType.code,""+i.unexpectedCredentialType.desc)},t.createInvalidAssertionError=function(){return new t(i.invalidAssertion.code,""+i.invalidAssertion.desc)},t.createInvalidCredentialError=function(){return new t(i.invalidClientCredential.code,""+i.invalidClientCredential.desc)},t.createRefreshRequiredError=function(){return new t(i.tokenRefreshRequired.code,i.tokenRefreshRequired.desc)},t.createUserTimeoutReachedError=function(){return new t(i.userTimeoutReached.code,i.userTimeoutReached.desc)},t.createTokenClaimsRequiredError=function(){return new t(i.tokenClaimsRequired.code,i.tokenClaimsRequired.desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(i.noAuthorizationCodeFromServer.code,i.noAuthorizationCodeFromServer.desc)},t.createBindingKeyNotRemovedError=function(){return new t(i.bindingKeyNotRemovedError.code,i.bindingKeyNotRemovedError.desc)},t.createLogoutNotSupportedError=function(){return new t(i.logoutNotSupported.code,i.logoutNotSupported.desc)},t.createKeyIdMissingError=function(){return new t(i.keyIdMissing.code,i.keyIdMissing.desc)},t.createNoNetworkConnectivityError=function(){return new t(i.noNetworkConnectivity.code,i.noNetworkConnectivity.desc)},t.createUserCanceledError=function(){return new t(i.userCanceledError.code,i.userCanceledError.desc)},t}(o.l)},6097:function(e,t,n){"use strict";n.d(t,{$D:function(){return c},CB:function(){return u}});var r=n(9483),o=n(6894),i=n(6368),a=["interaction_required","consent_required","login_required"],s=["message_only","additional_action","basic_action","user_password_expired","consent_required"],c={noTokensFoundError:{code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},native_account_unavailable:{code:"native_account_unavailable",desc:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."}},u=function(e){function t(n,r,i,a,s,c,u){var l=e.call(this,n,r,i)||this;return Object.setPrototypeOf(l,t.prototype),l.timestamp=a||o.YM.EMPTY_STRING,l.traceId=s||o.YM.EMPTY_STRING,l.correlationId=c||o.YM.EMPTY_STRING,l.claims=u||o.YM.EMPTY_STRING,l.name="InteractionRequiredAuthError",l}return(0,r.C6)(t,e),t.isInteractionRequiredError=function(e,t,n){var r=!!e&&a.indexOf(e)>-1,o=!!n&&s.indexOf(n)>-1,i=!!t&&a.some((function(e){return t.indexOf(e)>-1}));return r||i||o},t.createNoTokensFoundError=function(){return new t(c.noTokensFoundError.code,c.noTokensFoundError.desc)},t.createNativeAccountUnavailableError=function(){return new t(c.native_account_unavailable.code,c.native_account_unavailable.desc)},t}(i.l)},1736:function(e,t,n){"use strict";n.d(t,{$:function(){return r},V:function(){return a}});var r,o=n(8261),i=n(6894);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(r||(r={}));var a=function(){function e(t,n,o){this.level=r.Info;var a=t||e.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||function(){},this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level="number"==typeof a.logLevel?a.logLevel:r.Info,this.correlationId=a.correlationId||i.YM.EMPTY_STRING,this.packageName=n||i.YM.EMPTY_STRING,this.packageVersion=o||i.YM.EMPTY_STRING}return e.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:r.Info}},e.prototype.clone=function(t,n,r){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,n)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var n=(new Date).toUTCString(),i=(o.$.isEmpty(t.correlationId)?o.$.isEmpty(this.correlationId)?"["+n+"]":"["+n+"] : ["+this.correlationId+"]":"["+n+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+r[t.logLevel]+" - "+e;this.executeCallback(t.logLevel,i,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}()},6894:function(e,t,n){"use strict";n.d(t,{$x:function(){return g},E_:function(){return w},Fq:function(){return s},GU:function(){return b},Gd:function(){return o},I:function(){return x},IO:function(){return I},IX:function(){return M},JR:function(){return _},Kk:function(){return R},LR:function(){return y},OK:function(){return r},PT:function(){return C},Qd:function(){return m},Rv:function(){return O},Tq:function(){return A},Xw:function(){return H},YM:function(){return u},_2:function(){return N},_A:function(){return d},_M:function(){return p},aG:function(){return v},aZ:function(){return l},gT:function(){return k},hB:function(){return T},iF:function(){return E},jZ:function(){return P},lB:function(){return a},nN:function(){return h},p:function(){return f},u0:function(){return S},v2:function(){return i}});var r,o,i,a,s,c=n(9483),u={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},l=[u.OPENID_SCOPE,u.PROFILE_SCOPE,u.OFFLINE_ACCESS_SCOPE],d=(0,c.aN)(l,[u.EMAIL_SCOPE]);!function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox",e.WWWAuthenticate="WWW-Authenticate",e.AuthenticationInfo="Authentication-Info",e.X_MS_REQUEST_ID="x-ms-request-id",e.X_MS_HTTP_VERSION="x-ms-httpver"}(r||(r={})),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account",e.ACTIVE_ACCOUNT_FILTERS="active-account-filters"}(o||(o={})),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(i||(i={})),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.X_APP_NAME="x-app-name",e.X_APP_VER="x-app-ver",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox",e.RETURN_SPA_CODE="return_spa_code",e.NATIVE_BROKER="nativebroker",e.LOGOUT_HINT="logout_hint"}(a||(a={})),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(s||(s={}));var h,p={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"};!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(h||(h={}));var f,g,m,y,v,C,E={PLAIN:"plain",S256:"S256"};!function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(f||(f={})),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(g||(g={})),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(m||(m={})),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(y||(y={})),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(v||(v={})),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(C||(C={}));var w,b="appmetadata",_="client_info",T="1",S={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400};!function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network",e.HARDCODED_VALUES="hardcoded_values"}(w||(w={}));var I,k={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(e){e.BEARER="Bearer",e.POP="pop",e.SSH="ssh-cert"}(I||(I={}));var A,R,P,N,O,M,H={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},x={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"};!function(e){e.username="username",e.password="password"}(A||(A={})),function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(R||(R={})),function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(P||(P={})),function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(N||(N={})),function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4",e.CLAIMS_REQUESTED_CACHE_SKIPPED="5"}(O||(O={})),function(e){e.Jwt="JWT",e.Jwk="JWK",e.Pop="pop"}(M||(M={}))},8261:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(3273),o=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw r.e.createTokenNullOrEmptyError(t);var n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw r.e.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:n[1],JWSPayload:n[2],JWSSig:n[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var n=JSON.parse(t);return 0===Object.keys(n).length}catch(r){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t={},n=e.split("&"),r=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return n.forEach((function(e){if(e.trim()){var n=e.split(/=(.+)/g,2),o=n[0],i=n[1];o&&i&&(t[r(o)]=r(i))}})),t},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(t){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}()},1262:function(e,t,n){"use strict";n.d(t,{e7:function(){return k},kI:function(){return H},r7:function(){return _},hj:function(){return A},XI:function(){return I},dk:function(){return T}});var r=n(6540),o=n(5351),i={initialize:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},acquireTokenPopup:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},acquireTokenRedirect:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},acquireTokenSilent:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},acquireTokenByCode:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},getAllAccounts:function(){return[]},getAccountByHomeId:function(){return null},getAccountByUsername:function(){return null},getAccountByLocalId:function(){return null},handleRedirectPromise:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},loginPopup:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},loginRedirect:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},logout:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},logoutRedirect:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},logoutPopup:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},ssoSilent:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())},addEventCallback:function(){return null},removeEventCallback:function(){},addPerformanceCallback:function(){return""},removePerformanceCallback:function(){return!1},enableAccountStorageEvents:function(){},disableAccountStorageEvents:function(){},getTokenCache:function(){throw o.X.createStubPcaInstanceCalledError()},getLogger:function(){throw o.X.createStubPcaInstanceCalledError()},setLogger:function(){},setActiveAccount:function(){},getActiveAccount:function(){return null},initializeWrapperLibrary:function(){},setNavigationClient:function(){},getConfiguration:function(){throw o.X.createStubPcaInstanceCalledError()},hydrateCache:function(){return Promise.reject(o.X.createStubPcaInstanceCalledError())}},a=n(9789),s=n(1736),c=n(59),u=function(){function e(){}return e.getInteractionStatusFromEvent=function(e,t){switch(e.eventType){case c.B.LOGIN_START:return a.T$.Login;case c.B.SSO_SILENT_START:return a.T$.SsoSilent;case c.B.ACQUIRE_TOKEN_START:if(e.interactionType===a.X8.Redirect||e.interactionType===a.X8.Popup)return a.T$.AcquireToken;break;case c.B.HANDLE_REDIRECT_START:return a.T$.HandleRedirect;case c.B.LOGOUT_START:return a.T$.Logout;case c.B.SSO_SILENT_SUCCESS:case c.B.SSO_SILENT_FAILURE:if(t&&t!==a.T$.SsoSilent)break;return a.T$.None;case c.B.LOGOUT_END:if(t&&t!==a.T$.Logout)break;return a.T$.None;case c.B.HANDLE_REDIRECT_END:if(t&&t!==a.T$.HandleRedirect)break;return a.T$.None;case c.B.LOGIN_SUCCESS:case c.B.LOGIN_FAILURE:case c.B.ACQUIRE_TOKEN_SUCCESS:case c.B.ACQUIRE_TOKEN_FAILURE:case c.B.RESTORE_FROM_BFCACHE:if(e.interactionType===a.X8.Redirect||e.interactionType===a.X8.Popup){if(t&&t!==a.T$.Login&&t!==a.T$.AcquireToken)break;return a.T$.None}}return null},e}(),l=n(9186),d=n(6368),h=n(6894),p=n(6097);const f={instance:i,inProgress:a.T$.None,accounts:[],logger:new s.V({})},g=(0,r.createContext)(f);g.Consumer;function m(e,t){return"function"==typeof e?e(t):e}function y(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}function v(e,t){if(e.length>0&&(t.homeAccountId||t.localAccountId||t.username)){return e.filter((e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&((!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase()))))[0]||null}return null}const C="@azure/msal-react",E="1.5.13";var w;!function(e){e.UNBLOCK_INPROGRESS="UNBLOCK_INPROGRESS",e.EVENT="EVENT"}(w||(w={}));const b=(e,t)=>{const{type:n,payload:r}=t;let o=e.inProgress;switch(n){case w.UNBLOCK_INPROGRESS:e.inProgress===a.T$.Startup&&(o=a.T$.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case w.EVENT:const t=r.message,i=u.getInteractionStatusFromEvent(t,e.inProgress);i&&(r.logger.info(`MsalProvider - ${t.eventType} results in setting inProgress from ${e.inProgress} to ${i}`),o=i);break;default:throw new Error(`Unknown action type: ${n}`)}const i=r.instance.getAllAccounts();return o===e.inProgress||y(i,e.accounts)?o!==e.inProgress?{...e,inProgress:o}:y(i,e.accounts)?e:{...e,accounts:i}:{...e,inProgress:o,accounts:i}};function _(e){let{instance:t,children:n}=e;(0,r.useEffect)((()=>{t.initializeWrapperLibrary(a.f7.React,E)}),[t]);const o=(0,r.useMemo)((()=>t.getLogger().clone(C,E)),[t]),[i,s]=(0,r.useReducer)(b,void 0,(()=>({inProgress:a.T$.Startup,accounts:t.getAllAccounts()})));(0,r.useEffect)((()=>{const e=t.addEventCallback((e=>{s({payload:{instance:t,logger:o,message:e},type:w.EVENT})}));return o.verbose(`MsalProvider - Registered event callback with id: ${e}`),t.initialize().then((()=>{t.handleRedirectPromise().catch((()=>{})).finally((()=>{s({payload:{instance:t,logger:o},type:w.UNBLOCK_INPROGRESS})}))})),()=>{e&&(o.verbose(`MsalProvider - Removing event callback ${e}`),t.removeEventCallback(e))}}),[t,o]);const c={instance:t,inProgress:i.inProgress,accounts:i.accounts,logger:o};return r.createElement(g.Provider,{value:c},n)}const T=()=>(0,r.useContext)(g);function S(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!v(e,t):e.length>0}function I(e){const{accounts:t,inProgress:n}=T(),[o,i]=(0,r.useState)((()=>n!==a.T$.Startup&&S(t,e)));return(0,r.useEffect)((()=>{i(S(t,e))}),[t,e]),o}function k(e){let{username:t,homeAccountId:n,localAccountId:o,children:i}=e;const s=T();return I((0,r.useMemo)((()=>({username:t,homeAccountId:n,localAccountId:o})),[t,n,o]))&&s.inProgress!==a.T$.Startup?r.createElement(r.Fragment,null,m(i,s)):null}function A(e){let{username:t,homeAccountId:n,localAccountId:o,children:i}=e;const s=T();return I((0,r.useMemo)((()=>({username:t,homeAccountId:n,localAccountId:o})),[t,n,o]))||s.inProgress===a.T$.Startup||s.inProgress===a.T$.HandleRedirect?null:r.createElement(r.Fragment,null,m(i,s))}function R(e,t){return t&&(t.homeAccountId||t.localAccountId||t.username)?v(e.getAllAccounts(),t):e.getActiveAccount()}const P={code:"invalid_interaction_type",desc:"The provided interaction type is invalid."},N={code:"unable_to_fallback_to_interaction",desc:"Interaction is required but another interaction is already in progress. Please try again when the current interaction is complete."};class O extends d.l{constructor(e,t){super(e,t),Object.setPrototypeOf(this,O.prototype),this.name="ReactAuthError"}static createInvalidInteractionTypeError(){return new O(P.code,P.desc)}static createUnableToFallbackToInteractionError(){return new O(N.code,N.desc)}}function M(e,t,n){const{instance:o,inProgress:i,logger:s}=T(),u=I(n),d=function(e){const{instance:t,inProgress:n,logger:o}=T(),[i,a]=(0,r.useState)((()=>R(t,e)));return(0,r.useEffect)((()=>{a((n=>{const r=R(t,e);return l.d.accountInfoIsEqual(n,r,!0)?n:(o.info("useAccount - Updating account"),r)}))}),[n,e,t,o]),i}(n),[[f,g],m]=(0,r.useState)([null,null]),y=(0,r.useRef)(!0);(0,r.useEffect)((()=>()=>{y.current=!1}),[]);const v=(0,r.useRef)(i!==a.T$.None);(0,r.useEffect)((()=>{v.current=i!==a.T$.None}),[i]);const C=(0,r.useRef)(!0);(0,r.useEffect)((()=>{(g||f)&&(C.current=!1)}),[g,f]);const E=(0,r.useCallback)((async(n,r)=>{const i=r||t;switch(n||e){case a.X8.Popup:return s.verbose("useMsalAuthentication - Calling loginPopup"),o.loginPopup(i);case a.X8.Redirect:return s.verbose("useMsalAuthentication - Calling loginRedirect"),o.loginRedirect(i).then(null);case a.X8.Silent:return s.verbose("useMsalAuthentication - Calling ssoSilent"),o.ssoSilent(i);default:throw O.createInvalidInteractionTypeError()}}),[o,e,t,s]),w=(0,r.useCallback)((async(n,r)=>{const i=n||e;let a;r?(s.trace("useMsalAuthentication - acquireToken - Using request provided in the callback"),a={...r}):t?(s.trace("useMsalAuthentication - acquireToken - Using request provided in the hook"),a={...t,scopes:t.scopes||h.aZ}):(s.trace("useMsalAuthentication - acquireToken - No request object provided, using default request."),a={scopes:h.aZ}),!a.account&&d&&(s.trace("useMsalAuthentication - acquireToken - Attaching account to request"),a.account=d);return(async()=>(s.verbose("useMsalAuthentication - Calling acquireTokenSilent"),o.acquireTokenSilent(a).catch((async e=>{if(e instanceof p.CB){if(v.current)throw s.error("useMsalAuthentication - Interaction required but is already in progress. Please try again, if needed, after interaction completes."),O.createUnableToFallbackToInteractionError();return s.error("useMsalAuthentication - Interaction required, falling back to interaction"),E(i,a)}throw e}))))().then((e=>(y.current&&m([e,null]),e))).catch((e=>{throw y.current&&m([null,e]),e}))}),[o,e,t,s,d,E]);return(0,r.useEffect)((()=>{const e=o.addEventCallback((e=>{switch(e.eventType){case c.B.LOGIN_SUCCESS:case c.B.SSO_SILENT_SUCCESS:e.payload&&m([e.payload,null]);break;case c.B.LOGIN_FAILURE:case c.B.SSO_SILENT_FAILURE:e.error&&m([null,e.error])}}));return s.verbose(`useMsalAuthentication - Registered event callback with id: ${e}`),()=>{e&&(s.verbose(`useMsalAuthentication - Removing event callback ${e}`),o.removeEventCallback(e))}}),[o,s]),(0,r.useEffect)((()=>{C.current&&i===a.T$.None&&(C.current=!1,u?d&&(s.info("useMsalAuthentication - User is authenticated, attempting to acquire token"),w().catch((()=>{}))):(s.info("useMsalAuthentication - No user is authenticated, attempting to login"),E().catch((()=>{}))))}),[u,d,i,E,w,s]),{login:E,acquireToken:w,result:f,error:g}}function H(e){let{interactionType:t,username:n,homeAccountId:o,localAccountId:i,authenticationRequest:s,loadingComponent:c,errorComponent:u,children:l}=e;const d=(0,r.useMemo)((()=>({username:n,homeAccountId:o,localAccountId:i})),[n,o,i]),h=T(),p=M(t,s,d),f=I(d);if(p.error&&h.inProgress===a.T$.None){if(u)return r.createElement(u,Object.assign({},p));throw p.error}return f?r.createElement(r.Fragment,null,m(l,p)):c&&h.inProgress!==a.T$.None?r.createElement(c,Object.assign({},h)):null}},6429:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,{$W:function(){return k},Kk:function(){return He},qg:function(){return Me}});var c=function(){},u={},l={},d={mark:c,measure:c};try{"undefined"!=typeof window&&(u=window),"undefined"!=typeof document&&(l=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(d=performance)}catch(xe){}var h=(u.navigator||{}).userAgent,p=void 0===h?"":h,f=u,g=l,m=d,y=(f.document,!!g.documentElement&&!!g.head&&"function"==typeof g.addEventListener&&"function"==typeof g.createElement),v=(~p.indexOf("MSIE")||p.indexOf("Trident/"),"___FONT_AWESOME___"),C="fa",E="svg-inline--fa",w="data-fa-i2svg",b=(function(){try{return!0}catch(xe){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),_=b.concat([11,12,13,14,15,16,17,18,19,20]),T={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},S=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",T.GROUP,T.SWAP_OPACITY,T.PRIMARY,T.SECONDARY].concat(b.map((function(e){return"".concat(e,"x")}))).concat(_.map((function(e){return"w-".concat(e)}))),f.FontAwesomeConfig||{});if(g&&"function"==typeof g.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=s(e,2),n=t[0],r=t[1],o=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=g.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=o&&(S[r]=o)}))}var I=a({},{familyPrefix:C,replacementClass:E,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},S);I.autoReplaceSvg||(I.observeMutations=!1);var k=a({},I);f.FontAwesomeConfig=k;var A=f||{};A[v]||(A[v]={}),A[v].styles||(A[v].styles={}),A[v].hooks||(A[v].hooks={}),A[v].shims||(A[v].shims=[]);var R=A[v],P=[];y&&((g.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(g.readyState)||g.addEventListener("DOMContentLoaded",(function e(){g.removeEventListener("DOMContentLoaded",e),P.map((function(e){return e()}))})));var N,O="pending",M="settled",H="fulfilled",x="rejected",L=function(){},D=void 0!==n.g&&void 0!==n.g.process&&"function"==typeof n.g.process.emit,q="undefined"==typeof setImmediate?setTimeout:setImmediate,U=[];function B(){for(var e=0;e<U.length;e++)U[e][0](U[e][1]);U=[],N=!1}function F(e,t){U.push([e,t]),N||(N=!0,q(B,0))}function Y(e){var t=e.owner,n=t._state,r=t._data,o=e[n],i=e.then;if("function"==typeof o){n=H;try{r=o(r)}catch(xe){z(i,xe)}}G(i,r)||(n===H&&K(i,r),n===x&&z(i,r))}function G(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===r(t))){var o=t.then;if("function"==typeof o)return o.call(t,(function(r){n||(n=!0,t===r?j(e,r):K(e,r))}),(function(t){n||(n=!0,z(e,t))})),!0}}catch(xe){return n||z(e,xe),!0}return!1}function K(e,t){e!==t&&G(e,t)||j(e,t)}function j(e,t){e._state===O&&(e._state=M,e._data=t,F(Q,e))}function z(e,t){e._state===O&&(e._state=M,e._data=t,F(W,e))}function $(e){e._then=e._then.forEach(Y)}function Q(e){e._state=H,$(e)}function W(e){e._state=x,$(e),!e._handled&&D&&n.g.process.emit("unhandledRejection",e._data,e)}function X(e){n.g.process.emit("rejectionHandled",e)}function V(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof V==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){z(t,e)}try{e((function(e){K(t,e)}),n)}catch(xe){n(xe)}}(e,this)}V.prototype={constructor:V,_state:O,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(L),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===x&&D&&F(X,this)),this._state===H||this._state===x?F(Y,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},V.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new V((function(t,n){var r=[],o=0;function i(e){return o++,function(n){r[e]=n,--o||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"==typeof a.then?a.then(i(s),n):r[s]=a;o||t(r)}))},V.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new V((function(t,n){for(var r,o=0;o<e.length;o++)(r=e[o])&&"function"==typeof r.then?r.then(t,n):t(r)}))},V.resolve=function(e){return e&&"object"===r(e)&&e.constructor===V?e:new V((function(t){t(e)}))},V.reject=function(e){return new V((function(t,n){n(e)}))};var J={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Z(e){if(e&&y){var t=g.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=g.head.childNodes,r=null,o=n.length-1;o>-1;o--){var i=n[o],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return g.head.insertBefore(t,r),e}}var ee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function te(){for(var e=12,t="";e-- >0;)t+=ee[62*Math.random()|0];return t}function ne(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function re(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function oe(e){return e.size!==J.size||e.x!==J.x||e.y!==J.y||e.rotate!==J.rotate||e.flipX||e.flipY}function ie(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,o={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var ae={x:0,y:0,width:"100%",height:"100%"};function se(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ce(e){var t=e.icons,n=t.main,r=t.mask,o=e.prefix,i=e.iconName,s=e.transform,c=e.symbol,u=e.title,l=e.maskId,d=e.titleId,h=e.extra,p=e.watchable,f=void 0!==p&&p,g=r.found?r:n,m=g.width,y=g.height,v="fak"===o,C=v?"":"fa-w-".concat(Math.ceil(m/y*16)),E=[k.replacementClass,i?"".concat(k.familyPrefix,"-").concat(i):"",C].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),b={children:[],attributes:a({},h.attributes,{"data-prefix":o,"data-icon":i,class:E,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},_=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};f&&(b.attributes[w]=""),u&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(d||te())},children:[u]});var T=a({},b,{prefix:o,iconName:i,main:n,mask:r,maskId:l,transform:s,symbol:c,styles:a({},_,h.styles)}),S=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,o=e.main,i=e.mask,s=e.maskId,c=e.transform,u=o.width,l=o.icon,d=i.width,h=i.icon,p=ie({transform:c,containerWidth:d,iconWidth:u}),f={tag:"rect",attributes:a({},ae,{fill:"white"})},g=l.children?{children:l.children.map(se)}:{},m={tag:"g",attributes:a({},p.inner),children:[se(a({tag:l.tag,attributes:a({},l.attributes,p.path)},g))]},y={tag:"g",attributes:a({},p.outer),children:[m]},v="mask-".concat(s||te()),C="clip-".concat(s||te()),E={tag:"mask",attributes:a({},ae,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:(t=h,"g"===t.tag?t.children:[t])},E]};return n.push(w,{tag:"rect",attributes:a({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(v,")")},ae)}),{children:n,attributes:r}}(T):function(e){var t=e.children,n=e.attributes,r=e.main,o=e.transform,i=re(e.styles);if(i.length>0&&(n.style=i),oe(o)){var s=ie({transform:o,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:a({},s.outer),children:[{tag:"g",attributes:a({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:a({},r.icon.attributes,s.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(T),I=S.children,A=S.attributes;return T.children=I,T.attributes=A,c?function(e){var t=e.prefix,n=e.iconName,r=e.children,o=e.attributes,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:a({},o,{id:!0===i?"".concat(t,"-").concat(k.familyPrefix,"-").concat(n):i}),children:r}]}]}(T):function(e){var t=e.children,n=e.main,r=e.mask,o=e.attributes,i=e.styles,s=e.transform;if(oe(s)&&n.found&&!r.found){var c={x:n.width/n.height/2,y:.5};o.style=re(a({},i,{"transform-origin":"".concat(c.x+s.x/16,"em ").concat(c.y+s.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}(T)}var ue=function(){},le=(k.measurePerformance&&m&&m.mark&&m.measure,function(e,t,n,r){var o,i,a,s=Object.keys(e),c=s.length,u=void 0!==r?function(e,t){return function(n,r,o,i){return e.call(t,n,r,o,i)}}(t,r):t;for(void 0===n?(o=1,a=e[s[0]]):(o=0,a=n);o<c;o++)a=u(a,e[i=s[o]],i,e);return a});function de(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,o=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!=typeof R.hooks.addPack||r?R.styles[e]=a({},R.styles[e]||{},o):R.hooks.addPack(e,o),"fas"===e&&de("fa",t)}var he=R.styles,pe=R.shims,fe=function(){var e=function(e){return le(he,(function(t,n,r){return t[r]=le(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in he;le(pe,(function(e,n){var r=n[0],o=n[1],i=n[2];return"far"!==o||t||(o="fas"),e[r]={prefix:o,iconName:i},e}),{})};fe();R.styles;function ge(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function me(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,o=e.children,i=void 0===o?[]:o;return"string"==typeof e?ne(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ne(e[n]),'" ')}),"").trim()}(r),">").concat(i.map(me).join(""),"</").concat(t,">")}var ye=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],o=n.slice(1).join("-");if(r&&"h"===o)return e.flipX=!0,e;if(r&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(r){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),t):t};function ve(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve;var Ce={fill:"currentColor"},Ee={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},we={tag:"path",attributes:a({},Ce,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},be=a({},Ee,{attributeName:"opacity"});a({},Ce,{cx:"256",cy:"364",r:"28"}),a({},Ee,{attributeName:"r",values:"28;14;28;28;14;28;"}),a({},be,{values:"1;0;1;1;0;1;"}),a({},Ce,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),a({},be,{values:"1;0;0;0;0;1;"}),a({},Ce,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),a({},be,{values:"0;0;1;1;0;0;"}),R.styles;function _e(e){var t=e[0],n=e[1],r=s(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(k.familyPrefix,"-").concat(T.GROUP)},children:[{tag:"path",attributes:{class:"".concat(k.familyPrefix,"-").concat(T.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(k.familyPrefix,"-").concat(T.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}R.styles;var Te='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function Se(){var e=C,t=E,n=k.familyPrefix,r=k.replacementClass,o=Te;if(n!==e||r!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");o=o.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return o}var Ie=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(t){e.definitions[t]=a({},e.definitions[t]||{},o[t]),de(t,o[t]),fe()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],o=r.prefix,i=r.iconName,a=r.icon;e[o]||(e[o]={}),e[o][i]=a})),e}}],n&&o(t.prototype,n),r&&o(t,r),e}();function ke(){k.autoAddCss&&!Oe&&(Z(Se()),Oe=!0)}function Ae(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return me(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(y){var t=g.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Re(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return ge(Ne.definitions,n,r)||ge(R.styles,n,r)}var Pe,Ne=new Ie,Oe=!1,Me={transform:function(e){return ye(e)}},He=(Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?J:n,o=t.symbol,i=void 0!==o&&o,s=t.mask,c=void 0===s?null:s,u=t.maskId,l=void 0===u?null:u,d=t.title,h=void 0===d?null:d,p=t.titleId,f=void 0===p?null:p,g=t.classes,m=void 0===g?[]:g,y=t.attributes,v=void 0===y?{}:y,C=t.styles,E=void 0===C?{}:C;if(e){var w=e.prefix,b=e.iconName,_=e.icon;return Ae(a({type:"icon"},e),(function(){return ke(),k.autoA11y&&(h?v["aria-labelledby"]="".concat(k.replacementClass,"-title-").concat(f||te()):(v["aria-hidden"]="true",v.focusable="false")),ce({icons:{main:_e(_),mask:c?_e(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:b,transform:a({},J,r),symbol:i,title:h,maskId:l,titleId:f,extra:{attributes:v,styles:E,classes:m}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Re(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Re(r||{})),Pe(n,a({},t,{mask:r}))})},6784:function(e,t,n){"use strict";n.d(t,{g:function(){return E}});var r=n(6429),o=n(5556),i=n.n(o),a=n(6540);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var g=["style"];var m=!1;try{m=!0}catch(b){}function y(e){return e&&"object"===u(e)&&e.prefix&&e.iconName&&e.icon?e:r.qg.icon?r.qg.icon(e):null===e?null:e&&"object"===u(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function v(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?l({},e,t):{}}var C=["forwardedRef"];function E(e){var t=e.forwardedRef,n=d(e,C),o=n.icon,i=n.mask,a=n.symbol,s=n.className,u=n.title,p=n.titleId,f=n.maskId,g=y(o),b=v("classes",[].concat(h(function(e){var t,n=e.beat,r=e.fade,o=e.beatFade,i=e.bounce,a=e.shake,s=e.flash,c=e.spin,u=e.spinPulse,d=e.spinReverse,h=e.pulse,p=e.fixedWidth,f=e.inverse,g=e.border,m=e.listItem,y=e.flip,v=e.size,C=e.rotation,E=e.pull,w=(l(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":i,"fa-shake":a,"fa-flash":s,"fa-spin":c,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":p,"fa-inverse":f,"fa-border":g,"fa-li":m,"fa-flip":!0===y,"fa-flip-horizontal":"horizontal"===y||"both"===y,"fa-flip-vertical":"vertical"===y||"both"===y},"fa-".concat(v),null!=v),l(t,"fa-rotate-".concat(C),null!=C&&0!==C),l(t,"fa-pull-".concat(E),null!=E),l(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),h(s.split(" ")))),_=v("transform","string"==typeof n.transform?r.qg.transform(n.transform):n.transform),T=v("mask",y(i)),S=(0,r.Kk)(g,c(c(c(c({},b),_),T),{},{symbol:a,title:u,titleId:p,maskId:f}));if(!S)return function(){var e;!m&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",g),null;var I=S.abstract,k={ref:t};return Object.keys(n).forEach((function(e){E.defaultProps.hasOwnProperty(e)||(k[e]=n[e])})),w(I[0],k)}E.displayName="FontAwesomeIcon",E.propTypes={beat:i().bool,border:i().bool,beatFade:i().bool,bounce:i().bool,className:i().string,fade:i().bool,flash:i().bool,mask:i().oneOfType([i().object,i().array,i().string]),maskId:i().string,fixedWidth:i().bool,inverse:i().bool,flip:i().oneOf([!0,!1,"horizontal","vertical","both"]),icon:i().oneOfType([i().object,i().array,i().string]),listItem:i().bool,pull:i().oneOf(["right","left"]),pulse:i().bool,rotation:i().oneOf([0,90,180,270]),shake:i().bool,size:i().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:i().bool,spinPulse:i().bool,spinReverse:i().bool,symbol:i().oneOfType([i().bool,i().string]),title:i().string,titleId:i().string,transform:i().oneOfType([i().string,i().object]),swapOpacity:i().bool},E.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var w=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),o=f(t.slice(0,r)),i=t.slice(r+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=i:e[o]=i,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[f(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=d(r,g);return i.attrs.style=c(c({},i.attrs.style),s),t.apply(void 0,[n.tag,c(c({},i.attrs),u)].concat(h(o)))}.bind(null,a.createElement)},5680:function(e,t,n){"use strict";n.d(t,{RP:function(){return u},xA:function(){return l}});var r=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),h=u(n),p=o,f=h["".concat(c,".").concat(p)]||h[p]||d[p]||i;return n?r.createElement(f,a(a({ref:t},l),{},{components:n})):r.createElement(f,a({ref:t},l))}));h.displayName="MDXCreateElement"},6395:function(e,t){"use strict";t.T=void 0;const n=[".html",".json",".js",".map",".txt",".xml",".pdf"];t.T=(e,t="always")=>{if("/"===e)return e;const r=e.endsWith("/");return((e,t)=>{for(const n of e)if(t.endsWith(n))return!0;return!1})(n,e)?e:"always"===t?r?e:`${e}/`:"never"===t&&r?e.slice(0,-1):e}},7035:function(e,t,n){"use strict";t.RV=t.z_=void 0;var r=n(3215);t.z_=r.ScrollHandler;var o=n(3721);t.RV=o.useScrollRestoration},3215:function(e,t,n){"use strict";var r=n(4994);t.__esModule=!0,t.ScrollHandler=t.ScrollContext=void 0;var o=r(n(2475)),i=r(n(6221)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(6540)),s=r(n(5556)),c=n(4351);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=a.createContext(new c.SessionStorage);t.ScrollContext=l,l.displayName="GatsbyScrollContext";var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._stateStorage=new c.SessionStorage,t._isTicking=!1,t._latestKnownScrollY=0,t.scrollListener=function(){t._latestKnownScrollY=window.scrollY,t._isTicking||(t._isTicking=!0,requestAnimationFrame(t._saveScroll.bind((0,o.default)(t))))},t.windowScroll=function(e,n){t.shouldUpdateScroll(n,t.props)&&window.scrollTo(0,e)},t.scrollToHash=function(e,n){var r=document.getElementById(e.substring(1));r&&t.shouldUpdateScroll(n,t.props)&&r.scrollIntoView()},t.shouldUpdateScroll=function(e,n){var r=t.props.shouldUpdateScroll;return!r||r.call((0,o.default)(t),e,n)},t}(0,i.default)(t,e);var n=t.prototype;return n._saveScroll=function(){var e=this.props.location.key||null;e&&this._stateStorage.save(this.props.location,e,this._latestKnownScrollY),this._isTicking=!1},n.componentDidMount=function(){var e;window.addEventListener("scroll",this.scrollListener);var t=this.props.location,n=t.key,r=t.hash;n&&(e=this._stateStorage.read(this.props.location,n)),r?this.scrollToHash(decodeURI(r),void 0):e&&this.windowScroll(e,void 0)},n.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},n.componentDidUpdate=function(e){var t,n=this.props.location,r=n.hash,o=n.key;o&&(t=this._stateStorage.read(this.props.location,o)),r?this.scrollToHash(decodeURI(r),e):this.windowScroll(t,e)},n.render=function(){return a.createElement(l.Provider,{value:this._stateStorage},this.props.children)},t}(a.Component);t.ScrollHandler=d,d.propTypes={shouldUpdateScroll:s.default.func,children:s.default.element.isRequired,location:s.default.object.isRequired}},4351:function(e,t){"use strict";t.__esModule=!0,t.SessionStorage=void 0;var n="___GATSBY_REACT_ROUTER_SCROLL",r=function(){function e(){}var t=e.prototype;return t.read=function(e,t){var r=this.getStateKey(e,t);try{var o=window.sessionStorage.getItem(r);return o?JSON.parse(o):0}catch(i){return window&&window[n]&&window[n][r]?window[n][r]:0}},t.save=function(e,t,r){var o=this.getStateKey(e,t),i=JSON.stringify(r);try{window.sessionStorage.setItem(o,i)}catch(a){window&&window[n]||(window[n]={}),window[n][o]=JSON.parse(i)}},t.getStateKey=function(e,t){var n="@@scroll|"+e.pathname;return null==t?n:n+"|"+t},e}();t.SessionStorage=r},3721:function(e,t,n){"use strict";t.__esModule=!0,t.useScrollRestoration=function(e){var t=(0,i.useLocation)(),n=(0,o.useContext)(r.ScrollContext),a=(0,o.useRef)(null);return(0,o.useLayoutEffect)((function(){if(a.current){var r=n.read(t,e);a.current.scrollTo(0,r||0)}}),[t.key]),{ref:a,onScroll:function(){a.current&&n.save(t,e,a.current.scrollTop)}}};var r=n(3215),o=n(6540),i=n(6462)},2311:function(e,t,n){"use strict";t.__esModule=!0,t.onInitialClientRender=void 0;n(5535),n(9300);t.onInitialClientRender=()=>{}},3309:function(e,t){"use strict";t.__esModule=!0,t.getForwards=function(e){return null==e?void 0:e.flatMap((e=>(null==e?void 0:e.forward)||[]))}},9300:function(e,t,n){"use strict";t.__esModule=!0,t.injectPartytownSnippet=function(e){if(!e.length)return;const t=document.querySelector("script[data-partytown]"),n=document.querySelector('iframe[src*="~partytown/partytown-sandbox-sw"]');t&&t.remove();n&&n.remove();const i=(0,o.getForwards)(e),a=document.createElement("script");a.dataset.partytown="",a.innerHTML=(0,r.partytownSnippet)({forward:i}),document.head.appendChild(a)};var r=n(4656),o=n(3309)},6877:function(e,t,n){t.components={"component---cache-caches-gatsby-plugin-offline-app-shell-js":()=>n.e(3681).then(n.bind(n,7541)),"component---src-pages-404-js":()=>n.e(5125).then(n.bind(n,3331)),"component---src-pages-login-js":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(2408)]).then(n.bind(n,4578)),"component---src-pages-logout-js":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(873)]).then(n.bind(n,8885)),"component---src-pages-my-reviews-page-js":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4644),n.e(5459)]).then(n.bind(n,482)),"component---src-pages-project-page-js":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(5204)]).then(n.bind(n,4617)),"component---src-pages-review-page-js":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4644),n.e(7237)]).then(n.bind(n,31)),"component---src-pages-test-fr-js":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(9190)]).then(n.bind(n,3373)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-about-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(2160)]).then(n.bind(n,4028)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-essentials-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(7028)]).then(n.bind(n,2084)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-index-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(2357)]).then(n.bind(n,6638)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-git-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(6668)]).then(n.bind(n,5284)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-index-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(8188)]).then(n.bind(n,9109)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-info-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(7470)]).then(n.bind(n,6388)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-js-context-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(9031)]).then(n.bind(n,9150)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-js-language-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(7516)]).then(n.bind(n,108)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-nodejs-app-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(7423)]).then(n.bind(n,3754)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-ts-language-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(7834)]).then(n.bind(n,6258)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-express-api-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(3162)]).then(n.bind(n,2768)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-index-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(5143)]).then(n.bind(n,3975)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-json-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(1893)]).then(n.bind(n,7811)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-refactoring-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(489)]).then(n.bind(n,7646)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-collections-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(4787)]).then(n.bind(n,6086)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-components-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(1800)]).then(n.bind(n,5804)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-fetch-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(6766)]).then(n.bind(n,8821)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-index-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(7394)]).then(n.bind(n,2856)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-medium-state-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(8615)]).then(n.bind(n,1928)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-routing-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(4484)]).then(n.bind(n,6256)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-start-state-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(8626)]).then(n.bind(n,2502)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-ui-library-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(4720)]).then(n.bind(n,7644)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-auths-api-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(4011)]).then(n.bind(n,9397)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-auths-hmi-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(5037)]).then(n.bind(n,8653)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-cors-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(1488)]).then(n.bind(n,6994)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-index-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(5749)]).then(n.bind(n,487)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-5-index-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(8918)]).then(n.bind(n,3696)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2020-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(3081)]).then(n.bind(n,6966)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2021-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(3404)]).then(n.bind(n,7145)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2022-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(1847)]).then(n.bind(n,2988)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-references-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(4043)]).then(n.bind(n,7111)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-repo-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(2613)]).then(n.bind(n,6236)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-to-be-deleted-dom-interaction-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(732)]).then(n.bind(n,5773)),"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-to-be-deleted-js-intro-fr-mdx":()=>Promise.all([n.e(1869),n.e(8834),n.e(3799),n.e(4661),n.e(4188),n.e(9691),n.e(261)]).then(n.bind(n,5820))}},9377:function(e,t,n){e.exports=[{plugin:n(5616),options:{plugins:[],maxWidth:650,linkImagesToOriginal:!0,showCaptions:!1,markdownCaptions:!1,backgroundColor:"white",quality:50,withWebp:!1,withAvif:!1,loading:"lazy",decoding:"async",disableBgImageOnAlpha:!1,disableBgImage:!1}},{plugin:n(5616),options:{plugins:[],maxWidth:1200,linkImagesToOriginal:!0,showCaptions:!1,markdownCaptions:!1,backgroundColor:"white",quality:50,withWebp:!1,withAvif:!1,loading:"lazy",decoding:"async",disableBgImageOnAlpha:!1,disableBgImage:!1}},{plugin:n(7914),options:{plugins:[],name:"web2course",short_name:"web2course",start_url:"/",background_color:"#f7f0eb",theme_color:"#303030",display:"standalone",icon:"src/images/favicon2.svg",cache_busting_mode:"none",include_favicon:!0,icon_options:{purpose:"any maskable"},legacy:!0,theme_color_in_head:!0,crossOrigin:"anonymous",cacheDigest:null}},{plugin:n(1468),options:{plugins:[]}},{plugin:n(1101),options:{plugins:[]}},{plugin:n(2311),options:{plugins:[]}}]},20:function(e,t,n){const r=n(9377),{getResourceURLsForPathname:o,loadPage:i,loadPageSync:a}=n(6814).Zf;t.N=function(e,t,n,s){void 0===t&&(t={});let c=r.map((n=>{if(!n.plugin[e])return;t.getResourceURLsForPathname=o,t.loadPage=i,t.loadPageSync=a;const r=n.plugin[e](t,n.options);return r&&s&&(t=s({args:t,result:r,plugin:n})),r}));return c=c.filter((e=>void 0!==e)),c.length>0?c:n?[n]:[]},t.v=(e,t,n)=>r.reduce(((n,r)=>r.plugin[e]?n.then((()=>r.plugin[e](t,r.options))):n),Promise.resolve())},700:function(e,t){t.U=()=>""},9369:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){e(n)})),(e["*"]||[]).slice().map((function(e){e(t,n)}))}}}()},8990:function(e,t,n){"use strict";n.d(t,{Yl:function(){return h},Hh:function(){return f},UA:function(){return p},QX:function(){return d}});var r=n(6462),o=n(8797),i=e=>{if(void 0===e)return e;let[t,n=""]=e.split("?");return n&&(n="?"+n),"/"===t?"/"+n:"/"===t.charAt(t.length-1)?t.slice(0,-1)+n:t+n},a=n(6491);const s=new Map;let c=[];const u=e=>{let t=e;if(-1!==e.indexOf("?")){const[n,r]=e.split("?");t=`${n}?${encodeURIComponent(r)}`}const n=decodeURIComponent(t);return(0,o.A)(n,decodeURIComponent("/js2")).split("#")[0]};function l(e){return e.startsWith("/")||e.startsWith("https://")||e.startsWith("http://")?e:new URL(e,window.location.href+(window.location.href.endsWith("/")?"":"/")).pathname}const d=e=>{c=e},h=e=>{const t=g(e),n=c.map((e=>{let{path:t,matchPath:n}=e;return{path:n,originalPath:t}})),o=(0,r.pick)(n,t);return o?i(o.route.originalPath):null},p=e=>{const t=g(e),n=c.map((e=>{let{path:t,matchPath:n}=e;return{path:n,originalPath:t}})),o=(0,r.pick)(n,t);return o?o.params:{}},f=e=>{const t=u(l(e));if(s.has(t))return s.get(t);const n=(0,a.X)(e);if(n)return f(n.toPath);let r=h(t);return r||(r=g(e)),s.set(t,r),r},g=e=>{let t=u(l(e));return"/index.html"===t&&(t="/"),t=i(t),t}},4810:function(e,t,n){"use strict";n.r(t),n.d(t,{Link:function(){return s.N_},PageRenderer:function(){return i()},Script:function(){return v.Script},ScriptStrategy:function(){return v.ScriptStrategy},Slice:function(){return g},StaticQuery:function(){return c.de},StaticQueryContext:function(){return c.G},collectedScriptsByPage:function(){return v.collectedScriptsByPage},graphql:function(){return E},navigate:function(){return s.oo},parsePath:function(){return s.Rr},prefetchPathname:function(){return C},scriptCache:function(){return v.scriptCache},scriptCallbackCache:function(){return v.scriptCallbackCache},useScrollRestoration:function(){return a.RV},useStaticQuery:function(){return c.GR},withAssetPrefix:function(){return s.Zf},withPrefix:function(){return s.Fe}});var r=n(6814),o=n(2549),i=n.n(o),a=n(7035),s=n(7078),c=n(7231),u=n(6540),l=n(700),d=n(2024);const h=e=>{let{sliceId:t,children:n}=e;const r=[u.createElement("slice-start",{id:`${t}-1`}),u.createElement("slice-end",{id:`${t}-1`})];return n&&(r.push(n),r.push(u.createElement("slice-start",{id:`${t}-2`}),u.createElement("slice-end",{id:`${t}-2`}))),r},p=e=>{let{sliceName:t,allowEmpty:n,children:r,...o}=e;const i=(0,u.useContext)(d.Jr),a=(0,u.useContext)(d.hr),s=i[t];if(!s){if(n)return null;throw new Error(`Slice "${s}" for "${t}" slot not found`)}const c=((e,t)=>Object.keys(t).length?`${e}-${(0,l.U)(t)}`:e)(s,o);let p=a[c];return p?r&&(p.hasChildren=!0):a[c]=p={props:o,sliceName:s,hasChildren:!!r},u.createElement(h,{sliceId:c},r)},f=e=>{let{sliceName:t,allowEmpty:n,children:r,...o}=e;const i=(0,u.useContext)(d.Jr),a=(0,u.useContext)(d.dd),s=i[t],c=a.get(s);if(!c){if(n)return null;throw new Error(`Slice "${s}" for "${t}" slot not found`)}return u.createElement(c.component,Object.assign({sliceContext:c.sliceContext,data:c.data},o),r)};function g(e){{const t={...e,sliceName:e.alias};delete t.alias,delete t.__renderedByLocation;const n=(0,u.useContext)(d.j$),r=y(e);if(Object.keys(r).length)throw new m("browser"===n.renderEnvironment,t.sliceName,r,e.__renderedByLocation);if("server"===n.renderEnvironment)return u.createElement(p,t);if("browser"===n.renderEnvironment)return u.createElement(f,t);if("engines"===n.renderEnvironment||"dev-ssr"===n.renderEnvironment)return u.createElement(f,t);if("slices"===n.renderEnvironment){let t="";try{t=`\n\nSlice component "${n.sliceRoot.name}" (${n.sliceRoot.componentPath}) tried to render <Slice alias="${e.alias}"/>`}catch{}throw new Error(`Nested slices are not supported.${t}\n\nSee https://gatsbyjs.com/docs/reference/built-in-components/gatsby-slice#nested-slices`)}throw new Error(`Slice context "${n.renderEnvironment}" is not supported.`)}}class m extends Error{constructor(e,t,n,r){const o=Object.entries(n).map((e=>{let[t,n]=e;return`not serializable "${n}" type passed to "${t}" prop`})).join(", "),i="SlicePropsError";let a="",s="";if(e){const e=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactDebugCurrentFrame.getCurrentStack().trim().split("\n").slice(1);e[0]=e[0].trim(),a="\n"+e.join("\n"),s=`Slice "${t}" was passed props that are not serializable (${o}).`}else{s=`${i}: Slice "${t}" was passed props that are not serializable (${o}).`;a=`${s}\n${(new Error).stack.trim().split("\n").slice(2).join("\n")}`}super(s),this.name=i,a?this.stack=a:Error.captureStackTrace(this,m),r&&(this.forcedLocation={...r,functionName:"Slice"})}}const y=function(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===r&&(r=null);for(const[o,i]of Object.entries(e)){if(null==i||!r&&"children"===o)continue;const e=r?`${r}.${o}`:o;"function"==typeof i?t[e]=typeof i:"object"==typeof i&&n.indexOf(i)<=0&&(n.push(i),y(i,t,n,e))}return t};var v=n(5535);const C=r.Ay.enqueue;function E(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away. Unfortunately, something went wrong and the query was left in the compiled code.\n\nUnless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}},6814:function(e,t,n){"use strict";n.d(t,{Wi:function(){return u},N5:function(){return v},Ay:function(){return b},Rh:function(){return T},LE:function(){return _},Zf:function(){return w},iC:function(){return E}});var r=n(8163);const o=function(e){if("undefined"==typeof document)return!1;const t=document.createElement("link");try{if(t.relList&&"function"==typeof t.relList.supports)return t.relList.supports(e)}catch(n){return!1}return!1}("prefetch")?function(e,t){return new Promise(((n,r)=>{if("undefined"==typeof document)return void r();const o=document.createElement("link");o.setAttribute("rel","prefetch"),o.setAttribute("href",e),Object.keys(t).forEach((e=>{o.setAttribute(e,t[e])})),o.onload=n,o.onerror=r;(document.getElementsByTagName("head")[0]||document.getElementsByName("script")[0].parentNode).appendChild(o)}))}:function(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=()=>{200===r.status?t():n()},r.send(null)}))},i={};var a=function(e,t){return new Promise((n=>{i[e]?n():o(e,t).then((()=>{n(),i[e]=!0})).catch((()=>{}))}))},s=n(9369),c=n(8990);const u={Error:"error",Success:"success"},l=e=>{const[t,n]=e.split("?");var r;return`/js2/page-data/${"/"===t?"index":(r="/"===(r=t)[0]?r.slice(1):r).endsWith("/")?r.slice(0,-1):r}/page-data.json${n?`?${n}`:""}`},d=e=>e.startsWith("//");function h(e,t){return void 0===t&&(t="GET"),new Promise((n=>{const r=new XMLHttpRequest;r.open(t,e,!0),r.onreadystatechange=()=>{4==r.readyState&&n(r)},r.send(null)}))}const p=/bot|crawler|spider|crawling/i,f=function(e,t,n){var r;void 0===t&&(t=null);const o={componentChunkName:e.componentChunkName,path:e.path,webpackCompilationHash:e.webpackCompilationHash,matchPath:e.matchPath,staticQueryHashes:e.staticQueryHashes,getServerDataError:e.getServerDataError,slicesMap:null!==(r=e.slicesMap)&&void 0!==r?r:{}};return{component:t,head:n,json:e.result,page:o}};function g(e){return new Promise((t=>{try{const n=e.readRoot();t(n)}catch(n){if(!Object.hasOwnProperty.call(n,"_response")||!Object.hasOwnProperty.call(n,"_status"))throw n;setTimeout((()=>{g(e).then(t)}),200)}}))}class m{constructor(e,t){this.inFlightNetworkRequests=new Map,this.pageDb=new Map,this.inFlightDb=new Map,this.staticQueryDb={},this.pageDataDb=new Map,this.partialHydrationDb=new Map,this.slicesDataDb=new Map,this.sliceInflightDb=new Map,this.slicesDb=new Map,this.isPrefetchQueueRunning=!1,this.prefetchQueued=[],this.prefetchTriggered=new Set,this.prefetchCompleted=new Set,this.loadComponent=e,(0,c.QX)(t)}memoizedGet(e){let t=this.inFlightNetworkRequests.get(e);return t||(t=h(e,"GET"),this.inFlightNetworkRequests.set(e,t)),t.then((t=>(this.inFlightNetworkRequests.delete(e),t))).catch((t=>{throw this.inFlightNetworkRequests.delete(e),t}))}setApiRunner(e){this.apiRunner=e,this.prefetchDisabled=e("disableCorePrefetching").some((e=>e))}fetchPageDataJson(e){const{pagePath:t,retries:n=0}=e,r=l(t);return this.memoizedGet(r).then((r=>{const{status:o,responseText:i}=r;if(200===o)try{const n=JSON.parse(i);if(void 0===n.path)throw new Error("not a valid pageData response");const r=t.split("?")[1];return r&&!n.path.includes(r)&&(n.path+=`?${r}`),Object.assign(e,{status:u.Success,payload:n})}catch(a){}return 404===o||200===o?"/404.html"===t||"/500.html"===t?Object.assign(e,{status:u.Error}):this.fetchPageDataJson(Object.assign(e,{pagePath:"/404.html",notFound:!0})):500===o?this.fetchPageDataJson(Object.assign(e,{pagePath:"/500.html",internalServerError:!0})):n<3?this.fetchPageDataJson(Object.assign(e,{retries:n+1})):Object.assign(e,{status:u.Error})}))}fetchPartialHydrationJson(e){const{pagePath:t,retries:n=0}=e,r=l(t).replace(".json","-rsc.json");return this.memoizedGet(r).then((r=>{const{status:o,responseText:i}=r;if(200===o)try{return Object.assign(e,{status:u.Success,payload:i})}catch(a){}return 404===o||200===o?"/404.html"===t||"/500.html"===t?Object.assign(e,{status:u.Error}):this.fetchPartialHydrationJson(Object.assign(e,{pagePath:"/404.html",notFound:!0})):500===o?this.fetchPartialHydrationJson(Object.assign(e,{pagePath:"/500.html",internalServerError:!0})):n<3?this.fetchPartialHydrationJson(Object.assign(e,{retries:n+1})):Object.assign(e,{status:u.Error})}))}loadPageDataJson(e){const t=(0,c.Hh)(e);if(this.pageDataDb.has(t)){const e=this.pageDataDb.get(t);return Promise.resolve(e)}return this.fetchPageDataJson({pagePath:t}).then((e=>(this.pageDataDb.set(t,e),e)))}loadPartialHydrationJson(e){const t=(0,c.Hh)(e);if(this.partialHydrationDb.has(t)){const e=this.partialHydrationDb.get(t);return Promise.resolve(e)}return this.fetchPartialHydrationJson({pagePath:t}).then((e=>(this.partialHydrationDb.set(t,e),e)))}loadSliceDataJson(e){if(this.slicesDataDb.has(e)){const t=this.slicesDataDb.get(e);return Promise.resolve({sliceName:e,jsonPayload:t})}return h(`/js2/slice-data/${e}.json`,"GET").then((t=>{const n=JSON.parse(t.responseText);return this.slicesDataDb.set(e,n),{sliceName:e,jsonPayload:n}}))}findMatchPath(e){return(0,c.Yl)(e)}loadPage(e){const t=(0,c.Hh)(e);if(this.pageDb.has(t)){const e=this.pageDb.get(t);return e.error?Promise.resolve({error:e.error,status:e.status}):Promise.resolve(e.payload)}if(this.inFlightDb.has(t))return this.inFlightDb.get(t);const n=[this.loadAppData(),this.loadPageDataJson(t)];const o=Promise.all(n).then((e=>{const[n,o,i]=e;if(o.status===u.Error||(null==i?void 0:i.status)===u.Error)return{status:u.Error};let a=o.payload;const{componentChunkName:c,staticQueryHashes:l=[],slicesMap:d={}}=a,h={},p=Array.from(new Set(Object.values(d))),m=e=>{if(this.slicesDb.has(e.name))return this.slicesDb.get(e.name);if(this.sliceInflightDb.has(e.name))return this.sliceInflightDb.get(e.name);const t=this.loadComponent(e.componentChunkName).then((t=>{return{component:(n=t,n&&n.default||n),sliceContext:e.result.sliceContext,data:e.result.data};var n}));return this.sliceInflightDb.set(e.name,t),t.then((t=>{this.slicesDb.set(e.name,t),this.sliceInflightDb.delete(e.name)})),t};return Promise.all(p.map((e=>this.loadSliceDataJson(e)))).then((e=>{const d=[],p=[...l];for(const{jsonPayload:t,sliceName:n}of Object.values(e)){d.push({name:n,...t});for(const e of t.staticQueryHashes)p.includes(e)||p.push(e)}const y=[Promise.all(d.map(m)),this.loadComponent(c,"head")];y.push(this.loadComponent(c));const v=Promise.all(y).then((e=>{const[t,s,c]=e;h.createdAt=new Date;for(const n of t)(!n||n instanceof Error)&&(h.status=u.Error,h.error=n);let l;if((!c||c instanceof Error)&&(h.status=u.Error,h.error=c),h.status!==u.Error){if(h.status=u.Success,!0!==o.notFound&&!0!==(null==i?void 0:i.notFound)||(h.notFound=!0),a=Object.assign(a,{webpackCompilationHash:n?n.webpackCompilationHash:""}),"string"==typeof(null==i?void 0:i.payload)){l=f(a,null,s),l.partialHydration=i.payload;const e=new ReadableStream({start(e){const t=new TextEncoder;e.enqueue(t.encode(i.payload))},pull(e){e.close()},cancel(){}});return g((0,r.createFromReadableStream)(e)).then((e=>(l.partialHydration=e,l)))}l=f(a,c,s)}return l})),C=Promise.all(p.map((e=>{if(this.staticQueryDb[e]){const t=this.staticQueryDb[e];return{staticQueryHash:e,jsonPayload:t}}return this.memoizedGet(`/js2/page-data/sq/d/${e}.json`).then((t=>{const n=JSON.parse(t.responseText);return{staticQueryHash:e,jsonPayload:n}})).catch((()=>{throw new Error(`We couldn't load "/js2/page-data/sq/d/${e}.json"`)}))}))).then((e=>{const t={};return e.forEach((e=>{let{staticQueryHash:n,jsonPayload:r}=e;t[n]=r,this.staticQueryDb[n]=r})),t}));return Promise.all([v,C]).then((e=>{let n,[r,o]=e;return r&&(n={...r,staticQueryResults:o},h.payload=n,s.A.emit("onPostLoadPageResources",{page:n,pageResources:n})),this.pageDb.set(t,h),h.error?{error:h.error,status:h.status}:n})).catch((e=>({error:e,status:u.Error})))}))}));return o.then((()=>{this.inFlightDb.delete(t)})).catch((e=>{throw this.inFlightDb.delete(t),e})),this.inFlightDb.set(t,o),o}loadPageSync(e,t){void 0===t&&(t={});const n=(0,c.Hh)(e);if(this.pageDb.has(n)){var r;const e=this.pageDb.get(n);if(e.payload)return e.payload;if(null!==(r=t)&&void 0!==r&&r.withErrorDetails)return{error:e.error,status:e.status}}}shouldPrefetch(e){return!!(()=>{if("connection"in navigator&&void 0!==navigator.connection){if((navigator.connection.effectiveType||"").includes("2g"))return!1;if(navigator.connection.saveData)return!1}return!0})()&&((!navigator.userAgent||!p.test(navigator.userAgent))&&!this.pageDb.has(e))}prefetch(e){if(!this.shouldPrefetch(e))return{then:e=>e(!1),abort:()=>{}};if(this.prefetchTriggered.has(e))return{then:e=>e(!0),abort:()=>{}};const t={resolve:null,reject:null,promise:null};t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),this.prefetchQueued.push([e,t]);const n=new AbortController;return n.signal.addEventListener("abort",(()=>{const t=this.prefetchQueued.findIndex((t=>{let[n]=t;return n===e}));-1!==t&&this.prefetchQueued.splice(t,1)})),this.isPrefetchQueueRunning||(this.isPrefetchQueueRunning=!0,setTimeout((()=>{this._processNextPrefetchBatch()}),3e3)),{then:(e,n)=>t.promise.then(e,n),abort:n.abort.bind(n)}}_processNextPrefetchBatch(){(window.requestIdleCallback||(e=>setTimeout(e,0)))((()=>{const e=this.prefetchQueued.splice(0,4),t=Promise.all(e.map((e=>{let[t,n]=e;return this.prefetchTriggered.has(t)||(this.apiRunner("onPrefetchPathname",{pathname:t}),this.prefetchTriggered.add(t)),this.prefetchDisabled?n.resolve(!1):this.doPrefetch((0,c.Hh)(t)).then((()=>{this.prefetchCompleted.has(t)||(this.apiRunner("onPostPrefetchPathname",{pathname:t}),this.prefetchCompleted.add(t)),n.resolve(!0)}))})));this.prefetchQueued.length?t.then((()=>{setTimeout((()=>{this._processNextPrefetchBatch()}),3e3)})):this.isPrefetchQueueRunning=!1}))}doPrefetch(e){const t=l(e);return a(t,{crossOrigin:"anonymous",as:"fetch"}).then((()=>this.loadPageDataJson(e)))}hovering(e){this.loadPage(e)}getResourceURLsForPathname(e){const t=(0,c.Hh)(e),n=this.pageDataDb.get(t);if(n){const e=f(n.payload);return[...y(e.page.componentChunkName),l(t)]}return null}isPageNotFound(e){const t=(0,c.Hh)(e),n=this.pageDb.get(t);return!n||n.notFound}loadAppData(e){return void 0===e&&(e=0),this.memoizedGet("/js2/page-data/app-data.json").then((t=>{const{status:n,responseText:r}=t;let o;if(200!==n&&e<3)return this.loadAppData(e+1);if(200===n)try{const e=JSON.parse(r);if(void 0===e.webpackCompilationHash)throw new Error("not a valid app-data response");o=e}catch(i){}return o}))}}const y=e=>(window.___chunkMapping[e]||[]).map((e=>"/js2"+e));class v extends m{constructor(e,t,n){super((function(t,n){if(void 0===n&&(n="components"),!e[n="components"][t])throw new Error(`We couldn't find the correct component chunk with the name "${t}"`);return e[n][t]().catch((e=>e))}),t),n&&this.pageDataDb.set((0,c.Hh)(n.path),{pagePath:n.path,payload:n,status:"success"})}doPrefetch(e){return super.doPrefetch(e).then((e=>{if(e.status!==u.Success)return Promise.resolve();const t=e.payload,n=t.componentChunkName,r=y(n);return Promise.all(r.map(a)).then((()=>t))}))}loadPageDataJson(e){return super.loadPageDataJson(e).then((t=>t.notFound?d(e)?t:h(e,"HEAD").then((e=>200===e.status?{status:u.Error}:t)):t))}loadPartialHydrationJson(e){return super.loadPartialHydrationJson(e).then((t=>t.notFound?d(e)?t:h(e,"HEAD").then((e=>200===e.status?{status:u.Error}:t)):t))}}let C;const E=e=>{C=e},w={enqueue:e=>C.prefetch(e),getResourceURLsForPathname:e=>C.getResourceURLsForPathname(e),loadPage:e=>C.loadPage(e),loadPageSync:function(e,t){return void 0===t&&(t={}),C.loadPageSync(e,t)},prefetch:e=>C.prefetch(e),isPageNotFound:e=>C.isPageNotFound(e),hovering:e=>C.hovering(e),loadAppData:()=>C.loadAppData()};var b=w;function _(){return C?C.staticQueryDb:{}}function T(){return C?C.slicesDb:{}}},6017:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r=n(6540),o=n(5556),i=n.n(o),a=n(20),s=n(8990),c=n(4810),u=n(6462),l=n(9732);function d(e){let{children:t,callback:n}=e;return(0,r.useEffect)((()=>{n()})),t}const h=["link","meta","style","title","base","noscript","script","html","body"];function p(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){const r=t.cloneNode(!0);return r.setAttribute("nonce",""),r.nonce=n,n===e.nonce&&e.isEqualNode(r)}}return e.isEqualNode(t)}function f(e,t){void 0===t&&(t={html:{},body:{}});const n=new Map,r=[];for(const c of e.childNodes){var o,i;const e=c.nodeName.toLowerCase(),u=null===(o=c.attributes)||void 0===o||null===(i=o.id)||void 0===i?void 0:i.value;if(y(c)){if(m(e))if("html"===e||"body"===e)for(const n of c.attributes){const r="style"===n.name;var a;if(t[e]={...t[e]},r||(t[e][n.name]=n.value),r)t[e].style=`${null!==(a=t[e])&&void 0!==a&&a.style?t[e].style:""}${n.value} `}else{let e=c.cloneNode(!0);if(e.setAttribute("data-gatsby-head",!0),"script"===e.nodeName.toLowerCase()&&(e=g(e)),u)if(n.has(u)){var s;const t=n.get(u);null===(s=r[t].parentNode)||void 0===s||s.removeChild(r[t]),r[t]=e}else r.push(e),n.set(u,r.length-1);else r.push(e)}c.childNodes.length&&r.push(...f(c,t).validHeadNodes)}}return{validHeadNodes:r,htmlAndBodyAttributes:t}}function g(e){const t=document.createElement("script");for(const n of e.attributes)t.setAttribute(n.name,n.value);return t.innerHTML=e.innerHTML,t}function m(e){return h.includes(e)}function y(e){return 1===e.nodeType}const v=document.createElement("div"),C={html:[],body:[]},E=()=>{const{validHeadNodes:e,htmlAndBodyAttributes:t}=f(v);C.html=Object.keys(t.html),C.body=Object.keys(t.body),function(e){if(!e)return;const{html:t,body:n}=e,r=document.querySelector("html");r&&Object.entries(t).forEach((e=>{let[t,n]=e;r.setAttribute(t,n)}));const o=document.querySelector("body");o&&Object.entries(n).forEach((e=>{let[t,n]=e;o.setAttribute(t,n)}))}(t);const n=document.querySelectorAll("[data-gatsby-head]");if(0===n.length)return void document.head.append(...e);const r=[];!function(e){let{oldNodes:t,newNodes:n,onStale:r,onNew:o}=e;for(const i of t){const e=n.findIndex((e=>p(e,i)));-1===e?r(i):n.splice(e,1)}for(const i of n)o(i)}({oldNodes:n,newNodes:e,onStale:e=>e.parentNode.removeChild(e),onNew:e=>r.push(e)}),document.head.append(...r)};function w(e){let{pageComponent:t,staticQueryResults:n,pageComponentProps:o}=e;(0,r.useEffect)((()=>{if(null!=t&&t.Head){!function(e){if("function"!=typeof e)throw new Error(`Expected "Head" export to be a function got "${typeof e}".`)}(t.Head);const{render:i}=(0,l.n)(),s=r.createElement(t.Head,{location:{pathname:(e=o).location.pathname},params:e.params,data:e.data||{},serverData:e.serverData,pageContext:e.pageContext}),h=(0,a.N)("wrapRootElement",{element:s},s,(e=>{let{result:t}=e;return{element:t}})).pop();i(r.createElement(d,{callback:E},r.createElement(c.StaticQueryContext.Provider,{value:n},r.createElement(u.LocationProvider,null,h))),v)}var e;return()=>{!function(){const e=document.querySelectorAll("[data-gatsby-head]");for(const t of e)t.parentNode.removeChild(t)}(),function(e){if(!e)return;const{html:t,body:n}=e;if(t){const e=document.querySelector("html");t.forEach((t=>{e&&e.removeAttribute(t)}))}if(n){const e=document.querySelector("body");n.forEach((t=>{e&&e.removeAttribute(t)}))}}(C)}}))}function b(e){const t={...e,params:{...(0,s.UA)(e.location.pathname),...e.pageResources.json.pageContext.__params}};let n;var o;n=e.pageResources.partialHydration?e.pageResources.partialHydration:(0,r.createElement)((o=e.pageResources.component)&&o.default||o,{...t,key:e.path||e.pageResources.page.path});w({pageComponent:e.pageResources.head,staticQueryResults:e.pageResources.staticQueryResults,pageComponentProps:t});return(0,a.N)("wrapPageElement",{element:n,props:t},n,(e=>{let{result:n}=e;return{element:n,props:t}})).pop()}b.propTypes={location:i().object.isRequired,pageResources:i().object.isRequired,data:i().object,pageContext:i().object.isRequired};var _=b},6498:function(e,t,n){"use strict";var r=n(20),o=n(6540),i=n(6462),a=n(7035),s=n(7231),c=n(2024),u=n(6814),l=n(6491),d=n(9369);const h={id:"gatsby-announcer",style:{position:"absolute",top:0,width:1,height:1,padding:0,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},"aria-live":"assertive","aria-atomic":"true"};var p=n(7078);function f(e){const t=(0,l.X)(e),{hash:n,search:r}=window.location;return null!=t&&(window.___replace(t.toPath+r+n),!0)}let g="";window.addEventListener("unhandledrejection",(e=>{/loading chunk \d* failed./i.test(e.reason)&&g&&(window.location.pathname=g)}));const m=(e,t)=>{f(e.pathname)||(g=e.pathname,(0,r.N)("onPreRouteUpdate",{location:e,prevLocation:t}))},y=(e,t)=>{f(e.pathname)||(0,r.N)("onRouteUpdate",{location:e,prevLocation:t})},v=function(e,t){if(void 0===t&&(t={}),"number"==typeof e)return void i.globalHistory.navigate(e);const{pathname:n,search:o,hash:a}=(0,p.Rr)(e),s=(0,l.X)(n);if(s&&(e=s.toPath+o+a),window.___swUpdated)return void(window.location=n+o+a);const c=setTimeout((()=>{d.A.emit("onDelayedLoadPageResources",{pathname:n}),(0,r.N)("onRouteUpdateDelayed",{location:window.location})}),1e3);u.Ay.loadPage(n+o).then((r=>{if(!r||r.status===u.Wi.Error)return window.history.replaceState({},"",location.href),window.location=n,void clearTimeout(c);r&&r.page.webpackCompilationHash!==window.___webpackCompilationHash&&("serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&"activated"===navigator.serviceWorker.controller.state&&navigator.serviceWorker.controller.postMessage({gatsbyApi:"clearPathResources"}),window.location=n+o+a),(0,i.navigate)(e,t),clearTimeout(c)}))};function C(e,t){let{location:n}=t;const{pathname:o,hash:i}=n,a=(0,r.N)("shouldUpdateScroll",{prevRouterProps:e,pathname:o,routerProps:{location:n},getSavedScrollPosition:e=>[0,this._stateStorage.read(e,e.key)]});if(a.length>0)return a[a.length-1];if(e){const{location:{pathname:t}}=e;if(t===o)return i?decodeURI(i.slice(1)):[0,0]}return!0}class E extends o.Component{constructor(e){super(e),this.announcementRef=o.createRef()}componentDidUpdate(e,t){requestAnimationFrame((()=>{let e=`new page at ${this.props.location.pathname}`;document.title&&(e=document.title);const t=document.querySelectorAll("#gatsby-focus-wrapper h1");t&&t.length&&(e=t[0].textContent);const n=`Navigated to ${e}`;if(this.announcementRef.current){this.announcementRef.current.innerText!==n&&(this.announcementRef.current.innerText=n)}}))}render(){return o.createElement("div",Object.assign({},h,{ref:this.announcementRef}))}}const w=(e,t)=>{var n,r;return e.href!==t.href||(null==e||null===(n=e.state)||void 0===n?void 0:n.key)!==(null==t||null===(r=t.state)||void 0===r?void 0:r.key)};class b extends o.Component{constructor(e){super(e),m(e.location,null)}componentDidMount(){y(this.props.location,null)}shouldComponentUpdate(e){return!!w(this.props.location,e.location)&&(m(e.location,this.props.location),!0)}componentDidUpdate(e){w(e.location,this.props.location)&&y(this.props.location,e.location)}render(){return o.createElement(o.Fragment,null,this.props.children,o.createElement(E,{location:location}))}}var _=n(6017),T=n(6877);function S(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}class I extends o.Component{constructor(e){super();const{location:t,pageResources:n}=e;this.state={location:{...t},pageResources:n||u.Ay.loadPageSync(t.pathname+t.search,{withErrorDetails:!0})}}static getDerivedStateFromProps(e,t){let{location:n}=e;if(t.location.href!==n.href){return{pageResources:u.Ay.loadPageSync(n.pathname+n.search,{withErrorDetails:!0}),location:{...n}}}return{location:{...n}}}loadResources(e){u.Ay.loadPage(e).then((t=>{t&&t.status!==u.Wi.Error?this.setState({location:{...window.location},pageResources:t}):(window.history.replaceState({},"",location.href),window.location=e)}))}shouldComponentUpdate(e,t){return t.pageResources?this.state.pageResources!==t.pageResources||(this.state.pageResources.component!==t.pageResources.component||(this.state.pageResources.json!==t.pageResources.json||(!(this.state.location.key===t.location.key||!t.pageResources.page||!t.pageResources.page.matchPath&&!t.pageResources.page.path)||function(e,t,n){return S(e.props,t)||S(e.state,n)}(this,e,t)))):(this.loadResources(e.location.pathname+e.location.search),!1)}render(){return this.props.children(this.state)}}var k=I,A=n(8797),R=n(9732);const P=new u.N5(T,[],window.pageData);(0,u.iC)(P),P.setApiRunner(r.N);const{render:N,hydrate:O}=(0,R.n)();window.asyncRequires=T,window.___emitter=d.A,window.___loader=u.Zf,i.globalHistory.listen((e=>{e.location.action=e.action})),window.___push=e=>v(e,{replace:!1}),window.___replace=e=>v(e,{replace:!0}),window.___navigate=(e,t)=>v(e,t);const M="gatsby-reload-compilation-hash-match";(0,r.v)("onClientEntry").then((()=>{(0,r.N)("registerServiceWorker").filter(Boolean).length>0&&n(626);const e=e=>o.createElement(i.BaseContext.Provider,{value:{baseuri:"/",basepath:"/"}},o.createElement(_.A,e)),t=o.createContext({}),l={renderEnvironment:"browser"};class d extends o.Component{render(){const{children:e}=this.props;return o.createElement(i.Location,null,(n=>{let{location:r}=n;return o.createElement(k,{location:r},(n=>{let{pageResources:r,location:i}=n;const a=(0,u.LE)(),d=(0,u.Rh)();return o.createElement(s.G.Provider,{value:a},o.createElement(c.j$.Provider,{value:l},o.createElement(c.dd.Provider,{value:d},o.createElement(c.Jr.Provider,{value:r.page.slicesMap},o.createElement(t.Provider,{value:{pageResources:r,location:i}},e)))))}))}))}}class h extends o.Component{render(){return o.createElement(t.Consumer,null,(t=>{let{pageResources:n,location:r}=t;return o.createElement(b,{location:r},o.createElement(a.z_,{location:r,shouldUpdateScroll:C},o.createElement(i.Router,{basepath:"/js2",location:r,id:"gatsby-focus-wrapper"},o.createElement(e,Object.assign({path:"/404.html"===n.page.path||"/500.html"===n.page.path?(0,A.A)(r.pathname,"/js2"):encodeURI((n.page.matchPath||n.page.path).split("?")[0])},this.props,{location:r,pageResources:n},n.json)))))}))}}const{pagePath:p,location:f}=window;p&&"/js2"+p!==f.pathname+(p.includes("?")?f.search:"")&&!(P.findMatchPath((0,A.A)(f.pathname,"/js2"))||p.match(/^\/(404|500)(\/?|.html)$/)||p.match(/^\/offline-plugin-app-shell-fallback\/?$/))&&(0,i.navigate)("/js2"+p+(p.includes("?")?"":f.search)+f.hash,{replace:!0});const g=()=>{try{return sessionStorage}catch{return null}};u.Zf.loadPage(f.pathname+f.search).then((e=>{var t;const n=g();if(null!=e&&null!==(t=e.page)&&void 0!==t&&t.webpackCompilationHash&&e.page.webpackCompilationHash!==window.___webpackCompilationHash&&("serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&"activated"===navigator.serviceWorker.controller.state&&navigator.serviceWorker.controller.postMessage({gatsbyApi:"clearPathResources"}),n)){if(!("1"===n.getItem(M)))return n.setItem(M,"1"),void window.location.reload(!0)}if(n&&n.removeItem(M),!e||e.status===u.Wi.Error){const t=`page resources for ${f.pathname} not found. Not rendering React`;if(e&&e.error)throw console.error(t),e.error;throw new Error(t)}const i=(0,r.N)("wrapRootElement",{element:o.createElement(h,null)},o.createElement(h,null),(e=>{let{result:t}=e;return{element:t}})).pop(),a=function(){const e=o.useRef(!1);return o.useEffect((()=>{e.current||(e.current=!0,performance.mark&&performance.mark("onInitialClientRender"),(0,r.N)("onInitialClientRender"))}),[]),o.createElement(d,null,i)},s=document.getElementById("gatsby-focus-wrapper");let c=N;s&&s.children.length&&(c=O);const l=(0,r.N)("replaceHydrateFunction",void 0,c)[0];function p(){const e="undefined"!=typeof window?document.getElementById("___gatsby"):null;l(o.createElement(a,null),e)}const m=document;if("complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll)setTimeout((function(){p()}),0);else{const e=function(){m.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),p()};m.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)}}))}))},963:function(e,t,n){"use strict";n.r(t);var r=n(6540),o=n(6814),i=n(6017);t.default=e=>{let{location:t}=e;const n=o.Ay.loadPageSync(t.pathname);return n?r.createElement(i.A,{location:t,pageResources:n,...n.json}):null}},2549:function(e,t,n){var r;e.exports=(r=n(963))&&r.default||r},9732:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});const r=new WeakMap;function o(){const e=n(5338);return{render:(t,n)=>{let o=r.get(n);o||r.set(n,o=e.createRoot(n)),o.render(t)},hydrate:(t,n)=>e.hydrateRoot(n,t)}}},6491:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});const r=new Map,o=new Map;function i(e){let t=r.get(e);return t||(t=o.get(e.toLowerCase())),t}[].forEach((e=>{e.ignoreCase?o.set(e.fromPath,e):r.set(e.fromPath,e)}))},626:function(e,t,n){"use strict";n.r(t);var r=n(20);"https:"!==window.location.protocol&&"localhost"!==window.location.hostname?console.error("Service workers can only be used over HTTPS, or on localhost for development"):"serviceWorker"in navigator&&navigator.serviceWorker.register("/js2/sw.js").then((function(e){e.addEventListener("updatefound",(()=>{(0,r.N)("onServiceWorkerUpdateFound",{serviceWorker:e});const t=e.installing;t.addEventListener("statechange",(()=>{switch(t.state){case"installed":navigator.serviceWorker.controller?(window.___swUpdated=!0,(0,r.N)("onServiceWorkerUpdateReady",{serviceWorker:e}),window.___failedResources&&window.location.reload()):(0,r.N)("onServiceWorkerInstalled",{serviceWorker:e});break;case"redundant":console.error("The installing service worker became redundant."),(0,r.N)("onServiceWorkerRedundant",{serviceWorker:e});break;case"activated":(0,r.N)("onServiceWorkerActive",{serviceWorker:e})}}))}))})).catch((function(e){console.error("Error during service worker registration:",e)}))},2024:function(e,t,n){"use strict";n.d(t,{Jr:function(){return a},dd:function(){return o},hr:function(){return s},j$:function(){return i}});var r=n(6540);const o=r.createContext({}),i=r.createContext({}),a=r.createContext({}),s=r.createContext({})},7231:function(e,t,n){"use strict";n.d(t,{de:function(){return c},G:function(){return o},GR:function(){return u}});var r=n(6540);const o=(i="StaticQuery",a={},r.createServerContext?function(e,t){return void 0===t&&(t=null),globalThis.__SERVER_CONTEXT||(globalThis.__SERVER_CONTEXT={}),globalThis.__SERVER_CONTEXT[e]||(globalThis.__SERVER_CONTEXT[e]=r.createServerContext(e,t)),globalThis.__SERVER_CONTEXT[e]}(i,a):r.createContext(a));var i,a;function s(e){let{staticQueryData:t,data:n,query:o,render:i}=e;const a=n?n.data:t[o]&&t[o].data;return r.createElement(r.Fragment,null,a&&i(a),!a&&r.createElement("div",null,"Loading (StaticQuery)"))}const c=e=>{const{data:t,query:n,render:i,children:a}=e;return r.createElement(o.Consumer,null,(e=>r.createElement(s,{data:t,query:n,render:i||a,staticQueryData:e})))},u=e=>{var t;r.useContext;const n=r.useContext(o);if(isNaN(Number(e)))throw new Error(`useStaticQuery was called with a string but expects to be called using \`graphql\`. Try this:\n\nimport { useStaticQuery, graphql } from 'gatsby';\n\nuseStaticQuery(graphql\`${e}\`);\n`);if(null!==(t=n[e])&&void 0!==t&&t.data)return n[e].data;throw new Error("The result of this StaticQuery could not be fetched.\n\nThis is likely a bug in Gatsby and if refreshing the page does not fix it, please open an issue in https://github.com/gatsbyjs/gatsby/issues")}},8797:function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=""),t?e===t?"/":e.startsWith(`${t}/`)?e.slice(t.length):e:e}n.d(t,{A:function(){return r}})},1101:function(e,t,n){"use strict";n.r(t),n.d(t,{onClientEntry:function(){return Xn},onRouteUpdate:function(){return Vn},onServiceWorkerUpdateReady:function(){return Wn},wrapRootElement:function(){return Qn}});var r,o,i=n(6540),a=n(510);!function(e){e.AcquireTokenByCode="acquireTokenByCode",e.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",e.AcquireTokenSilent="acquireTokenSilent",e.AcquireTokenSilentAsync="acquireTokenSilentAsync",e.AcquireTokenPopup="acquireTokenPopup",e.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",e.CryptoOptsSignJwt="cryptoOptsSignJwt",e.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",e.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",e.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",e.SsoSilent="ssoSilent",e.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",e.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",e.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",e.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",e.BrokerHandhshake="brokerHandshake",e.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",e.AcquireTokenByBroker="acquireTokenByBroker",e.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",e.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",e.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",e.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",e.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",e.AcquireTokenFromCache="acquireTokenFromCache",e.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",e.InitializeBaseRequest="initializeBaseRequest",e.InitializeSilentRequest="initializeSilentRequest",e.InitializeClientApplication="initializeClientApplication",e.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",e.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",e.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",e.SilentHandlerLoadFrame="silentHandlerLoadFrame",e.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",e.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",e.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",e.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",e.GetAuthCodeUrl="getAuthCodeUrl",e.HandleCodeResponseFromServer="handleCodeResponseFromServer",e.HandleCodeResponseFromHash="handleCodeResponseFromHash",e.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",e.AuthClientAcquireToken="authClientAcquireToken",e.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",e.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",e.AuthClientCreateQueryString="authClientCreateQueryString",e.PopTokenGenerateCnf="popTokenGenerateCnf",e.PopTokenGenerateKid="popTokenGenerateKid",e.HandleServerTokenResponse="handleServerTokenResponse",e.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",e.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",e.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",e.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",e.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",e.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",e.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",e.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",e.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",e.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",e.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",e.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",e.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",e.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",e.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",e.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",e.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake",e.ClearTokensAndKeysWithClaims="clearTokensAndKeysWithClaims"}(r||(r={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(o||(o={}));var s,c=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"]),u=n(6894),l=n(9483),d=n(6368),h=function(e){function t(n,r,o){var i=e.call(this,n,r,o)||this;return i.name="ServerError",Object.setPrototypeOf(i,t.prototype),i}return(0,l.C6)(t,e),t}(d.l),p=n(6097),f=n(9186),g=n(9789),m={code:"missing_kid_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided."},y={code:"missing_alg_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},v=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="JoseHeaderError",Object.setPrototypeOf(o,t.prototype),o}return(0,l.C6)(t,e),t.createMissingKidError=function(){return new t(m.code,m.desc)},t.createMissingAlgError=function(){return new t(y.code,y.desc)},t}(d.l),C=function(){function e(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}return e.getShrHeaderString=function(t){if(!t.kid)throw v.createMissingKidError();if(!t.alg)throw v.createMissingAlgError();var n=new e({typ:t.typ||u.IX.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(n)},e}(),E=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),w=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,E.decimalToHex(e[0])+E.decimalToHex(e[1])+E.decimalToHex(e[2])+E.decimalToHex(e[3])+"-"+E.decimalToHex(e[4])+E.decimalToHex(e[5])+"-"+E.decimalToHex(e[6])+E.decimalToHex(e[7])+"-"+E.decimalToHex(e[8])+E.decimalToHex(e[9])+"-"+E.decimalToHex(e[10])+E.decimalToHex(e[11])+E.decimalToHex(e[12])+E.decimalToHex(e[13])+E.decimalToHex(e[14])+E.decimalToHex(e[15])}catch(a){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="0123456789abcdef",r=0,o=u.YM.EMPTY_STRING,i=0;i<36;i++)"-"!==t[i]&&"4"!==t[i]&&(r=16*Math.random()|0),"x"===t[i]?o+=n[r]:"y"===t[i]?(r&=3,o+=n[r|=8]):o+=t[i];return o}},e.prototype.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),b=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,n=0,r=e.length,o=0;o<r;o++)n+=(t=e.charCodeAt(o))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var i=new Uint8Array(n),a=0,s=0;a<n;s++)(t=e.charCodeAt(s))<128?i[a++]=t:t<2048?(i[a++]=192+(t>>>6),i[a++]=128+(63&t)):t<65536?(i[a++]=224+(t>>>12),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<2097152?(i[a++]=240+(t>>>18),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<67108864?(i[a++]=248+(t>>>24),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):(i[a++]=252+(t>>>30),i[a++]=128+(t>>>24&63),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t));return i},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return t},e.utf8ArrToString=function(e){for(var t=u.YM.EMPTY_STRING,n=void 0,r=e.length,o=0;o<r;o++)n=e[o],t+=String.fromCharCode(n>251&&n<254&&o+5<r?1073741824*(n-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>247&&n<252&&o+4<r?(n-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>239&&n<248&&o+3<r?(n-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>223&&n<240&&o+2<r?(n-224<<12)+(e[++o]-128<<6)+e[++o]-128:n>191&&n<224&&o+1<r?(n-192<<6)+e[++o]-128:n);return t},e.getSortedObjectString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),_=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,u.YM.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,u.YM.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=b.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,n=u.YM.EMPTY_STRING,r=void 0,o=e.length,i=0,a=0;a<o;a++)r=a%3,i|=e[a]<<(16>>>r&24),2!==r&&e.length-a!=1||(n+=String.fromCharCode(this.uint6ToB64(i>>>18&63),this.uint6ToB64(i>>>12&63),this.uint6ToB64(i>>>6&63),this.uint6ToB64(63&i)),i=0);return 0===t?n:n.substring(0,n.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),T=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var n=this.base64DecToArr(t);return b.utf8ArrToString(n)},e.prototype.base64DecToArr=function(e,t){for(var n=e.replace(/[^A-Za-z0-9\+\/]/g,u.YM.EMPTY_STRING),r=n.length,o=t?Math.ceil((3*r+1>>>2)/t)*t:3*r+1>>>2,i=new Uint8Array(o),a=void 0,s=void 0,c=0,l=0,d=0;d<r;d++)if(s=3&d,c|=this.b64ToUint6(n.charCodeAt(d))<<18-6*s,3===s||r-d==1){for(a=0;a<3&&l<o;a++,l++)i[l]=c>>>(16>>>a&24)&255;c=0}return i},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),S=n(8261),I={code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},k={code:"crypto_nonexistent",desc:"The crypto object or function is not available."},A={code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},R={code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},P={code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors."},N={code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},O={code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors."},M={code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},H={code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},x={code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},L={code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},D={code:"empty_window_error",desc:"window.open returned null or undefined window object."},q={code:"user_cancelled",desc:"User cancelled the flow."},U={code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},B={code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},F={code:"redirect_in_iframe",desc:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},Y={code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},G={code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},K={code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},j={code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},z={code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},$={code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'."},Q={code:"no_token_request_cache_error",desc:"No token request found in cache."},W={code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},X={code:"no_cached_authority_error",desc:"No cached authority found."},V={code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},J={code:"invalid_cache_type",desc:"Invalid cache type"},Z={code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},ee={code:"database_not_open",desc:"Database is not open!"},te={code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},ne={code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},re={code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},oe={code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},ie={code:"unable_to_load_token",desc:"Error loading token to cache."},ae={code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},se={code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},ce={code:"auth_code_or_nativeAccountId_required",desc:"An authorization code or nativeAccountId must be provided to this flow."},ue={code:"spa_code_and_nativeAccountId_present",desc:"Request cannot contain both spa code and native account id."},le={code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},de={code:"unable_to_acquire_token_from_native_platform",desc:"Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors."},he={code:"native_handshake_timeout",desc:"Timed out while attempting to establish connection to browser extension"},pe={code:"native_extension_not_installed",desc:"Native extension is not installed. If you think this is a mistake call the initialize function."},fe={code:"native_connection_not_established",desc:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors."},ge={code:"native_broker_called_before_initialize",desc:"You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors."},me={code:"native_prompt_not_supported",desc:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow."},ye=function(e){function t(n,r){var o=e.call(this,n,r)||this;return Object.setPrototypeOf(o,t.prototype),o.name="BrowserAuthError",o}return(0,a.C6)(t,e),t.createPkceNotGeneratedError=function(e){return new t(I.code,I.desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(k.code,k.desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(A.code,A.desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(R.code,R.desc)},t.createEmptyHashError=function(e){return new t(P.code,P.desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(N.code,N.desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(O.code,O.desc)},t.createUnableToParseStateError=function(){return new t(M.code,M.desc)},t.createStateInteractionTypeMismatchError=function(){return new t(H.code,H.desc)},t.createInteractionInProgressError=function(){return new t(x.code,x.desc)},t.createPopupWindowError=function(e){var n=L.desc;return n=S.$.isEmpty(e)?n:n+" Details: "+e,new t(L.code,n)},t.createEmptyWindowCreatedError=function(){return new t(D.code,D.desc)},t.createUserCancelledError=function(){return new t(q.code,q.desc)},t.createMonitorPopupTimeoutError=function(){return new t(U.code,U.desc)},t.createMonitorIframeTimeoutError=function(){return new t(B.code,B.desc)},t.createRedirectInIframeError=function(e){return new t(F.code,F.desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(Y.code,Y.desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(G.code,G.desc)},t.createIframeClosedPrematurelyError=function(){return new t(K.code,K.desc)},t.createSilentLogoutUnsupportedError=function(){return new t(j.code,j.desc)},t.createNoAccountError=function(){return new t(z.code,z.desc)},t.createSilentPromptValueError=function(e){return new t($.code,$.desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(W.code,W.desc)},t.createNoTokenRequestCacheError=function(){return new t(Q.code,Q.desc)},t.createAuthRequestNotSetError=function(){return new t(V.code,V.desc)},t.createNoCachedAuthorityError=function(){return new t(X.code,X.desc)},t.createInvalidCacheTypeError=function(){return new t(J.code,""+J.desc)},t.createNonBrowserEnvironmentError=function(){return new t(Z.code,Z.desc)},t.createDatabaseNotOpenError=function(){return new t(ee.code,ee.desc)},t.createNoNetworkConnectivityError=function(){return new t(te.code,te.desc)},t.createPostRequestFailedError=function(e,n){return new t(ne.code,ne.desc+" | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createGetRequestFailedError=function(e,n){return new t(re.code,re.desc+" | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(oe.code,oe.desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(ie.code,ie.desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(ae.code,ae.desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(se.code,se.desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(ce.code,ce.desc)},t.createSpaCodeAndNativeAccountIdPresentError=function(){return new t(ue.code,ue.desc)},t.createDatabaseUnavailableError=function(){return new t(le.code,le.desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(de.code,de.desc)},t.createNativeHandshakeTimeoutError=function(){return new t(he.code,he.desc)},t.createNativeExtensionNotInstalledError=function(){return new t(pe.code,pe.desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(fe.code,fe.desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(ge.code,ge.desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(me.code,me.desc)},t}(d.l),ve=function(){function e(e){this.base64Encode=new _,this.cryptoObj=e}return e.prototype.generateCodes=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=n.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(t){throw ye.createPkceNotGeneratedError(t)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n;return(0,a.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=r.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw n=r.sent(),ye.createPkceNotGeneratedError(n);case 3:return[2]}}))}))},e}(),Ce=function(){function e(){}return e.prototype.getRandomValues=function(e){return window.crypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,window.crypto.subtle.generateKey(e,t,n)]}))}))},e.prototype.exportKey=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){return[2,window.crypto.subtle.exportKey(g.jb,e)]}))}))},e.prototype.importKey=function(e,t,n,r){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(o){return[2,window.crypto.subtle.importKey(g.jb,e,t,n,r)]}))}))},e.prototype.sign=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,window.crypto.subtle.sign(e,t,n)]}))}))},e.prototype.digest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,window.crypto.subtle.digest(e,t)]}))}))},e}(),Ee=function(){function e(){}return e.prototype.initPrng=function(e){return window.msrCrypto.initPrng((0,a.gz)(e))},e.prototype.getRandomValues=function(e){return window.msrCrypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,window.msrCrypto.subtle.generateKey(e,t,n)]}))}))},e.prototype.exportKey=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){return[2,window.msrCrypto.subtle.exportKey(g.jb,e)]}))}))},e.prototype.importKey=function(e,t,n,r){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(o){return[2,window.msrCrypto.subtle.importKey(g.jb,e,t,n,r)]}))}))},e.prototype.sign=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,window.msrCrypto.subtle.sign(e,t,n)]}))}))},e.prototype.digest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,window.msrCrypto.subtle.digest(e,t)]}))}))},e}(),we=function(){function e(){}return e.prototype.getRandomValues=function(e){return window.msCrypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,new Promise((function(r,o){var i=window.msCrypto.subtle.generateKey(e,t,n);i.addEventListener("complete",(function(e){r(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.exportKey=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){return[2,new Promise((function(t,n){var r=window.msCrypto.subtle.exportKey(g.jb,e);r.addEventListener("complete",(function(e){var r=e.target.result,o=b.utf8ArrToString(new Uint8Array(r)).replace(/\r/g,u.YM.EMPTY_STRING).replace(/\n/g,u.YM.EMPTY_STRING).replace(/\t/g,u.YM.EMPTY_STRING).split(" ").join(u.YM.EMPTY_STRING).replace("\0",u.YM.EMPTY_STRING);try{t(JSON.parse(o))}catch(e){n(e)}})),r.addEventListener("error",(function(e){n(e)}))}))]}))}))},e.prototype.importKey=function(e,t,n,r){return(0,a.sH)(this,void 0,void 0,(function(){var o,i;return(0,a.YH)(this,(function(a){return o=b.getSortedObjectString(e),i=b.stringToArrayBuffer(o),[2,new Promise((function(e,o){var a=window.msCrypto.subtle.importKey(g.jb,i,t,n,r);a.addEventListener("complete",(function(t){e(t.target.result)})),a.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.sign=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,new Promise((function(r,o){var i=window.msCrypto.subtle.sign(e,t,n);i.addEventListener("complete",(function(e){r(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.digest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,new Promise((function(n,r){var o=window.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",(function(e){n(e.target.result)})),o.addEventListener("error",(function(e){r(e)}))}))]}))}))},e}(),be=n(5351),_e="SHA-256",Te=new Uint8Array([1,0,1]),Se=function(){function e(e,t){var n,r;if(this.logger=e,this.cryptoOptions=t,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new Ce;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new we;else{if(!this.hasMsrCrypto()||!(null===(n=this.cryptoOptions)||void 0===n?void 0:n.useMsrCrypto))throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),ye.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new Ee}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),!(null===(r=this.cryptoOptions)||void 0===r?void 0:r.entropy))throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),be.X.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:_e,modulusLength:2048,publicExponent:Te}}return e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},e.prototype.sha256Digest=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){return t=b.stringToUtf8Arr(e),[2,this.subtleCrypto.digest({name:_e},t)]}))}))},e.prototype.getRandomValues=function(e){return this.subtleCrypto.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){return[2,this.subtleCrypto.exportKey(e)]}))}))},e.prototype.importJwk=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){return[2,this.subtleCrypto.importKey(e,this.keygenAlgorithmOptions,t,n)]}))}))},e.prototype.sign=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,e,t)]}))}))},e}(),Ie=function(){function e(){this.dbName=g.$u,this.version=g.G8,this.tableName=g.WJ,this.dbOpen=!1}return e.prototype.open=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e=this;return(0,a.YH)(this,(function(t){return[2,new Promise((function(t,n){var r=window.indexedDB.open(e.dbName,e.version);r.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),r.addEventListener("success",(function(n){var r=n;e.db=r.target.result,e.dbOpen=!0,t()})),r.addEventListener("error",(function(){return n(ye.createDatabaseUnavailableError())}))}))]}))}))},e.prototype.closeConnection=function(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)},e.prototype.validateDbIsOpen=function(){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}}))}))},e.prototype.getItem=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t=this;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(ye.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",(function(e){var r=e;t.closeConnection(),n(r.target.result)})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.setItem=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n=this;return(0,a.YH)(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,o){if(!n.db)return o(ye.createDatabaseNotOpenError());var i=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).put(t,e);i.addEventListener("success",(function(){n.closeConnection(),r()})),i.addEventListener("error",(function(e){n.closeConnection(),o(e)}))}))]}}))}))},e.prototype.removeItem=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t=this;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(ye.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",(function(){t.closeConnection(),n()})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.getKeys=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e=this;return(0,a.YH)(this,(function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise((function(t,n){if(!e.db)return n(ye.createDatabaseNotOpenError());var r=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();r.addEventListener("success",(function(n){var r=n;e.closeConnection(),t(r.target.result)})),r.addEventListener("error",(function(t){e.closeConnection(),n(t)}))}))]}}))}))},e.prototype.containsKey=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t=this;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(ye.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",(function(e){var r=e;t.closeConnection(),n(1===r.target.result)})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.deleteDatabase=function(){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(e){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise((function(e,t){var n=window.indexedDB.deleteDatabase(g.$u);n.addEventListener("success",(function(){return e(!0)})),n.addEventListener("blocked",(function(){return e(!0)})),n.addEventListener("error",(function(){return t(!1)}))}))]}))}))},e}(),ke=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,n){e.push(n)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),Ae=function(){function e(e,t){this.inMemoryCache=new ke,this.indexedDBCache=new Ie,this.logger=e,this.storeName=t}return e.prototype.handleDatabaseAccessError=function(e){if(!(e instanceof ye&&e.errorCode===le.code))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},e.prototype.getItem=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n;return(0,a.YH)(this,(function(r){switch(r.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}}))}))},e.prototype.setItem=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n;return(0,a.YH)(this,(function(r){switch(r.label){case 0:this.inMemoryCache.setItem(e,t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2]}}))}))},e.prototype.removeItem=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){switch(n.label){case 0:this.inMemoryCache.removeItem(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}}))}))},e.prototype.getKeys=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t;return(0,a.YH)(this,(function(n){switch(n.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,n.sent()];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype.containsKey=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n;return(0,a.YH)(this,(function(r){switch(r.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}}))}))},e.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},e.prototype.clearPersistent=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(e=n.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,e];case 2:return t=n.sent(),this.handleDatabaseAccessError(t),[2,!1];case 3:return[2]}}))}))},e}();!function(e){e.asymmetricKeys="asymmetricKeys",e.symmetricKeys="symmetricKeys"}(s||(s={}));var Re,Pe=function(){function e(e){this.logger=e,this.asymmetricKeys=new Ae(this.logger,s.asymmetricKeys),this.symmetricKeys=new Ae(this.logger,s.symmetricKeys)}return e.prototype.clear=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e;return(0,a.YH)(this,(function(t){switch(t.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return t.sent(),[2,!0];case 3:return(e=t.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+e.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}}))}))},e}(),Ne=function(){function e(e,t,n){this.logger=e,this.browserCrypto=new Se(this.logger,n),this.b64Encode=new _,this.b64Decode=new T,this.guidGenerator=new w(this.browserCrypto),this.pkceGenerator=new ve(this.browserCrypto),this.cache=new Pe(this.logger),this.performanceClient=t}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){var n;return(0,a.sH)(this,void 0,void 0,(function(){var o,i,s,c,u,l,d,h;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return o=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(r.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return i=a.sent(),[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return s=a.sent(),c={e:s.e,kty:s.kty,n:s.n},u=b.getSortedObjectString(c),[4,this.hashString(u)];case 3:return l=a.sent(),[4,this.browserCrypto.exportJwk(i.privateKey)];case 4:return d=a.sent(),[4,this.browserCrypto.importJwk(d,!1,["sign"])];case 5:return h=a.sent(),[4,this.cache.asymmetricKeys.setItem(l,{privateKey:h,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return a.sent(),o&&o.endMeasurement({success:!0}),[2,l]}}))}))},e.prototype.removeTokenBindingKey=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}}))}))},e.prototype.clearKeystore=function(){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(e){switch(e.label){case 0:return[4,this.cache.clear()];case 1:return[2,e.sent()]}}))}))},e.prototype.signJwt=function(e,t,n){var o;return(0,a.sH)(this,void 0,void 0,(function(){var i,s,c,u,l,d,h,p,f,g,m,y,v;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return i=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(r.CryptoOptsSignJwt,n),[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(!(s=a.sent()))throw ye.createSigningKeyNotFoundInStorageError(t);return[4,this.browserCrypto.exportJwk(s.publicKey)];case 2:return c=a.sent(),u=b.getSortedObjectString(c),l=this.b64Encode.urlEncode(JSON.stringify({kid:t})),d=C.getShrHeaderString({kid:l,alg:c.alg}),h=this.b64Encode.urlEncode(d),e.cnf={jwk:JSON.parse(u)},p=this.b64Encode.urlEncode(JSON.stringify(e)),f=h+"."+p,g=b.stringToArrayBuffer(f),[4,this.browserCrypto.sign(s.privateKey,g)];case 3:return m=a.sent(),y=this.b64Encode.urlEncodeArr(new Uint8Array(m)),v=f+"."+y,i&&i.endMeasurement({success:!0}),[2,v]}}))}))},e.prototype.hashString=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n;return(0,a.YH)(this,(function(r){switch(r.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=r.sent(),n=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(n)]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e}(),Oe=n(1736),Me=function(){function e(e,t,n,r,o,i){this.authority=t,this.libraryName=r,this.libraryVersion=o,this.applicationTelemetry=i,this.clientId=e,this.logger=n,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return e.prototype.startPerformanceMeasurement=function(e,t){return{}},e.prototype.startPerformanceMeasuremeant=function(e,t){return{}},e.prototype.getIntFields=function(){return c},e.prototype.getPreQueueTime=function(e,t){var n=this.preQueueTimeByCorrelationId.get(t);if(n){if(n.name===e)return n.time;this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+e+", unable to add queue measurement")}else this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+t+", unable to add queue measurement")},e.prototype.calculateQueuedTime=function(e,t){return e<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+e),0):t<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+t),0):t<e?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):t-e},e.prototype.addQueueMeasurement=function(e,t,n,r){if(t){if(0===n)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+e+" is "+n);else if(!n)return void this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+e);var o={eventName:e,queueTime:n,manuallyCompleted:r},i=this.queueMeasurements.get(t);if(i)i.push(o),this.queueMeasurements.set(t,i);else{this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+t+" to queue measurements");var a=[o];this.queueMeasurements.set(t,a)}this.preQueueTimeByCorrelationId.delete(t)}else this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+e+", cannot add queue measurement")},e.prototype.startMeasurement=function(e,t){var n,r,i=this,a=t||this.generateId();t||this.logger.info("PerformanceClient: No correlation id provided for "+e+", generating",a),this.logger.trace("PerformanceClient: Performance measurement started for "+e,a);var s=this.startPerformanceMeasuremeant(e,a);s.startMeasurement();var c={eventId:this.generateId(),status:o.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:a,appName:null===(n=this.applicationTelemetry)||void 0===n?void 0:n.appName,appVersion:null===(r=this.applicationTelemetry)||void 0===r?void 0:r.appVersion};return this.cacheEventByCorrelationId(c),{endMeasurement:function(e){return i.endMeasurement((0,l.Cl)((0,l.Cl)({},c),e),s)},discardMeasurement:function(){return i.discardMeasurements(c.correlationId)},addStaticFields:function(e){return i.addStaticFields(e,c.correlationId)},increment:function(e){return i.increment(e,c.correlationId)},measurement:s,event:c}},e.prototype.endMeasurement=function(e,t){var n,r,i=this,a=this.eventsByCorrelationId.get(e.correlationId);if(!a)return this.logger.trace("PerformanceClient: Measurement not found for "+e.eventId,e.correlationId),null;var s=e.eventId===a.eventId,c={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};s?(c=this.getQueueInfo(e.correlationId),this.discardCache(a.correlationId)):null===(n=a.incompleteSubMeasurements)||void 0===n||n.delete(e.eventId),null==t||t.endMeasurement();var u=null==t?void 0:t.flushMeasurement();if(!u)return this.logger.trace("PerformanceClient: Performance measurement not taken",a.correlationId),null;if(this.logger.trace("PerformanceClient: Performance measurement ended for "+e.name+": "+u+" ms",e.correlationId),!s)return a[e.name+"DurationMs"]=Math.floor(u),(0,l.Cl)({},a);var d=(0,l.Cl)((0,l.Cl)({},a),e),h=0;return null===(r=d.incompleteSubMeasurements)||void 0===r||r.forEach((function(t){i.logger.trace("PerformanceClient: Incomplete submeasurement "+t.name+" found for "+e.name,d.correlationId),h++})),d.incompleteSubMeasurements=void 0,d=(0,l.Cl)((0,l.Cl)({},d),{durationMs:Math.round(u),queuedTimeMs:c.totalQueueTime,queuedCount:c.totalQueueCount,queuedManuallyCompletedCount:c.manuallyCompletedCount,status:o.Completed,incompleteSubsCount:h}),this.truncateIntegralFields(d,this.getIntFields()),this.emitEvents([d],e.correlationId),d},e.prototype.addStaticFields=function(e,t){this.logger.trace("PerformanceClient: Updating static fields");var n=this.eventsByCorrelationId.get(t);n?this.eventsByCorrelationId.set(t,(0,l.Cl)((0,l.Cl)({},n),e)):this.logger.trace("PerformanceClient: Event not found for",t)},e.prototype.increment=function(e,t){this.logger.trace("PerformanceClient: Updating counters");var n=this.eventsByCorrelationId.get(t);if(n)for(var r in e)n.hasOwnProperty(r)||(n[r]=0),n[r]+=e[r];else this.logger.trace("PerformanceClient: Event not found for",t)},e.prototype.cacheEventByCorrelationId=function(e){var t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" added/updated",e.correlationId),t.incompleteSubMeasurements=t.incompleteSubMeasurements||new Map,t.incompleteSubMeasurements.set(e.eventId,{name:e.name,startTimeMs:e.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" started",e.correlationId),this.eventsByCorrelationId.set(e.correlationId,(0,l.Cl)({},e)))},e.prototype.getQueueInfo=function(e){var t=this.queueMeasurements.get(e);t||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+e);var n=0,r=0,o=0;return null==t||t.forEach((function(e){n+=e.queueTime,r++,o+=e.manuallyCompleted?1:0})),{totalQueueTime:n,totalQueueCount:r,manuallyCompletedCount:o}},e.prototype.discardMeasurements=function(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e)},e.prototype.discardCache=function(e){this.discardMeasurements(e),this.logger.trace("PerformanceClient: QueueMeasurements discarded",e),this.queueMeasurements.delete(e),this.logger.trace("PerformanceClient: Pre-queue times discarded",e),this.preQueueTimeByCorrelationId.delete(e)},e.prototype.addPerformanceCallback=function(e){var t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+t),t},e.prototype.removePerformanceCallback=function(e){var t=this.callbacks.delete(e);return t?this.logger.verbose("PerformanceClient: Performance callback "+e+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+e+" not removed."),t},e.prototype.emitEvents=function(e,t){var n=this;this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach((function(r,o){n.logger.trace("PerformanceClient: Emitting event to callback "+o,t),r.apply(null,[e])}))},e.prototype.truncateIntegralFields=function(e,t){t.forEach((function(t){t in e&&"number"==typeof e[t]&&(e[t]=Math.floor(e[t]))}))},e}(),He=function(){function e(){}return e.prototype.startMeasurement=function(){},e.prototype.endMeasurement=function(){},e.prototype.flushMeasurement=function(){return null},e}(),xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new He},t.prototype.startPerformanceMeasurement=function(){return new He},t.prototype.calculateQueuedTime=function(e,t){return 0},t.prototype.addQueueMeasurement=function(e,t,n){},t.prototype.setPreQueueTime=function(e,t){},t}(Me),Le={createNewGuid:function(){throw d.l.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw d.l.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw d.l.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},removeTokenBindingKey:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")}))}))},clearKeystore:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")}))}))},signJwt:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))},hashString:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Crypto interface - hashString() has not been implemented")}))}))}},De=n(3273),qe=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},e.prototype.generateType=function(){switch(this.credentialType){case u.aG.ID_TOKEN:return u.PT.ID_TOKEN;case u.aG.ACCESS_TOKEN:case u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME:return u.PT.ACCESS_TOKEN;case u.aG.REFRESH_TOKEN:return u.PT.REFRESH_TOKEN;default:throw De.e.createUnexpectedCredentialTypeError()}},e.generateCredentialCacheKey=function(e,t,n,r,o,i,a,s,c){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(n,r,o,a),this.generateTargetForCacheKey(i),this.generateClaimsHashForCacheKey(c),this.generateSchemeForCacheKey(s)].join(u.LR.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(u.LR.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,n,r){return[e,e===u.aG.REFRESH_TOKEN&&r||t,n||u.YM.EMPTY_STRING].join(u.LR.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||u.YM.EMPTY_STRING).toLowerCase()},e.generateClaimsHashForCacheKey=function(e){return(e||u.YM.EMPTY_STRING).toLowerCase()},e.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==u.IO.BEARER.toLowerCase()?e.toLowerCase():u.YM.EMPTY_STRING},e}(),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),t.createIdTokenEntity=function(e,n,r,o,i){var a=new t;return a.credentialType=u.aG.ID_TOKEN,a.homeAccountId=e,a.environment=n,a.clientId=o,a.secret=r,a.realm=i,a},t.isIdTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===u.aG.ID_TOKEN)},t}(qe),Be={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},Fe={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},Ye={code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},Ge={code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},Ke={code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},je={code:"empty_url_error",desc:"URL was empty or null."},ze={code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},$e={code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},Qe={code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},We={code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},Xe={code:"token_request_empty",desc:"Token request was empty and not found in cache."},Ve={code:"logout_request_empty",desc:"The logout request was null or undefined."},Je={code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},Ze={code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},et={code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},tt={code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},nt={code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},rt={code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},ot={code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},it={code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},at={code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},st={code:"invalid_authentication_header",desc:"Invalid authentication header provided"},ct={code:"authority_mismatch",desc:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},ut=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,t.prototype),o}return(0,l.C6)(t,e),t.createRedirectUriEmptyError=function(){return new t(Be.code,Be.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Fe.code,Fe.desc)},t.createClaimsRequestParsingError=function(e){return new t(Ye.code,Ye.desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Ge.code,Ge.desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(Ke.code,Ke.desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(je.code,je.desc)},t.createEmptyScopesArrayError=function(){return new t(ze.code,""+ze.desc)},t.createClientIdSingleScopeError=function(e){return new t($e.code,$e.desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(Qe.code,Qe.desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(We.code,We.desc)},t.createEmptyLogoutRequestError=function(){return new t(Ve.code,Ve.desc)},t.createEmptyTokenRequestError=function(){return new t(Xe.code,Xe.desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(Je.code,Je.desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(Ze.code,Ze.desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(et.code,et.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(tt.code,tt.desc)},t.createUntrustedAuthorityError=function(){return new t(nt.code,nt.desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(rt.code,rt.desc)},t.createMissingSshJwkError=function(){return new t(ot.code,ot.desc)},t.createMissingSshKidError=function(){return new t(it.code,it.desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(at.code,at.desc)},t.createInvalidAuthenticationHeaderError=function(e,n){return new t(st.code,st.desc+". Invalid header: "+e+". Details: "+n)},t.createAuthorityMismatchError=function(){return new t(ct.code,ct.desc)},t}(De.e),lt=function(){function e(e){var t=this,n=e?S.$.trimArrayEntries((0,l.aN)(e)):[],r=n?S.$.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t||u.YM.EMPTY_STRING).split(" "))},e.createSearchScopes=function(t){var n=new e(t);return n.containsOnlyOIDCScopes()?n.removeScope(u.YM.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw ut.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var n=new e(this.printScopesLowerCase().split(" "));return!S.$.isEmpty(t)&&n.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)})))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return u._A.forEach((function(n){e.containsScope(n)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){S.$.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(n){throw De.e.createAppendScopeSetError(n)}},e.prototype.removeScope=function(e){if(S.$.isEmpty(e))throw De.e.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;u._A.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){if(!e)throw De.e.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw De.e.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):u.YM.EMPTY_STRING},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}(),dt=function(){function e(t,n){if(S.$.isEmpty(t))throw De.e.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,n)}return e.extractTokenClaims=function(e,t){var n=S.$.decodeAuthToken(e);try{var r=n.JWSPayload,o=t.base64Decode(r);return JSON.parse(o)}catch(i){throw De.e.createTokenParsingError(i)}},e.checkMaxAge=function(e,t){if(0===t||Date.now()-3e5>e+t)throw De.e.createMaxAgeTranspiredError()},e}(),ht="@azure/msal-common",pt="13.3.3",ft=function(){function e(e,t,n){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(ht,pt)}return e.prototype.getAllAccounts=function(){var e=this,t=this.getAccountKeys();if(t.length<1)return[];var n=t.reduce((function(t,n){var r=e.getAccount(n);return r?(t.push(r),t):t}),[]);return n.length<1?[]:n.map((function(t){return e.getAccountInfoFromEntity(t)}))},e.prototype.getAccountInfoFilteredBy=function(e){var t=this.getAccountsFilteredBy(e);return t.length>0?this.getAccountInfoFromEntity(t[0]):null},e.prototype.getAccountInfoFromEntity=function(e){var t=e.getAccountInfo(),n=this.getIdToken(t);return n&&(t.idToken=n.secret,t.idTokenClaims=new dt(n.secret,this.cryptoImpl).claims),t},e.prototype.saveCacheRecord=function(e){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(t){switch(t.label){case 0:if(!e)throw De.e.createNullOrUndefinedCacheRecord();return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}}))}))},e.prototype.saveAccessToken=function(e){return(0,l.sH)(this,void 0,void 0,(function(){var t,n,r,o,i=this;return(0,l.YH)(this,(function(a){switch(a.label){case 0:return t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=lt.fromString(e.target),o=[],n.accessToken.forEach((function(e){if(i.accessTokenKeyMatchesFilter(e,t,!1)){var n=i.getAccessTokenCredential(e);if(n&&i.credentialMatchesFilter(n,t))lt.fromString(n.target).intersectingScopeSets(r)&&o.push(i.removeAccessToken(e))}})),[4,Promise.all(o)];case 1:return a.sent(),this.setAccessTokenCredential(e),[2]}}))}))},e.prototype.getAccountsFilteredBy=function(e){var t=this,n=this.getAccountKeys(),r=[];return n.forEach((function(n){if(t.isAccountKey(n,e.homeAccountId,e.realm)){var o=t.getAccount(n);o&&(e.homeAccountId&&!t.matchHomeAccountId(o,e.homeAccountId)||e.localAccountId&&!t.matchLocalAccountId(o,e.localAccountId)||e.username&&!t.matchUsername(o,e.username)||e.environment&&!t.matchEnvironment(o,e.environment)||e.realm&&!t.matchRealm(o,e.realm)||e.nativeAccountId&&!t.matchNativeAccountId(o,e.nativeAccountId)||r.push(o))}})),r},e.prototype.isAccountKey=function(e,t,n){return!(e.split(u.LR.CACHE_KEY_SEPARATOR).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))},e.prototype.isCredentialKey=function(e){if(e.split(u.LR.CACHE_KEY_SEPARATOR).length<6)return!1;var t=e.toLowerCase();if(-1===t.indexOf(u.aG.ID_TOKEN.toLowerCase())&&-1===t.indexOf(u.aG.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(u.aG.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(u.aG.REFRESH_TOKEN.toLowerCase())>-1){var n=""+u.aG.REFRESH_TOKEN+u.LR.CACHE_KEY_SEPARATOR+this.clientId+u.LR.CACHE_KEY_SEPARATOR,r=""+u.aG.REFRESH_TOKEN+u.LR.CACHE_KEY_SEPARATOR+u.hB+u.LR.CACHE_KEY_SEPARATOR;if(-1===t.indexOf(n.toLowerCase())&&-1===t.indexOf(r.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0},e.prototype.credentialMatchesFilter=function(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"==typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===u.IO.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var n=this,r=this.getKeys(),o={};return r.forEach((function(r){if(n.isAppMetadata(r)){var i=n.getAppMetadata(r);i&&(e&&!n.matchEnvironment(i,e)||t&&!n.matchClientId(i,t)||(o[r]=i))}})),o},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,n=this.getAuthorityMetadataKeys(),r=null;return n.forEach((function(n){if(t.isAuthorityMetadata(n)&&-1!==n.indexOf(t.clientId)){var o=t.getAuthorityMetadata(n);o&&-1!==o.aliases.indexOf(e)&&(r=o)}})),r},e.prototype.removeAllAccounts=function(){return(0,l.sH)(this,void 0,void 0,(function(){var e,t,n=this;return(0,l.YH)(this,(function(r){switch(r.label){case 0:return e=this.getAccountKeys(),t=[],e.forEach((function(e){t.push(n.removeAccount(e))})),[4,Promise.all(t)];case 1:return r.sent(),[2]}}))}))},e.prototype.removeAccount=function(e){return(0,l.sH)(this,void 0,void 0,(function(){var t;return(0,l.YH)(this,(function(n){switch(n.label){case 0:if(!(t=this.getAccount(e)))throw De.e.createNoAccountFoundError();return[4,this.removeAccountContext(t)];case 1:return n.sent(),this.removeItem(e),[2]}}))}))},e.prototype.removeAccountContext=function(e){return(0,l.sH)(this,void 0,void 0,(function(){var t,n,r,o=this;return(0,l.YH)(this,(function(i){switch(i.label){case 0:return t=this.getTokenKeys(),n=e.generateAccountId(),r=[],t.idToken.forEach((function(e){0===e.indexOf(n)&&o.removeIdToken(e)})),t.accessToken.forEach((function(e){0===e.indexOf(n)&&r.push(o.removeAccessToken(e))})),t.refreshToken.forEach((function(e){0===e.indexOf(n)&&o.removeRefreshToken(e)})),[4,Promise.all(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.removeAccessToken=function(e){return(0,l.sH)(this,void 0,void 0,(function(){var t,n;return(0,l.YH)(this,(function(r){switch(r.label){case 0:if(!(t=this.getAccessTokenCredential(e)))return[2];if(t.credentialType.toLowerCase()!==u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==u.IO.POP)return[3,4];if(!(n=t.keyId))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(n)];case 2:return r.sent(),[3,4];case 3:throw r.sent(),De.e.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e)]}}))}))},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t)})),!0},e.prototype.readCacheRecord=function(e,t,n){var r=this.getTokenKeys(),o=this.readAccountFromCache(e),i=this.getIdToken(e,r),a=this.getAccessToken(e,t,r),s=this.getRefreshToken(e,!1,r),c=this.readAppMetadataFromCache(n);return o&&i&&(o.idTokenClaims=new dt(i.secret,this.cryptoImpl).claims),{account:o,idToken:i,accessToken:a,refreshToken:s,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=f.d.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.getIdToken=function(e,t){var n=this;this.commonLogger.trace("CacheManager - getIdToken called");var r={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u.aG.ID_TOKEN,clientId:this.clientId,realm:e.tenantId},o=this.getIdTokensByFilter(r,t),i=o.length;return i<1?(this.commonLogger.info("CacheManager:getIdToken - No token found"),null):i>1?(this.commonLogger.info("CacheManager:getIdToken - Multiple id tokens found, clearing them"),o.forEach((function(e){n.removeIdToken(e.generateCredentialKey())})),null):(this.commonLogger.info("CacheManager:getIdToken - Returning id token"),o[0])},e.prototype.getIdTokensByFilter=function(e,t){var n=this,r=t&&t.idToken||this.getTokenKeys().idToken,o=[];return r.forEach((function(t){if(n.idTokenKeyMatchesFilter(t,(0,l.Cl)({clientId:n.clientId},e))){var r=n.getIdTokenCredential(t);r&&n.credentialMatchesFilter(r,e)&&o.push(r)}})),o},e.prototype.idTokenKeyMatchesFilter=function(e,t){var n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))},e.prototype.removeIdToken=function(e){this.removeItem(e)},e.prototype.removeRefreshToken=function(e){this.removeItem(e)},e.prototype.getAccessToken=function(e,t,n){var r=this;this.commonLogger.trace("CacheManager - getAccessToken called");var o=lt.createSearchScopes(t.scopes),i=t.authenticationScheme||u.IO.BEARER,a=i&&i.toLowerCase()!==u.IO.BEARER.toLowerCase()?u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME:u.aG.ACCESS_TOKEN,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:a,clientId:this.clientId,realm:e.tenantId,target:o,tokenType:i,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},c=n&&n.accessToken||this.getTokenKeys().accessToken,l=[];c.forEach((function(e){if(r.accessTokenKeyMatchesFilter(e,s,!0)){var t=r.getAccessTokenCredential(e);t&&r.credentialMatchesFilter(t,s)&&l.push(t)}}));var d=l.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),l.forEach((function(e){r.removeAccessToken(e.generateCredentialKey())})),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),l[0])},e.prototype.accessTokenKeyMatchesFilter=function(e,t,n){var r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target)for(var o=t.target.asArray(),i=0;i<o.length;i++){if(n&&!r.includes(o[i].toLowerCase()))return!1;if(!n&&r.includes(o[i].toLowerCase()))return!0}return!0},e.prototype.getAccessTokensByFilter=function(e){var t=this,n=this.getTokenKeys(),r=[];return n.accessToken.forEach((function(n){if(t.accessTokenKeyMatchesFilter(n,e,!0)){var o=t.getAccessTokenCredential(n);o&&t.credentialMatchesFilter(o,e)&&r.push(o)}})),r},e.prototype.getRefreshToken=function(e,t,n){var r=this;this.commonLogger.trace("CacheManager - getRefreshToken called");var o=t?u.hB:void 0,i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u.aG.REFRESH_TOKEN,clientId:this.clientId,familyId:o},a=n&&n.refreshToken||this.getTokenKeys().refreshToken,s=[];return a.forEach((function(e){if(r.refreshTokenKeyMatchesFilter(e,i)){var t=r.getRefreshTokenCredential(e);t&&r.credentialMatchesFilter(t,i)&&s.push(t)}})),s.length<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),s[0])},e.prototype.refreshTokenKeyMatchesFilter=function(e,t){var n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))},e.prototype.readAppMetadataFromCache=function(e){var t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((function(e){return n[e]})),o=r.length;if(o<1)return null;if(o>1)throw De.e.createMultipleMatchingAppMetadataInCacheError();return r[0]},e.prototype.isAppMetadataFOCI=function(e){var t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==u.hB)},e.prototype.matchHomeAccountId=function(e,t){return!("string"!=typeof e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchLocalAccountId=function(e,t){return!("string"!=typeof e.localAccountId||t!==e.localAccountId)},e.prototype.matchUsername=function(e,t){return!("string"!=typeof e.username||t.toLowerCase()!==e.username.toLowerCase())},e.prototype.matchUserAssertionHash=function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)},e.prototype.matchEnvironment=function(e,t){var n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchNativeAccountId=function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)},e.prototype.matchTarget=function(e,t){return!(e.credentialType!==u.aG.ACCESS_TOKEN&&e.credentialType!==u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&lt.fromString(e.target).containsScopeSet(t)},e.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},e.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf(u.GU)},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf(u.u0.CACHE_KEY)},e.prototype.generateAuthorityMetadataCacheKey=function(e){return u.u0.CACHE_KEY+"-"+this.clientId+"-"+e},e.toObject=function(e,t){for(var n in t)e[n]=t[n];return e},e}(),gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),t.prototype.setAccount=function(){throw d.l.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw d.l.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw d.l.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw d.l.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw d.l.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw d.l.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw d.l.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw d.l.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw d.l.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw d.l.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw d.l.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw d.l.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw d.l.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw d.l.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw d.l.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw d.l.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw d.l.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw d.l.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw d.l.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw d.l.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.getAccountKeys=function(){throw d.l.createUnexpectedError("Storage interface - getAccountKeys() has not been implemented for the cacheStorage interface.")},t.prototype.getTokenKeys=function(){throw d.l.createUnexpectedError("Storage interface - getTokenKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")}))}))},t.prototype.updateCredentialCacheKey=function(){throw d.l.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(ft),mt=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,n){var r=Number(t)||0;return e.nowSeconds()+n>r},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},e}(),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),t.createAccessTokenEntity=function(e,n,r,o,i,a,s,c,l,d,h,p,f,g,m){var y,v,C=new t;C.homeAccountId=e,C.credentialType=u.aG.ACCESS_TOKEN,C.secret=r;var E=mt.nowSeconds();if(C.cachedAt=E.toString(),C.expiresOn=s.toString(),C.extendedExpiresOn=c.toString(),d&&(C.refreshOn=d.toString()),C.environment=n,C.clientId=o,C.realm=i,C.target=a,C.userAssertionHash=p,C.tokenType=S.$.isEmpty(h)?u.IO.BEARER:h,g&&(C.requestedClaims=g,C.requestedClaimsHash=m),(null===(y=C.tokenType)||void 0===y?void 0:y.toLowerCase())!==u.IO.BEARER.toLowerCase())switch(C.credentialType=u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME,C.tokenType){case u.IO.POP:var w=dt.extractTokenClaims(r,l);if(!(null===(v=null==w?void 0:w.cnf)||void 0===v?void 0:v.kid))throw De.e.createTokenClaimsRequiredError();C.keyId=w.cnf.kid;break;case u.IO.SSH:C.keyId=f}return C},t.isAccessTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===u.aG.ACCESS_TOKEN||e.credentialType===u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME))},t}(qe),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),t.createRefreshTokenEntity=function(e,n,r,o,i,a){var s=new t;return s.clientId=o,s.credentialType=u.aG.REFRESH_TOKEN,s.environment=n,s.homeAccountId=e,s.secret=r,s.userAssertionHash=a,i&&(s.familyId=i),s},t.isRefreshTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===u.aG.REFRESH_TOKEN)},t}(qe),Ct=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return[u.GU,e,t].join(u.LR.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,n,r){var o=new e;return o.clientId=t,o.environment=n,r&&(o.familyId=r),o},e.isAppMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(u.GU)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"))},e}(),Et=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var n=0===e.indexOf(u.gT.CACHE_KEY),r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r},e}(),wt=function(){function e(){this.expiresAt=mt.nowSeconds()+u.u0.REFRESH_TIME_SECONDS}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t,this.jwks_uri=e.jwks_uri},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=mt.nowSeconds()+u.u0.REFRESH_TIME_SECONDS},e.prototype.isExpired=function(){return this.expiresAt<=mt.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(u.u0.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"))},e}(),bt=function(){function e(){}return e.isThrottlingEntity=function(e,t){var n=!1;e&&(n=0===e.indexOf(u.Xw.THROTTLING_PREFIX));var r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r},e}(),_t=function(){function e(){}return e.setRequestState=function(t,n,r){var o=e.generateLibraryState(t,r);return S.$.isEmpty(n)?o:""+o+u.YM.RESOURCE_DELIM+n},e.generateLibraryState=function(e,t){if(!e)throw De.e.createNoCryptoObjectError("generateLibraryState");var n={id:e.createNewGuid()};t&&(n.meta=t);var r=JSON.stringify(n);return e.base64Encode(r)},e.parseRequestState=function(e,t){if(!e)throw De.e.createNoCryptoObjectError("parseRequestState");if(S.$.isEmpty(t))throw De.e.createInvalidStateError(t,"Null, undefined or empty state");try{var n=t.split(u.YM.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(u.YM.RESOURCE_DELIM):u.YM.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:S.$.isEmpty(o)?u.YM.EMPTY_STRING:o,libraryState:a}}catch(s){throw De.e.createInvalidStateError(t,s)}},e}();!function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(Re||(Re={}));var Tt,St=function(e,t,n,r,o){this.account=e||null,this.idToken=t||null,this.accessToken=n||null,this.refreshToken=r||null,this.appMetadata=o||null},It=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==g.Al.LocalStorage&&e!==g.Al.SessionStorage)throw be.X.createStorageNotSupportedError(e);if(!!!window[e])throw be.X.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),kt=function(){function e(t){if(this._urlString=t,S.$.isEmpty(this._urlString))throw ut.createUrlEmptyError();S.$.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return S.$.endsWith(t,"?")?t=t.slice(0,-1):S.$.endsWith(t,"?/")&&(t=t.slice(0,-2)),S.$.endsWith(t,"/")||(t+="/"),t}return e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(t){throw ut.createUrlParseError(t)}if(!e.HostNameAndPort||!e.PathSegments)throw ut.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw ut.createInsecureAuthorityUriError(this.urlString)},e.appendQueryString=function(e,t){return S.$.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var n=this.getUrlComponents(),r=n.PathSegments;return!t||0===r.length||r[0]!==u.v2.COMMON&&r[0]!==u.v2.ORGANIZATIONS||(r[0]=t),e.constructAuthorityUriFromObject(n)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw ut.createUrlParseError("Given url string: "+this.urlString);var n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},r=n.AbsolutePath.split("/");return r=r.filter((function(e){return e&&e.length>0})),n.PathSegments=r,!S.$.isEmpty(n.QueryString)&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw ut.createUrlParseError("Given url string: "+e);return n[2]},e.getAbsoluteUrl=function(t,n){if(t[0]===u.YM.FORWARD_SLASH){var r=new e(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),n=e.indexOf("#/");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):u.YM.EMPTY_STRING},e.parseQueryString=function(e){var t=e.indexOf("?"),n=e.indexOf("/?");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):u.YM.EMPTY_STRING},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(S.$.isEmpty(t))return{};var n=e.parseHash(t),r=S.$.queryStringToObject(S.$.isEmpty(n)?t:n);if(!r)throw De.e.createHashNotDeserializedError(JSON.stringify(r));return r},e.getDeserializedQueryString=function(t){if(S.$.isEmpty(t))return{};var n=e.parseQueryString(t),r=S.$.queryStringToObject(S.$.isEmpty(n)?t:n);if(!r)throw De.e.createHashNotDeserializedError(JSON.stringify(r));return r},e.hashContainsKnownProperties=function(t){if(S.$.isEmpty(t)||t.indexOf("=")<0)return!1;var n=e.getDeserializedHash(t);return!!(n.code||n.error_description||n.error||n.state)},e}(),At=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(S.$.isEmpty(t))return null;try{return _t.parseRequestState(e,t).libraryState.meta}catch(n){throw De.e.createInvalidStateError(t,n)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new kt(e);return kt.getDeserializedHash(t.getHash())},e}(),Rt=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.COOKIE_LIFE_MULTIPLIER=864e5,i.cacheConfig=n,i.logger=o,i.internalStorage=new ke,i.browserStorage=i.setupBrowserStorage(i.cacheConfig.cacheLocation),i.temporaryCacheStorage=i.setupTemporaryCacheStorage(i.cacheConfig.temporaryCacheLocation,i.cacheConfig.cacheLocation),n.cacheMigrationEnabled&&(i.migrateCacheEntries(),i.createKeyMaps()),i}return(0,a.C6)(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case g.Al.LocalStorage:case g.Al.SessionStorage:try{return new It(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=g.Al.MemoryStorage,new ke},t.prototype.setupTemporaryCacheStorage=function(e,t){switch(t){case g.Al.LocalStorage:case g.Al.SessionStorage:try{return new It(e||g.Al.SessionStorage)}catch(n){return this.logger.verbose(n),this.internalStorage}case g.Al.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=u.YM.CACHE_PREFIX+"."+u.Gd.ID_TOKEN,n=u.YM.CACHE_PREFIX+"."+u.Gd.CLIENT_INFO,r=u.YM.CACHE_PREFIX+"."+u.Gd.ERROR,o=u.YM.CACHE_PREFIX+"."+u.Gd.ERROR_DESC,i=[this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r),this.browserStorage.getItem(o)];[u.Gd.ID_TOKEN,u.Gd.CLIENT_INFO,u.Gd.ERROR,u.Gd.ERROR_DESC].forEach((function(t,n){return e.migrateCacheEntry(t,i[n])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.createKeyMaps=function(){var e=this;this.logger.trace("BrowserCacheManager - createKeyMaps called.");var t=this.getItem(g.dh.ACCOUNT_KEYS),n=this.getItem(g.dh.TOKEN_KEYS+"."+this.clientId);t&&n?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach((function(t){var n;if(e.isCredentialKey(t)&&(n=e.getItem(t))){var r=e.validateAndParseJson(n);if(r&&r.hasOwnProperty("credentialType"))switch(r.credentialType){case u.aG.ID_TOKEN:if(Ue.isIdTokenEntity(r)){e.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - idToken with key: "+t+" found, saving key to token key map");var o=ft.toObject(new Ue,r),i=e.updateCredentialCacheKey(t,o);return void e.addTokenKey(i,u.aG.ID_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed idToken validation on key: "+t);break;case u.aG.ACCESS_TOKEN:case u.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(yt.isAccessTokenEntity(r)){e.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - accessToken with key: "+t+" found, saving key to token key map");var a=ft.toObject(new yt,r);i=e.updateCredentialCacheKey(t,a);return void e.addTokenKey(i,u.aG.ACCESS_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed accessToken validation on key: "+t);break;case u.aG.REFRESH_TOKEN:if(vt.isRefreshTokenEntity(r)){e.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - refreshToken with key: "+t+" found, saving key to token key map");var s=ft.toObject(new vt,r);i=e.updateCredentialCacheKey(t,s);return void e.addTokenKey(i,u.aG.REFRESH_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: "+t)}}if(e.isAccountKey(t)&&(n=e.getItem(t))){var c=e.validateAndParseJson(n);c&&f.d.isAccountEntity(c)&&(e.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - account with key: "+t+" found, saving key to account key map"),e.addAccountKeyToMap(t))}}))},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(n){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){this.logger.trace("BrowserCacheManager.getAccount called");var t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;var n=this.validateAndParseJson(t);return n&&f.d.isAccountEntity(n)?ft.toObject(new f.d,n):(this.removeAccountKeyFromMap(e),null)},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)},t.prototype.getAccountKeys=function(){this.logger.trace("BrowserCacheManager.getAccountKeys called");var e=this.getItem(g.dh.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])},t.prototype.addAccountKeyToMap=function(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: "+e);var t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(g.dh.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")},t.prototype.removeAccountKeyFromMap=function(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: "+e);var t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(g.dh.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")},t.prototype.removeAccount=function(t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return e.prototype.removeAccount.call(this,t),this.removeAccountKeyFromMap(t),[2]}))}))},t.prototype.removeIdToken=function(t){e.prototype.removeIdToken.call(this,t),this.removeTokenKey(t,u.aG.ID_TOKEN)},t.prototype.removeAccessToken=function(t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return e.prototype.removeAccessToken.call(this,t),this.removeTokenKey(t,u.aG.ACCESS_TOKEN),[2]}))}))},t.prototype.removeRefreshToken=function(t){e.prototype.removeRefreshToken.call(this,t),this.removeTokenKey(t,u.aG.REFRESH_TOKEN)},t.prototype.getTokenKeys=function(){this.logger.trace("BrowserCacheManager.getTokenKeys called");var e=this.getItem(g.dh.TOKEN_KEYS+"."+this.clientId);if(e){var t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}},t.prototype.addTokenKey=function(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");var n=this.getTokenKeys();switch(t){case u.aG.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case u.aG.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case u.aG.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: "+t),De.e.createUnexpectedCredentialTypeError()}this.setItem(g.dh.TOKEN_KEYS+"."+this.clientId,JSON.stringify(n))},t.prototype.removeTokenKey=function(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");var n=this.getTokenKeys();switch(t){case u.aG.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: "+e+" from map");var r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case u.aG.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: "+e+" from map");var o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case u.aG.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: "+e+" from map");var i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: "+t),De.e.createUnexpectedCredentialTypeError()}this.setItem(g.dh.TOKEN_KEYS+"."+this.clientId,JSON.stringify(n))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,u.aG.ID_TOKEN),null;var n=this.validateAndParseJson(t);return n&&Ue.isIdTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),ft.toObject(new Ue,n)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,u.aG.ID_TOKEN),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,u.aG.ID_TOKEN)},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,u.aG.ACCESS_TOKEN),null;var n=this.validateAndParseJson(t);return n&&yt.isAccessTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),ft.toObject(new yt,n)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,u.aG.ACCESS_TOKEN),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,u.aG.ACCESS_TOKEN)},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,u.aG.REFRESH_TOKEN),null;var n=this.validateAndParseJson(t);return n&&vt.isRefreshTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),ft.toObject(new vt,n)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,u.aG.REFRESH_TOKEN),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,u.aG.REFRESH_TOKEN)},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Ct.isAppMetadataEntity(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),ft.toObject(new Ct,n)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Et.isServerTelemetryEntity(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),ft.toObject(new Et,n)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&wt.isAuthorityMetadataEntity(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),ft.toObject(new wt,n)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setWrapperMetadata=function(e,t){this.internalStorage.setItem(g.H3.WRAPPER_SKU,e),this.internalStorage.setItem(g.H3.WRAPPER_VER,t)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(g.H3.WRAPPER_SKU)||u.YM.EMPTY_STRING,this.internalStorage.getItem(g.H3.WRAPPER_VER)||u.YM.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(u.Gd.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var n=this.generateCacheKey(u.Gd.ACTIVE_ACCOUNT),r=this.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var o=this.getAccountInfoByFilter({localAccountId:r})[0]||null;return o?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(o),o):null}var i=this.validateAndParseJson(t);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},t.prototype.setActiveAccount=function(e){var t=this.generateCacheKey(u.Gd.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(u.Gd.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");var r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)},t.prototype.getAccountInfoByFilter=function(e){var t=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+t.length+" accounts found"),t.filter((function(t){return(!e.username||e.username.toLowerCase()===t.username.toLowerCase())&&((!e.homeAccountId||e.homeAccountId===t.homeAccountId)&&((!e.localAccountId||e.localAccountId===t.localAccountId)&&((!e.tenantId||e.tenantId===t.tenantId)&&(!e.environment||e.environment===t.environment))))}))},t.prototype.getAccountInfoByHints=function(e,t){var n=this.getAllAccounts().filter((function(n){if(t){var r=n.idTokenClaims&&n.idTokenClaims.sid;return t===r}return!!e&&e===n.username}));if(1===n.length)return n[0];if(n.length>1)throw De.e.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&bt.isThrottlingEntity(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),ft.toObject(new bt,n)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){var n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var r=this.getItemCookie(n);if(r)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),r}var o=this.temporaryCacheStorage.getItem(n);if(!o){if(this.cacheConfig.cacheLocation===g.Al.LocalStorage){var i=this.browserStorage.getItem(n);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o},t.prototype.setTemporaryCache=function(e,t,n){var r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))},t.prototype.removeItem=function(e){this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return(0,a.gz)(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e=this;return(0,a.YH)(this,(function(t){switch(t.label){case 0:return[4,this.removeAllAccounts()];case 1:return t.sent(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf(u.YM.CACHE_PREFIX)&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear(),[2]}}))}))},t.prototype.clearTokensAndKeysWithClaims=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t,n=this;return(0,a.YH)(this,(function(r){switch(r.label){case 0:return this.logger.trace("BrowserCacheManager.clearTokensAndKeysWithClaims called"),e=this.getTokenKeys(),t=[],e.accessToken.forEach((function(e){var r=n.getAccessTokenCredential(e);(null==r?void 0:r.requestedClaimsHash)&&e.includes(r.requestedClaimsHash.toLowerCase())&&t.push(n.removeAccessToken(e))})),[4,Promise.all(t)];case 1:return r.sent(),t.length>0&&this.logger.warning(t.length+" access tokens with claims in the cache keys have been removed from the cache."),[2]}}))}))},t.prototype.setItemCookie=function(e,t,n){var r=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;SameSite=Lax;";n&&(r+="expires="+this.getCookieExpirationTime(n)+";");this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return u.YM.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,t=u.YM.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach((function(n){for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t)){var r=n.split("=")[0];e.clearItemCookie(r)}}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,u.YM.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):S.$.startsWith(e,u.YM.CACHE_PREFIX)||S.$.startsWith(e,u.Gd.ADAL_ID_TOKEN)?e:u.YM.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=_t.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(g._p.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=_t.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(g._p.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=_t.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(g._p.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;var r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)},t.prototype.updateCacheEntries=function(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);var a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);var s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){var c={credential:o.homeAccountId,type:Re.HOME_ACCOUNT_ID};this.setTemporaryCache(g._p.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(!S.$.isEmpty(r)){c={credential:r,type:Re.UPN};this.setTemporaryCache(g._p.CCS_CREDENTIAL,JSON.stringify(c),!0)}},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),S.$.isEmpty(e)||this.getKeys().forEach((function(n){-1!==n.indexOf(e)&&t.removeItem(n)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(g._p.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(g._p.ORIGIN_URI)),this.removeItem(this.generateCacheKey(g._p.URL_HASH)),this.removeItem(this.generateCacheKey(g._p.CORRELATION_ID)),this.removeItem(this.generateCacheKey(g._p.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(g._p.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+n),this.resetRequestCache(n||u.YM.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(n){if(-1!==n.indexOf(g._p.REQUEST_STATE)){var r=t.temporaryCacheStorage.getItem(n);if(r){var o=At.extractBrowserRequestState(t.cryptoImpl,r);o&&o.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+r),t.resetRequestCache(r))}}})),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var n=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(g._p.REQUEST_PARAMS,n,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var n=this.getTemporaryCache(g._p.REQUEST_PARAMS,!0);if(!n)throw ye.createNoTokenRequestCacheError();var r=this.validateAndParseJson(t.base64Decode(n));if(!r)throw ye.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(g._p.REQUEST_PARAMS)),S.$.isEmpty(r.authority)){var o=this.generateAuthorityKey(e),i=this.getTemporaryCache(o);if(!i)throw ye.createNoCachedAuthorityError();r.authority=i}return r},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(g._p.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;var t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){var e=u.YM.CACHE_PREFIX+"."+g._p.INTERACTION_STATUS_KEY;return this.getTemporaryCache(e,!1)},t.prototype.setInteractionInProgress=function(e){var t=u.YM.CACHE_PREFIX+"."+g._p.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw ye.createInteractionInProgressError();this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeItem(t)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(u.Gd.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(u.Gd.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var t=this.getTemporaryCache(u.Gd.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(u.Gd.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var n=t||e;if(n){var r=new dt(n,this.cryptoImpl);if(r.claims&&r.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),r.claims.preferred_username;if(r.claims&&r.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),r.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,t){var n=t.generateCredentialKey();if(e!==n){var r=this.getItem(e);if(r)return this.removeItem(e),this.setItem(n,r),this.logger.verbose("Updated an outdated "+t.credentialType+" cache key"),n;this.logger.error("Attempted to update an outdated "+t.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(g._p.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(e){this.setTemporaryCache(g._p.REDIRECT_CONTEXT,e,!0)},t.prototype.hydrateCache=function(e,t){var n,r,o,i,s,c;return(0,a.sH)(this,void 0,void 0,(function(){var u,l,d,h;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return u=Ue.createIdTokenEntity((null===(n=e.account)||void 0===n?void 0:n.homeAccountId)||"",(null===(r=e.account)||void 0===r?void 0:r.environment)||"",e.idToken,this.clientId,e.tenantId),t.claims?[4,this.cryptoImpl.hashString(t.claims)]:[3,2];case 1:l=a.sent(),a.label=2;case 2:return d=yt.createAccessTokenEntity((null===(o=e.account)||void 0===o?void 0:o.homeAccountId)||"",(null===(i=e.account)||void 0===i?void 0:i.environment)||"",e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),(null===(s=e.expiresOn)||void 0===s?void 0:s.getTime())||0,(null===(c=e.extExpiresOn)||void 0===c?void 0:c.getTime())||0,this.cryptoImpl,void 0,e.tokenType,void 0,t.sshKid,t.claims,l),h=new St(void 0,u,d),[2,this.saveCacheRecord(h)]}}))}))},t}(ft),Pt=n(7624);!function(e){e[e.None=0]="None",e.AzurePublic="https://login.microsoftonline.com",e.AzurePpe="https://login.windows-ppe.net",e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureUsGovernment="https://login.microsoftonline.us"}(Tt||(Tt={}));var Nt={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Ot={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Oe.$.Info,correlationId:u.YM.EMPTY_STRING},Mt={claimsBasedCachingEnabled:!0},Ht={sendGetRequestAsync:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(e){throw d.l.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},xt={sku:u.YM.SKU,version:pt,cpu:u.YM.EMPTY_STRING,os:u.YM.EMPTY_STRING},Lt={clientSecret:u.YM.EMPTY_STRING,clientAssertion:void 0},Dt={azureCloudInstance:Tt.None,tenant:""+u.YM.DEFAULT_COMMON_TENANT},qt={application:{appName:"",appVersion:""}};var Ut={sendGetRequestAsync:function(){return Promise.reject(d.l.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(d.l.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},Bt=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,a.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e,{method:g.CC.GET,headers:this.getFetchHeaders(t)})];case 1:return n=i.sent(),[3,3];case 2:throw r=i.sent(),window.navigator.onLine?ye.createGetRequestFailedError(r,e):ye.createNoNetworkConnectivityError();case 3:return i.trys.push([3,5,,6]),o={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 4:return[2,(o.body=i.sent(),o.status=n.status,o)];case 5:throw i.sent(),ye.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,r,o,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:n=t&&t.body||u.YM.EMPTY_STRING,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(e,{method:g.CC.POST,headers:this.getFetchHeaders(t),body:n})];case 2:return r=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?ye.createPostRequestFailedError(o,e):ye.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),i={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 5:return[2,(i.body=a.sent(),i.status=r.status,i)];case 6:throw a.sent(),ye.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var n=e.headers;return Object.keys(n).forEach((function(e){t.append(e,n[e])})),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},e}(),Ft=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,this.sendRequestAsync(e,g.CC.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){return[2,this.sendRequestAsync(e,g.CC.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,n){var r=this;return new Promise((function(o,i){var a=new XMLHttpRequest;if(a.open(t,e,!0),r.setXhrHeaders(a,n),a.onload=function(){(a.status<200||a.status>=300)&&(t===g.CC.POST?i(ye.createPostRequestFailedError("Failed with status "+a.status,e)):i(ye.createGetRequestFailedError("Failed with status "+a.status,e)));try{var n=JSON.parse(a.responseText),s={headers:r.getHeaderDict(a),body:n,status:a.status};o(s)}catch(c){i(ye.createFailedToParseNetworkResponseError(e))}},a.onerror=function(){window.navigator.onLine?t===g.CC.POST?i(ye.createPostRequestFailedError("Failed with status "+a.status,e)):i(ye.createGetRequestFailedError("Failed with status "+a.status,e)):i(ye.createNoNetworkConnectivityError())},t===g.CC.POST&&n&&n.body)a.send(n.body);else{if(t!==g.CC.GET)throw ye.createHttpMethodNotImplementedError(t);a.send()}}))},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var n=t.headers;Object.keys(n).forEach((function(t){e.setRequestHeader(t,n[t])}))}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");r&&o&&(n[r]=o)})),n},e}(),Yt=function(){function e(){}return e.clearHash=function(e){e.location.hash=u.YM.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,u.YM.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):u.YM.EMPTY_STRING},e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(g.Q1.POPUP_NAME_PREFIX+".")},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new kt(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new Bt:new Ft},e.blockReloadInHiddenIframes=function(){if(kt.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw ye.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,n){var r=e.isInIframe();if(t===g.X8.Redirect&&r&&!n)throw ye.createRedirectInIframeError(r)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw ye.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw ye.createNonBrowserEnvironmentError()},e.blockNativeBrokerCalledBeforeInitialized=function(e,t){if(e&&!t)throw ye.createNativeBrokerCalledBeforeInitialize()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");return t>0||n>0||r>0},e}(),Gt=function(){function e(){}return e.prototype.navigateInternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.prototype.navigateExternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}(),Kt=6e3;var jt,zt="@azure/msal-browser",$t="2.39.0",Qt=n(59),Wt=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return e.prototype.addEventCallback=function(e){if("undefined"!=typeof window){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.enableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},e.prototype.disableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},e.prototype.emitEvent=function(e,t,n,r){var o=this;if("undefined"!=typeof window){var i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,n){o.logger.verbose("Emitting event to callback "+n+": "+e),t.apply(null,[i])}))}},e.prototype.handleAccountCacheChange=function(e){try{var t=e.newValue||e.oldValue;if(!t)return;var n=JSON.parse(t);if("object"!=typeof n||!f.d.isAccountEntity(n))return;var r=ft.toObject(new f.d,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(Qt.B.ACCOUNT_ADDED,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(Qt.B.ACCOUNT_REMOVED,void 0,r))}catch(e){return}},e}(),Xt=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return u.Xw.THROTTLING_PREFIX+"."+JSON.stringify(e)},e.preProcess=function(t,n){var r,o=e.generateThrottlingStorageKey(n),i=t.getThrottlingCache(o);if(i){if(i.throttleTime<Date.now())return void t.removeItem(o);throw new h((null===(r=i.errorCodes)||void 0===r?void 0:r.join(" "))||u.YM.EMPTY_STRING,i.errorMessage,i.subError)}},e.postProcess=function(t,n,r){if(e.checkResponseStatus(r)||e.checkResponseForRetryAfter(r)){var o={throttleTime:e.calculateThrottleTime(parseInt(r.headers[u.OK.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(n),o)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&(e.headers.hasOwnProperty(u.OK.RETRY_AFTER)&&(e.status<200||e.status>=300))},e.calculateThrottleTime=function(e){var t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||u.Xw.DEFAULT_THROTTLE_TIME_SECONDS),n+u.Xw.DEFAULT_MAX_THROTTLE_TIME_SECONDS))},e.removeThrottle=function(e,t,n,r){var o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);e.removeItem(i)},e}(),Vt=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,n){return(0,l.sH)(this,void 0,void 0,(function(){var r,o;return(0,l.YH)(this,(function(i){switch(i.label){case 0:Xt.preProcess(this.cacheManager,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,n)];case 2:return r=i.sent(),[3,4];case 3:throw(o=i.sent())instanceof d.l?o:De.e.createNetworkError(t,o);case 4:return Xt.postProcess(this.cacheManager,e,r),[2,r]}}))}))},e}(),Jt=n(3502),Zt=function(){function e(){}return e.validateRedirectUri=function(e){if(S.$.isEmpty(e))throw ut.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t=[];for(var n in u._M)t.push(u._M[n]);if(t.indexOf(e)<0)throw ut.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(t){throw ut.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(S.$.isEmpty(e)||S.$.isEmpty(t))throw ut.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([u.iF.PLAIN,u.iF.S256].indexOf(e)<0)throw ut.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,n){e[n]&&delete e[n]})),Object.fromEntries(Object.entries(e).filter((function(e){return""!==e[1]})))):{}},e}(),en=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(u.lB.RESPONSE_TYPE,encodeURIComponent(u.YM.CODE_RESPONSE_TYPE))},e.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(u.lB.RESPONSE_TYPE,encodeURIComponent(u.YM.TOKEN_RESPONSE_TYPE+" "+u.YM.ID_TOKEN_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(u.lB.RESPONSE_MODE,encodeURIComponent(e||u.p.QUERY))},e.prototype.addNativeBroker=function(){this.parameters.set(u.lB.NATIVE_BROKER,encodeURIComponent("1"))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var n=t?(0,l.aN)(e||[],u.aZ):e||[],r=new lt(n);this.parameters.set(u.lB.SCOPE,encodeURIComponent(r.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(u.lB.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){Zt.validateRedirectUri(e),this.parameters.set(u.lB.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){Zt.validateRedirectUri(e),this.parameters.set(u.lB.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(u.lB.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(u.nN.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(u.nN.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(u.OK.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(u.OK.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(u.nN.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var n=this.addClientCapabilitiesToClaims(e,t);Zt.validateClaims(n),this.parameters.set(u.lB.CLAIMS,encodeURIComponent(n))},e.prototype.addCorrelationId=function(e){this.parameters.set(u.lB.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(u.lB.X_CLIENT_SKU,e.sku),this.parameters.set(u.lB.X_CLIENT_VER,e.version),e.os&&this.parameters.set(u.lB.X_CLIENT_OS,e.os),e.cpu&&this.parameters.set(u.lB.X_CLIENT_CPU,e.cpu)},e.prototype.addApplicationTelemetry=function(e){(null==e?void 0:e.appName)&&this.parameters.set(u.lB.X_APP_NAME,e.appName),(null==e?void 0:e.appVersion)&&this.parameters.set(u.lB.X_APP_VER,e.appVersion)},e.prototype.addPrompt=function(e){Zt.validatePrompt(e),this.parameters.set(""+u.lB.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){S.$.isEmpty(e)||this.parameters.set(u.lB.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(u.lB.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(Zt.validateCodeChallengeParams(e,t),!e||!t)throw ut.createInvalidCodeChallengeParamsError();this.parameters.set(u.lB.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(u.lB.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(u.lB.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(u.lB.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(u.lB.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(u.lB.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(u.lB.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){S.$.isEmpty(e)||this.parameters.set(u.lB.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){S.$.isEmpty(e)||this.parameters.set(u.lB.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(u.lB.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(u.lB.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(u.lB.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set(u.JR,"1")},e.prototype.addExtraQueryParameters=function(e){var t=this,n=Zt.sanitizeEQParams(e,this.parameters);Object.keys(n).forEach((function(n){t.parameters.set(n,e[n])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var n;if(e)try{n=JSON.parse(e)}catch(r){throw ut.createInvalidClaimsRequestError()}else n={};return t&&t.length>0&&(n.hasOwnProperty(u.Fq.ACCESS_TOKEN)||(n[u.Fq.ACCESS_TOKEN]={}),n[u.Fq.ACCESS_TOKEN][u.Fq.XMS_CC]={values:t}),JSON.stringify(n)},e.prototype.addUsername=function(e){this.parameters.set(u.Tq.username,encodeURIComponent(e))},e.prototype.addPassword=function(e){this.parameters.set(u.Tq.password,encodeURIComponent(e))},e.prototype.addPopToken=function(e){S.$.isEmpty(e)||(this.parameters.set(u.lB.TOKEN_TYPE,u.IO.POP),this.parameters.set(u.lB.REQ_CNF,encodeURIComponent(e)))},e.prototype.addSshJwk=function(e){S.$.isEmpty(e)||(this.parameters.set(u.lB.TOKEN_TYPE,u.IO.SSH),this.parameters.set(u.lB.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(u.lB.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(u.lB.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(u.lB.X_MS_LIB_CAPABILITY,u.Xw.X_MS_LIB_CAPABILITY_VALUE)},e.prototype.addLogoutHint=function(e){this.parameters.set(u.lB.LOGOUT_HINT,encodeURIComponent(e))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,n){e.push(n+"="+t)})),e.join("&")},e}(),tn=function(){function e(e,t){var n,r,o,i,a,s,c,u,d,h,p,f,g,m,y,v;this.config=(o=(n=e).authOptions,i=n.systemOptions,a=n.loggerOptions,s=n.cacheOptions,c=n.storageInterface,u=n.networkInterface,d=n.cryptoInterface,h=n.clientCredentials,p=n.libraryInfo,f=n.telemetry,g=n.serverTelemetryManager,m=n.persistencePlugin,y=n.serializableCache,v=(0,l.Cl)((0,l.Cl)({},Ot),a),{authOptions:(r=o,(0,l.Cl)({clientCapabilities:[],azureCloudOptions:Dt,skipAuthorityMetadataCache:!1},r)),systemOptions:(0,l.Cl)((0,l.Cl)({},Nt),i),loggerOptions:v,cacheOptions:(0,l.Cl)((0,l.Cl)({},Mt),s),storageInterface:c||new gt(o.clientId,Le,new Oe.V(v)),networkInterface:u||Ht,cryptoInterface:d||Le,clientCredentials:h||Lt,libraryInfo:(0,l.Cl)((0,l.Cl)({},xt),p),telemetry:(0,l.Cl)((0,l.Cl)({},qt),f),serverTelemetryManager:g||null,persistencePlugin:m||null,serializableCache:y||null}),this.logger=new Oe.V(this.config.loggerOptions,ht,pt),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Vt(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[u.OK.CONTENT_TYPE]=u.YM.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Re.HOME_ACCOUNT_ID:try{var n=(0,Jt.Z)(e.credential);t[u.OK.CCS_HEADER]="Oid:"+n.uid+"@"+n.utid}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Re.UPN:t[u.OK.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,n,r){return(0,l.sH)(this,void 0,void 0,(function(){var o;return(0,l.YH)(this,(function(i){switch(i.label){case 0:return[4,this.networkManager.sendPostRequest(r,e,{body:t,headers:n})];case 1:return o=i.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw De.e.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e.prototype.createTokenQueryParameters=function(e){var t=new en;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},e}();!function(e){e.SW="sw",e.UHW="uhw"}(jt||(jt={}));var nn=function(){function e(e,t){this.cryptoUtils=e,this.performanceClient=t}return e.prototype.generateCnf=function(e){var t,n;return(0,l.sH)(this,void 0,void 0,(function(){var o,i,a;return(0,l.YH)(this,(function(s){switch(s.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.PopTokenGenerateCnf,e.correlationId),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.PopTokenGenerateKid,e.correlationId),[4,this.generateKid(e)];case 1:return o=s.sent(),i=this.cryptoUtils.base64Encode(JSON.stringify(o)),a={kid:o.kid,reqCnfString:i},[4,this.cryptoUtils.hashString(i)];case 2:return[2,(a.reqCnfHash=s.sent(),a)]}}))}))},e.prototype.generateKid=function(e){var t;return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(n){switch(n.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.PopTokenGenerateKid,e.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:n.sent(),xms_ksl:jt.SW}]}}))}))},e.prototype.signPopToken=function(e,t,n){return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(r){return[2,this.signPayload(e,t,n)]}))}))},e.prototype.signPayload=function(e,t,n,r){return(0,l.sH)(this,void 0,void 0,(function(){var o,i,a,s,c,u;return(0,l.YH)(this,(function(d){switch(d.label){case 0:return o=n.resourceRequestMethod,i=n.resourceRequestUri,a=n.shrClaims,s=n.shrNonce,c=i?new kt(i):void 0,u=null==c?void 0:c.getUrlComponents(),[4,this.cryptoUtils.signJwt((0,l.Cl)({at:e,ts:mt.nowSeconds(),m:null==o?void 0:o.toUpperCase(),u:null==u?void 0:u.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:null==u?void 0:u.AbsolutePath,q:(null==u?void 0:u.QueryString)?[[],u.QueryString]:void 0,client_claims:a||void 0},r),t,n.correlationId)];case 1:return[2,d.sent()]}}))}))},e}(),rn=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}(),on=function(){function e(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,n){if(!e.state||!t)throw e.state?De.e.createStateNotFoundError("Cached State"):De.e.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw De.e.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(p.CB.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new p.CB(e.error||u.YM.EMPTY_STRING,e.error_description,e.suberror,e.timestamp||u.YM.EMPTY_STRING,e.trace_id||u.YM.EMPTY_STRING,e.correlation_id||u.YM.EMPTY_STRING,e.claims||u.YM.EMPTY_STRING);throw new h(e.error||u.YM.EMPTY_STRING,e.error_description,e.suberror)}e.client_info&&(0,Jt.k)(e.client_info,n)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(p.CB.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new p.CB(e.error,e.error_description,e.suberror,e.timestamp||u.YM.EMPTY_STRING,e.trace_id||u.YM.EMPTY_STRING,e.correlation_id||u.YM.EMPTY_STRING,e.claims||u.YM.EMPTY_STRING);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new h(e.error,t,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,n,o,i,a,s,c,d,h){var p;return(0,l.sH)(this,void 0,void 0,(function(){var g,m,y,v,C,E;return(0,l.YH)(this,(function(l){switch(l.label){case 0:if(null===(p=this.performanceClient)||void 0===p||p.addQueueMeasurement(r.HandleServerTokenResponse,t.correlation_id),t.id_token){if(g=new dt(t.id_token||u.YM.EMPTY_STRING,this.cryptoObj),a&&!S.$.isEmpty(a.nonce)&&g.claims.nonce!==a.nonce)throw De.e.createNonceMismatchError();if(i.maxAge||0===i.maxAge){if(!(m=g.claims.auth_time))throw De.e.createAuthTimeNotFoundError();dt.checkMaxAge(m,i.maxAge)}}this.homeAccountIdentifier=f.d.generateHomeAccountId(t.client_info||u.YM.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,null==g?void 0:g.claims),a&&a.state&&(y=_t.parseRequestState(this.cryptoObj,a.state)),t.key_id=t.key_id||i.sshKid||void 0,v=this.generateCacheRecord(t,n,o,i,g,s,a),l.label=1;case 1:return l.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),C=new rn(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(C)]):[3,3];case 2:l.sent(),l.label=3;case 3:return!c||d||!v.account||(E=v.account.generateAccountKey(),this.cacheStorage.getAccount(E))?[4,this.cacheStorage.saveCacheRecord(v)]:(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,n,v,!1,i,g,y,void 0,h)]);case 4:return l.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&C?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(C)]):[3,7];case 6:l.sent(),l.label=7;case 7:return[7];case 8:return[2,e.generateAuthenticationResult(this.cryptoObj,n,v,!1,i,g,y,t,h)]}}))}))},e.prototype.generateCacheRecord=function(e,t,n,r,o,i,a){var s,c,l=t.getPreferredCache();if(S.$.isEmpty(l))throw De.e.createInvalidCacheEnvironmentError();!S.$.isEmpty(e.id_token)&&o&&(s=Ue.createIdTokenEntity(this.homeAccountIdentifier,l,e.id_token||u.YM.EMPTY_STRING,this.clientId,o.claims.tid||u.YM.EMPTY_STRING),c=f.d.createAccount({homeAccountId:this.homeAccountIdentifier,idTokenClaims:o.claims,clientInfo:e.client_info||u.YM.EMPTY_STRING,cloudGraphHostName:null==a?void 0:a.cloud_graph_host_name,msGraphHost:null==a?void 0:a.msgraph_host},t));var d=null;if(!S.$.isEmpty(e.access_token)){var h=e.scope?lt.fromString(e.scope):new lt(r.scopes||[]),p=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,g=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,m=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,y=n+p,v=y+g,C=m&&m>0?n+m:void 0;d=yt.createAccessTokenEntity(this.homeAccountIdentifier,l,e.access_token||u.YM.EMPTY_STRING,this.clientId,o?o.claims.tid||u.YM.EMPTY_STRING:t.tenant,h.printScopes(),y,v,this.cryptoObj,C,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}var E=null;S.$.isEmpty(e.refresh_token)||(E=vt.createRefreshTokenEntity(this.homeAccountIdentifier,l,e.refresh_token||u.YM.EMPTY_STRING,this.clientId,e.foci,i));var w=null;return S.$.isEmpty(e.foci)||(w=Ct.createAppMetadataEntity(this.clientId,l,e.foci)),new St(c,s,d,E,w)},e.generateAuthenticationResult=function(e,t,n,r,o,i,a,s,c){var d,h,p;return(0,l.sH)(this,void 0,void 0,(function(){var f,g,m,y,v,C,E,w,b,_,T;return(0,l.YH)(this,(function(l){switch(l.label){case 0:if(f=u.YM.EMPTY_STRING,g=[],m=null,v=u.YM.EMPTY_STRING,!n.accessToken)return[3,4];if(n.accessToken.tokenType!==u.IO.POP)return[3,2];if(C=new nn(e),E=n.accessToken,w=E.secret,!(b=E.keyId))throw De.e.createKeyIdMissingError();return[4,C.signPopToken(w,b,o)];case 1:return f=l.sent(),[3,3];case 2:f=n.accessToken.secret,l.label=3;case 3:g=lt.fromString(n.accessToken.target).asArray(),m=new Date(1e3*Number(n.accessToken.expiresOn)),y=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),l.label=4;case 4:return n.appMetadata&&(v=n.appMetadata.familyId===u.hB?u.hB:u.YM.EMPTY_STRING),_=(null==i?void 0:i.claims.oid)||(null==i?void 0:i.claims.sub)||u.YM.EMPTY_STRING,T=(null==i?void 0:i.claims.tid)||u.YM.EMPTY_STRING,(null==s?void 0:s.spa_accountid)&&n.account&&(n.account.nativeAccountId=null==s?void 0:s.spa_accountid),[2,{authority:t.canonicalAuthority,uniqueId:_,tenantId:T,scopes:g,account:n.account?n.account.getAccountInfo():null,idToken:i?i.rawToken:u.YM.EMPTY_STRING,idTokenClaims:i?i.claims:{},accessToken:f,fromCache:r,expiresOn:m,correlationId:o.correlationId,requestId:c||u.YM.EMPTY_STRING,extExpiresOn:y,familyId:v,tokenType:(null===(d=n.accessToken)||void 0===d?void 0:d.tokenType)||u.YM.EMPTY_STRING,state:a?a.userRequestState:u.YM.EMPTY_STRING,cloudGraphHostName:(null===(h=n.account)||void 0===h?void 0:h.cloudGraphHostName)||u.YM.EMPTY_STRING,msGraphHost:(null===(p=n.account)||void 0===p?void 0:p.msGraphHost)||u.YM.EMPTY_STRING,code:null==s?void 0:s.spa_code,fromNativeBroker:!1}]}}))}))},e}(),an=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.includeRedirectUri=!0,r}return(0,l.C6)(t,e),t.prototype.getAuthCodeUrl=function(e){var t,n;return(0,l.sH)(this,void 0,void 0,(function(){var o;return(0,l.YH)(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.GetAuthCodeUrl,e.correlationId),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.AuthClientCreateQueryString,e.correlationId),[4,this.createAuthCodeUrlQueryString(e)];case 1:return o=i.sent(),[2,kt.appendQueryString(this.authority.authorizationEndpoint,o)]}}))}))},t.prototype.acquireToken=function(e,t){var n,o,i,a,s,c;return(0,l.sH)(this,void 0,void 0,(function(){var d,h,p,f,g,m,y=this;return(0,l.YH)(this,(function(l){switch(l.label){case 0:if(!e||!e.code)throw De.e.createTokenRequestCannotBeMadeError();return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(r.AuthClientAcquireToken,e.correlationId),d=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement("AuthCodeClientAcquireToken",e.correlationId),this.logger.info("in acquireToken call in auth-code client"),h=mt.nowSeconds(),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.AuthClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(this.authority,e)];case 1:return p=l.sent(),f=null===(a=p.headers)||void 0===a?void 0:a[u.OK.X_MS_REQUEST_ID],(g=null===(s=p.headers)||void 0===s?void 0:s[u.OK.X_MS_HTTP_VERSION])&&(null==d||d.addStaticFields({httpVerAuthority:g})),(m=new on(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient)).validateTokenResponse(p.body),null===(c=this.performanceClient)||void 0===c||c.setPreQueueTime(r.HandleServerTokenResponse,e.correlationId),[2,m.handleServerTokenResponse(p.body,this.authority,h,e,t,void 0,void 0,void 0,f).then((function(e){return null==d||d.endMeasurement({success:!0}),e})).catch((function(t){throw y.logger.verbose("Error in fetching token in ACC",e.correlationId),null==d||d.endMeasurement({errorCode:t.errorCode,subErrorCode:t.subError,success:!1}),t}))]}}))}))},t.prototype.handleFragmentResponse=function(e,t){var n=new on(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),r=new kt(e),o=kt.getDeserializedHash(r.getHash());if(n.validateServerAuthorizationCodeResponse(o,t,this.cryptoUtils),!o.code)throw De.e.createNoAuthCodeInServerResponseError();return(0,l.Cl)((0,l.Cl)({},o),{code:o.code})},t.prototype.getLogoutUri=function(e){if(!e)throw ut.createEmptyLogoutRequestError();var t=this.createLogoutUrlQueryString(e);return kt.appendQueryString(this.authority.endSessionEndpoint,t)},t.prototype.executeTokenRequest=function(e,t){var n,o;return(0,l.sH)(this,void 0,void 0,(function(){var i,a,s,c,d,h,p;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(r.AuthClientExecuteTokenRequest,t.correlationId),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(r.AuthClientCreateTokenRequestBody,t.correlationId),i=this.createTokenQueryParameters(t),a=kt.appendQueryString(e.tokenEndpoint,i),[4,this.createTokenRequestBody(t)];case 1:if(s=l.sent(),c=void 0,t.clientInfo)try{d=(0,Jt.k)(t.clientInfo,this.cryptoUtils),c={credential:""+d.uid+u.LR.CLIENT_INFO_SEPARATOR+d.utid,type:Re.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}return h=this.createTokenRequestHeaders(c||t.ccsCredential),p={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[2,this.executePostToTokenEndpoint(a,s,h,p)]}}))}))},t.prototype.createTokenRequestBody=function(e){var t,n;return(0,l.sH)(this,void 0,void 0,(function(){var o,i,a,s,c,d,h,p;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.AuthClientCreateTokenRequestBody,e.correlationId),(o=new en).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?o.addRedirectUri(e.redirectUri):Zt.validateRedirectUri(e.redirectUri),o.addScopes(e.scopes),o.addAuthorizationCode(e.code),o.addLibraryInfo(this.config.libraryInfo),o.addApplicationTelemetry(this.config.telemetry.application),o.addThrottling(),this.serverTelemetryManager&&o.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&o.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&o.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(i=this.config.clientCredentials.clientAssertion,o.addClientAssertion(i.assertion),o.addClientAssertionType(i.assertionType)),o.addGrantType(u.$x.AUTHORIZATION_CODE_GRANT),o.addClientInfo(),e.authenticationScheme!==u.IO.POP?[3,2]:(a=new nn(this.cryptoUtils,this.performanceClient),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.PopTokenGenerateCnf,e.correlationId),[4,a.generateCnf(e)]);case 1:return s=l.sent(),o.addPopToken(s.reqCnfString),[3,3];case 2:if(e.authenticationScheme===u.IO.SSH){if(!e.sshJwk)throw ut.createMissingSshJwkError();o.addSshJwk(e.sshJwk)}l.label=3;case 3:if(c=e.correlationId||this.config.cryptoInterface.createNewGuid(),o.addCorrelationId(c),(!S.$.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&o.addClaims(e.claims,this.config.authOptions.clientCapabilities),d=void 0,e.clientInfo)try{h=(0,Jt.k)(e.clientInfo,this.cryptoUtils),d={credential:""+h.uid+u.LR.CLIENT_INFO_SEPARATOR+h.utid,type:Re.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}else d=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&d)switch(d.type){case Re.HOME_ACCOUNT_ID:try{h=(0,Jt.Z)(d.credential),o.addCcsOid(h)}catch(f){this.logger.verbose("Could not parse home account ID for CCS Header: "+f)}break;case Re.UPN:o.addCcsUpn(d.credential)}return e.tokenBodyParameters&&o.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[u.lB.RETURN_SPA_CODE]||o.addExtraQueryParameters(((p={})[u.lB.RETURN_SPA_CODE]="1",p)),[2,o.createQueryString()]}}))}))},t.prototype.createAuthCodeUrlQueryString=function(e){var t;return(0,l.sH)(this,void 0,void 0,(function(){var n,o,i,a,s,c,d;return(0,l.YH)(this,(function(h){switch(h.label){case 0:if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.AuthClientCreateQueryString,e.correlationId),(n=new en).addClientId(this.config.authOptions.clientId),o=(0,l.aN)(e.scopes||[],e.extraScopesToConsent||[]),n.addScopes(o),n.addRedirectUri(e.redirectUri),i=e.correlationId||this.config.cryptoInterface.createNewGuid(),n.addCorrelationId(i),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==u._M.SELECT_ACCOUNT)if(e.sid&&e.prompt===u._M.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){if(a=this.extractAccountSid(e.account),s=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(s);try{c=(0,Jt.Z)(e.account.homeAccountId),n.addCcsOid(c)}catch(p){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===u._M.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(a);try{c=(0,Jt.Z)(e.account.homeAccountId),n.addCcsOid(c)}catch(p){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{c=(0,Jt.Z)(e.account.homeAccountId),n.addCcsOid(c)}catch(p){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(!S.$.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&n.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(n.addNativeBroker(),e.authenticationScheme!==u.IO.POP?[3,2]:[4,new nn(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:d=h.sent(),n.addPopToken(d.reqCnfString),h.label=2;case 2:return[2,n.createQueryString()]}}))}))},t.prototype.createLogoutUrlQueryString=function(e){var t=new en;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.extractAccountSid=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null},t.prototype.extractLoginHint=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null},t}(tn),sn=n(9618);function cn(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}var un={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},ln={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}};var dn,hn=function(){function e(e,t,n){this.networkInterface=e,this.performanceClient=t,this.correlationId=n}return e.prototype.detectRegion=function(t,n){var o,i,a,s;return(0,l.sH)(this,void 0,void 0,(function(){var c,d,h,p,f;return(0,l.YH)(this,(function(l){switch(l.label){case 0:if(null===(o=this.performanceClient)||void 0===o||o.addQueueMeasurement(r.RegionDiscoveryDetectRegion,this.correlationId),c=t)return[3,8];d=e.IMDS_OPTIONS,l.label=1;case 1:return l.trys.push([1,6,,7]),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(u.YM.IMDS_VERSION,d)];case 2:return(h=l.sent()).status===u.Kk.httpSuccess&&(c=h.body,n.region_source=u.jZ.IMDS),h.status!==u.Kk.httpBadRequest?[3,5]:(null===(a=this.performanceClient)||void 0===a||a.setPreQueueTime(r.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(d)]);case 3:return(p=l.sent())?(null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(r.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(p,d)]):(n.region_source=u.jZ.FAILED_AUTO_DETECTION,[2,null]);case 4:(f=l.sent()).status===u.Kk.httpSuccess&&(c=f.body,n.region_source=u.jZ.IMDS),l.label=5;case 5:return[3,7];case 6:return l.sent(),n.region_source=u.jZ.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:n.region_source=u.jZ.ENVIRONMENT_VARIABLE,l.label=9;case 9:return c||(n.region_source=u.jZ.FAILED_AUTO_DETECTION),[2,c||null]}}))}))},e.prototype.getRegionFromIMDS=function(e,t){var n;return(0,l.sH)(this,void 0,void 0,(function(){return(0,l.YH)(this,(function(o){return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(r.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(u.YM.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,u.YM.IMDS_TIMEOUT)]}))}))},e.prototype.getCurrentVersion=function(e){var t;return(0,l.sH)(this,void 0,void 0,(function(){var n;return(0,l.YH)(this,(function(o){switch(o.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.RegionDiscoveryGetCurrentVersion,this.correlationId),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(u.YM.IMDS_ENDPOINT+"?format=json",e)];case 2:return(n=o.sent()).status===u.Kk.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?[2,n.body["newest-versions"][0]]:[2,null];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),pn=function(){function e(e,t,n,r,o,i,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=a,this.regionDiscovery=new hn(t,this.performanceClient,this.correlationId)}return e.prototype.getAuthorityType=function(e){if(e.HostNameAndPort.endsWith(u.YM.CIAM_AUTH_URL))return sn.I.Ciam;var t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case u.YM.ADFS:return sn.I.Adfs;case u.YM.DSTS:return sn.I.Dsts}return sn.I.Default},Object.defineProperty(e.prototype,"authorityType",{get:function(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new kt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw De.e.createLogoutNotSupportedError();return this.replacePath(this.metadata.end_session_endpoint)}throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jwksUri",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.canReplaceTenant=function(t){return 1===t.PathSegments.length&&!e.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===sn.I.Default&&this.protocolMode===Pt.e.AAD},e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=this,n=e,r=new kt(this.metadata.canonical_authority).getUrlComponents(),o=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,i){var a=o[i];if(0===i&&t.canReplaceTenant(r)){var s=new kt(t.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==s&&(t.logger.verbose("Replacing tenant domain name "+a+" with id "+s),a=s)}e!==a&&(n=n.replace("/"+a+"/","/"+e+"/"))})),this.replaceTenant(n)},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===sn.I.Adfs||this.authorityType===sn.I.Dsts||this.protocolMode===Pt.e.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){var e,t,n;return(0,l.sH)(this,void 0,void 0,(function(){var o,i,a,s;return(0,l.YH)(this,(function(c){switch(c.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(r.AuthorityResolveEndpointsAsync,this.correlationId),(o=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(o=new wt).updateCanonicalAuthority(this.canonicalAuthority),null===(t=this.performanceClient)||void 0===t||t.setPreQueueTime(r.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(o)];case 1:return i=c.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,o.preferred_network),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(o)];case 2:return a=c.sent(),i!==u.E_.CACHE&&a!==u.E_.CACHE&&(o.resetExpiresAt(),o.updateCanonicalAuthority(this.canonicalAuthority)),s=this.cacheManager.generateAuthorityMetadataCacheKey(o.preferred_cache),this.cacheManager.setAuthorityMetadata(s,o),this.metadata=o,[2]}}))}))},e.prototype.updateEndpointMetadata=function(e){var t,n,o,i,a,s;return(0,l.sH)(this,void 0,void 0,(function(){var c,d;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.AuthorityUpdateEndpointMetadata,this.correlationId),(c=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(c,!1),[2,u.E_.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,u.E_.CACHE]:(null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(c=l.sent())?(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.azureRegion)?(null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(c)]):[3,3]:[3,4];case 2:c=l.sent(),l.label=3;case 3:return e.updateEndpointMetadata(c,!0),[2,u.E_.NETWORK];case 4:return!(d=this.getEndpointMetadataFromHardcodedValues())||this.authorityOptions.skipAuthorityMetadataCache?[3,7]:(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.azureRegion)?(null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(r.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(d)]):[3,6];case 5:d=l.sent(),l.label=6;case 6:return e.updateEndpointMetadata(d,!1),[2,u.E_.HARDCODED_VALUES];case 7:throw De.e.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new kt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw ut.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){var e;return(0,l.sH)(this,void 0,void 0,(function(){var t,n;return(0,l.YH)(this,(function(o){switch(o.label){case 0:null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(r.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),t={},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,t)];case 2:return[2,cn((n=o.sent()).body)?n.body:null];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in un?un[this.canonicalAuthority]:null},e.prototype.updateMetadataWithRegionalInformation=function(t){var n,o,i,a;return(0,l.sH)(this,void 0,void 0,(function(){var s,c;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(r.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),(s=null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.azureRegion)?s!==u.YM.AZURE_REGION_AUTO_DISCOVER_FLAG?(this.regionDiscoveryMetadata.region_outcome=u._2.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=s,[2,e.replaceWithRegionalInformation(t,s)]):(null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.environmentRegion,this.regionDiscoveryMetadata)]):[3,2];case 1:if(c=l.sent())return this.regionDiscoveryMetadata.region_outcome=u._2.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=c,[2,e.replaceWithRegionalInformation(t,c)];this.regionDiscoveryMetadata.region_outcome=u._2.AUTO_DETECTION_REQUESTED_FAILED,l.label=2;case 2:return[2,t]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){var t,n;return(0,l.sH)(this,void 0,void 0,(function(){var o,i,a;return(0,l.YH)(this,(function(s){switch(s.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||u.YM.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||u.YM.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(e.canonical_authority||u.YM.NOT_APPLICABLE)),(o=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),e.updateCloudDiscoveryMetadata(o,!1),[2,u.E_.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),i=e.isExpired(),this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!i?(this.logger.verbose("Found metadata in the cache."),[2,u.E_.CACHE]):(i&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(o=s.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),e.updateCloudDiscoveryMetadata(o,!0),[2,u.E_.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(a=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),e.updateCloudDiscoveryMetadata(a,!1),[2,u.E_.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),ut.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityType===sn.I.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(r){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ut.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var t;return(0,l.sH)(this,void 0,void 0,(function(){var n,o,i,a,s,c,h,p;return(0,l.YH)(this,(function(l){switch(l.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),n=""+u.YM.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",o={},i=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(n,o)];case 2:if(a=l.sent(),s=void 0,c=void 0,function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(a.body))s=a.body,c=s.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+s.tenant_discovery_endpoint);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(a.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+a.status),(s=a.body).error===u.YM.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+s.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+s.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=e.getCloudDiscoveryMetadataFromNetworkResponse(c,this.hostnameAndPort),[3,4];case 3:return(h=l.sent())instanceof d.l?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: "+h.errorCode+"\nError Description: "+h.errorMessage):(p=h,this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: "+p.name+"\nError Description: "+p.message)),[2,null];case 4:return i||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),i=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,i]}}))}))},e.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in ln?ln[this.canonicalAuthority]:null},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return kt.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0},e.generateAuthority=function(e,t){var n;if(t&&t.azureCloudInstance!==Tt.None){var r=t.tenant?t.tenant:u.YM.DEFAULT_COMMON_TENANT;n=t.azureCloudInstance+"/"+r+"/"}return n||e},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.aliases.indexOf(t)>-1)return r}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw De.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e.isPublicCloudAuthority=function(e){return u.YM.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},e.buildRegionalAuthorityString=function(e,t,n){var r=new kt(e);r.validateAsUri();var o=r.getUrlComponents(),i=t+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=t+"."+u.YM.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=kt.constructAuthorityUriFromObject((0,l.Cl)((0,l.Cl)({},r.getUrlComponents()),{HostNameAndPort:i})).urlString;return n?a+"?"+n:a},e.replaceWithRegionalInformation=function(t,n){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,n),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,n,u.YM.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,n)),t},e.transformCIAMAuthority=function(e){var t=e.endsWith(u.YM.FORWARD_SLASH)?e:""+e+u.YM.FORWARD_SLASH,n=new kt(e).getUrlComponents();0===n.PathSegments.length&&n.HostNameAndPort.endsWith(u.YM.CIAM_AUTH_URL)&&(t=""+t+n.HostNameAndPort.split(".")[0]+u.YM.AAD_TENANT_DOMAIN_SUFFIX);return t},e.reservedTenantDomains=new Set(["{tenant}","{tenantid}",u.v2.COMMON,u.v2.CONSUMERS,u.v2.ORGANIZATIONS]),e}(),fn=function(){function e(){}return e.createDiscoveredInstance=function(t,n,o,i,a,s,c){return(0,l.sH)(this,void 0,void 0,(function(){var u,d,h;return(0,l.YH)(this,(function(l){switch(l.label){case 0:null==s||s.addQueueMeasurement(r.AuthorityFactoryCreateDiscoveredInstance,c),u=pn.transformCIAMAuthority(t),d=e.createInstance(u,n,o,i,a,s,c),l.label=1;case 1:return l.trys.push([1,3,,4]),null==s||s.setPreQueueTime(r.AuthorityResolveEndpointsAsync,c),[4,d.resolveEndpointsAsync()];case 2:return l.sent(),[2,d];case 3:throw h=l.sent(),De.e.createEndpointDiscoveryIncompleteError(h);case 4:return[2]}}))}))},e.createInstance=function(e,t,n,r,o,i,a){if(S.$.isEmpty(e))throw ut.createUrlEmptyError();return new pn(e,t,n,r,o,i,a)},e}(),gn=function(){function e(e,t){this.cacheOutcome=u.Rv.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||u.YM.EMPTY_STRING,this.wrapperVer=e.wrapperVer||u.YM.EMPTY_STRING,this.telemetryCacheKey=u.gT.CACHE_KEY+u.LR.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+u.gT.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(u.gT.VALUE_SEPARATOR),n=[e,this.getRegionDiscoveryFields()].join(u.gT.VALUE_SEPARATOR);return[u.gT.SCHEMA_VERSION,n,t].join(u.gT.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*n).join(u.gT.VALUE_SEPARATOR),o=t.errors.slice(0,n).join(u.gT.VALUE_SEPARATOR),i=t.errors.length,a=[i,n<i?u.gT.OVERFLOW_TRUE:u.gT.OVERFLOW_FALSE].join(u.gT.VALUE_SEPARATOR);return[u.gT.SCHEMA_VERSION,t.cacheHits,r,o,a].join(u.gT.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=u.gT.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),S.$.isEmpty(e.subError)?S.$.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(u.gT.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new Et;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t);if(n===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var r=new Et;r.failedRequests=t.failedRequests.slice(2*n),r.errors=t.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}},e.maxErrorsToSend=function(e){var t,n=0,r=0,o=e.errors.length;for(t=0;t<o;t++){var i=e.failedRequests[2*t]||u.YM.EMPTY_STRING,a=e.failedRequests[2*t+1]||u.YM.EMPTY_STRING,s=e.errors[t]||u.YM.EMPTY_STRING;if(!((r+=i.toString().length+a.toString().length+s.length+3)<u.gT.MAX_LAST_HEADER_BYTES))break;n+=1}return n},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||u.YM.EMPTY_STRING),e.push(this.regionSource||u.YM.EMPTY_STRING),e.push(this.regionOutcome||u.YM.EMPTY_STRING),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}(),mn=function(){function e(e,t,n,r,o,i,a,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=c||this.browserCrypto.createNewGuid(),this.logger=r.clone(g.Q1.MSAL_SKU,$t,this.correlationId),this.performanceClient=a}return e.prototype.clearCacheOnLogout=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){switch(t.label){case 0:if(!e)return[3,5];f.d.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(f.d.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}}))}))},e.prototype.initializeBaseRequest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,o,i,s;return(0,a.YH)(this,(function(c){switch(c.label){case 0:return this.performanceClient.addQueueMeasurement(r.InitializeBaseRequest,e.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),n=e.authority||this.config.auth.authority,t?[4,this.validateRequestAuthority(n,t)]:[3,2];case 1:c.sent(),c.label=2;case 2:if(o=(0,a.gz)(e&&e.scopes||[]),(i=(0,a.Cl)((0,a.Cl)({},e),{correlationId:this.correlationId,authority:n,scopes:o})).authenticationScheme){if(i.authenticationScheme===u.IO.SSH){if(!e.sshJwk)throw ut.createMissingSshJwkError();if(!e.sshKid)throw ut.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+i.authenticationScheme+'" as configured in Auth request')}else i.authenticationScheme=u.IO.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return this.config.cache.claimsBasedCachingEnabled&&e.claims&&!S.$.isEmptyObj(e.claims)?(s=i,[4,this.browserCrypto.hashString(e.claims)]):[3,4];case 3:s.requestedClaimsHash=c.sent(),c.label=4;case 4:return[2,i]}}))}))},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||Yt.getCurrentUri();return kt.getAbsoluteUrl(t,Yt.getCurrentUri())},e.prototype.validateRequestAuthority=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){switch(n.label){case 0:return[4,this.getDiscoveredAuthority(e)];case 1:if(!n.sent().isAlias(t.environment))throw ut.createAuthorityMismatchError();return[2]}}))}))},e.prototype.initializeServerTelemetryManager=function(e,t){this.logger.verbose("initializeServerTelemetryManager called");var n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new gn(n,this.browserStorage)},e.prototype.getDiscoveredAuthority=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,fn.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t,this.logger)]):[3,2];case 1:case 3:return[2,n.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,fn.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t,this.logger)]}}))}))},e}(),yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t.prototype.initializeAuthorizationCodeRequest=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n;return(0,a.YH)(this,(function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(r.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=o.sent(),n=(0,a.Cl)((0,a.Cl)({},e),{redirectUri:e.redirectUri,code:u.YM.EMPTY_STRING,codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=u.YM.S256_CODE_CHALLENGE_METHOD,[2,n]}}))}))},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId);var t=(0,a.Cl)({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=kt.getAbsoluteUrl(e.postLogoutRedirectUri,Yt.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=kt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Yt.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=kt.getAbsoluteUrl(Yt.getCurrentUri(),Yt.getCurrentUri())),t},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var o;return(0,a.YH)(this,(function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(r.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(r.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,n)];case 1:return o=i.sent(),[2,new an(o,this.performanceClient)]}}))}))},t.prototype.getClientConfiguration=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var o,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(r.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(r.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(t,n)];case 1:return o=a.sent(),i=this.config.system.loggerOptions,[2,{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:i.loggerCallback,piiLoggingEnabled:i.piiLoggingEnabled,logLevel:i.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:g.Q1.MSAL_SKU,version:$t,cpu:u.YM.EMPTY_STRING,os:u.YM.EMPTY_STRING},telemetry:this.config.telemetry}]}}))}))},t.prototype.validateAndExtractStateFromHash=function(e,t,n){if(this.logger.verbose("validateAndExtractStateFromHash called",n),!e.state)throw ye.createHashDoesNotContainStateError();var r=At.extractBrowserRequestState(this.browserCrypto,e.state);if(!r)throw ye.createUnableToParseStateError();if(r.interactionType!==t)throw ye.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",n),e.state},t.prototype.getDiscoveredAuthority=function(e,t){var n;return(0,a.sH)(this,void 0,void 0,(function(){var o,i,s,c;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(r.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),o=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(r.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e||this.config.auth.authority,c=pn.generateAuthority(s,t||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(r.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,fn.createDiscoveredInstance(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.performanceClient,this.correlationId).then((function(e){return o.endMeasurement({success:!0}),e})).catch((function(e){throw o.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))];case 1:return[2,a.sent()]}}))}))},t.prototype.initializeAuthorizationRequest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,o,i,s,c,l,d;return(0,a.YH)(this,(function(h){switch(h.label){case 0:return this.performanceClient.addQueueMeasurement(r.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),n=this.getRedirectUri(e.redirectUri),o={interactionType:t},i=_t.setRequestState(this.browserCrypto,e&&e.state||u.YM.EMPTY_STRING,o),this.performanceClient.setPreQueueTime(r.InitializeBaseRequest,this.correlationId),c=[{}],[4,this.initializeBaseRequest(e)];case 1:return s=a.Cl.apply(void 0,[a.Cl.apply(void 0,c.concat([h.sent()])),{redirectUri:n,state:i,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:u.p.FRAGMENT}]),(l=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+l.homeAccountId,this.correlationId),s.account=l),S.$.isEmpty(s.loginHint)&&!l&&(d=this.browserStorage.getLegacyLoginHint())&&(s.loginHint=d),[2,s]}}))}))},t}(mn);!function(e){e.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",e.USER_CANCEL="USER_CANCEL",e.NO_NETWORK="NO_NETWORK",e.TRANSIENT_ERROR="TRANSIENT_ERROR",e.PERSISTENT_ERROR="PERSISTENT_ERROR",e.DISABLED="DISABLED",e.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"}(dn||(dn={}));var vn={code:"ContentError"},Cn={code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},En={code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"},wn=function(e){function t(n,r,o){var i=e.call(this,n,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="NativeAuthError",i.ext=o,i}return(0,a.C6)(t,e),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==dn.PERSISTENT_ERROR&&this.ext.status!==dn.DISABLED)||this.errorCode===vn.code},t.createError=function(e,n,r){if(r&&r.status)switch(r.status){case dn.ACCOUNT_UNAVAILABLE:return p.CB.createNativeAccountUnavailableError();case dn.USER_INTERACTION_REQUIRED:return new p.CB(e,n);case dn.USER_CANCEL:return ye.createUserCancelledError();case dn.NO_NETWORK:return ye.createNoNetworkConnectivityError()}return new t(e,n,r)},t.createUserSwitchError=function(){return new t(Cn.code,Cn.desc)},t.createTokensNotFoundInCacheError=function(){return new t(En.code,En.desc)},t}(d.l),bn=function(e){function t(t,n){return e.call(this,t,n)||this}return(0,l.C6)(t,e),t.prototype.acquireToken=function(e){var t,n,o,i,a,s,c;return(0,l.sH)(this,void 0,void 0,(function(){var d,h,p,f,g,m,y=this;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.RefreshTokenClientAcquireToken,e.correlationId),d=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(r.RefreshTokenClientAcquireToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",e.correlationId),h=mt.nowSeconds(),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(r.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(e,this.authority)];case 1:return p=l.sent(),f=null===(i=p.headers)||void 0===i?void 0:i[u.OK.X_MS_HTTP_VERSION],null==d||d.addStaticFields({refreshTokenSize:(null===(a=p.body.refresh_token)||void 0===a?void 0:a.length)||0}),f&&(null==d||d.addStaticFields({httpVerToken:f})),g=null===(s=p.headers)||void 0===s?void 0:s[u.OK.X_MS_REQUEST_ID],(m=new on(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(p.body),null===(c=this.performanceClient)||void 0===c||c.setPreQueueTime(r.HandleServerTokenResponse,e.correlationId),[2,m.handleServerTokenResponse(p.body,this.authority,h,e,void 0,void 0,!0,e.forceCache,g).then((function(e){return null==d||d.endMeasurement({success:!0}),e})).catch((function(t){throw y.logger.verbose("Error in fetching refresh token",e.correlationId),null==d||d.endMeasurement({errorCode:t.errorCode,subErrorCode:t.subError,success:!1}),t}))]}}))}))},t.prototype.acquireTokenByRefreshToken=function(e){var t,n,o,i;return(0,l.sH)(this,void 0,void 0,(function(){var a,s;return(0,l.YH)(this,(function(c){if(!e)throw ut.createEmptyTokenRequestError();if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw De.e.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(r.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(l){if(a=l instanceof p.CB&&l.errorCode===p.$D.noTokensFoundError.code,s=l instanceof h&&l.errorCode===u.I.INVALID_GRANT_ERROR&&l.subError===u.I.CLIENT_MISMATCH_ERROR,a||s)return null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(r.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw l}return null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){var n,o,i;return(0,l.sH)(this,void 0,void 0,(function(){var a,s,c;return(0,l.YH)(this,(function(d){if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(r.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),a=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(r.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",e.correlationId),!(s=this.cacheManager.getRefreshToken(e.account,t)))throw null==a||a.discardMeasurement(),p.CB.createNoTokensFoundError();return null==a||a.endMeasurement({success:!0}),c=(0,l.Cl)((0,l.Cl)({},e),{refreshToken:s.secret,authenticationScheme:e.authenticationScheme||u.IO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Re.HOME_ACCOUNT_ID}}),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.RefreshTokenClientAcquireToken,e.correlationId),[2,this.acquireToken(c)]}))}))},t.prototype.executeTokenRequest=function(e,t){var n,o,i;return(0,l.sH)(this,void 0,void 0,(function(){var a,s,c,u,d,h;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(r.RefreshTokenClientExecuteTokenRequest,e.correlationId),a=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(r.RefreshTokenClientExecuteTokenRequest,e.correlationId),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(r.RefreshTokenClientCreateTokenRequestBody,e.correlationId),s=this.createTokenQueryParameters(e),c=kt.appendQueryString(t.tokenEndpoint,s),[4,this.createTokenRequestBody(e)];case 1:return u=l.sent(),d=this.createTokenRequestHeaders(e.ccsCredential),h={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},[2,this.executePostToTokenEndpoint(c,u,d,h).then((function(e){return null==a||a.endMeasurement({success:!0}),e})).catch((function(e){throw null==a||a.endMeasurement({success:!1}),e}))]}}))}))},t.prototype.createTokenRequestBody=function(e){var t,n,o;return(0,l.sH)(this,void 0,void 0,(function(){var i,a,s,c,d,h,p;return(0,l.YH)(this,(function(l){switch(l.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(r.RefreshTokenClientCreateTokenRequestBody,e.correlationId),i=e.correlationId,a=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(r.BaseClientCreateTokenRequestHeaders,i),(s=new en).addClientId(this.config.authOptions.clientId),s.addScopes(e.scopes),s.addGrantType(u.$x.REFRESH_TOKEN_GRANT),s.addClientInfo(),s.addLibraryInfo(this.config.libraryInfo),s.addApplicationTelemetry(this.config.telemetry.application),s.addThrottling(),this.serverTelemetryManager&&s.addServerTelemetry(this.serverTelemetryManager),s.addCorrelationId(i),s.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&s.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(c=this.config.clientCredentials.clientAssertion,s.addClientAssertion(c.assertion),s.addClientAssertionType(c.assertionType)),e.authenticationScheme!==u.IO.POP?[3,2]:(d=new nn(this.cryptoUtils,this.performanceClient),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(r.PopTokenGenerateCnf,e.correlationId),[4,d.generateCnf(e)]);case 1:return h=l.sent(),s.addPopToken(h.reqCnfString),[3,3];case 2:if(e.authenticationScheme===u.IO.SSH){if(!e.sshJwk)throw null==a||a.endMeasurement({success:!1}),ut.createMissingSshJwkError();s.addSshJwk(e.sshJwk)}l.label=3;case 3:if((!S.$.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&s.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Re.HOME_ACCOUNT_ID:try{p=(0,Jt.Z)(e.ccsCredential.credential),s.addCcsOid(p)}catch(f){this.logger.verbose("Could not parse home account ID for CCS Header: "+f)}break;case Re.UPN:s.addCcsUpn(e.ccsCredential.credential)}return null==a||a.endMeasurement({success:!0}),[2,s.createQueryString()]}}))}))},t}(tn),_n=function(e){function t(t,n){return e.call(this,t,n)||this}return(0,l.C6)(t,e),t.prototype.acquireToken=function(e){return(0,l.sH)(this,void 0,void 0,(function(){var t;return(0,l.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof De.e&&t.errorCode===De.N.tokenRefreshRequired.code)return[2,new bn(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},t.prototype.acquireCachedToken=function(e){var t,n,r,o,i;return(0,l.sH)(this,void 0,void 0,(function(){var a,s;return(0,l.YH)(this,(function(c){switch(c.label){case 0:if(!e)throw ut.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(t=this.serverTelemetryManager)||void 0===t||t.setCacheOutcome(u.Rv.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),De.e.createRefreshRequiredError();if(!this.config.cacheOptions.claimsBasedCachingEnabled&&!S.$.isEmptyObj(e.claims))throw null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(u.Rv.CLAIMS_REQUESTED_CACHE_SKIPPED),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because claims-based caching is disabled and claims were requested."),De.e.createRefreshRequiredError();if(!e.account)throw De.e.createNoAccountInSilentRequestError();if(a=e.authority||this.authority.getPreferredCache(),!(s=this.cacheManager.readCacheRecord(e.account,e,a)).accessToken)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(u.Rv.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),De.e.createRefreshRequiredError();if(mt.wasClockTurnedBack(s.accessToken.cachedAt)||mt.isTokenExpired(s.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(u.Rv.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),De.e.createRefreshRequiredError();if(s.accessToken.refreshOn&&mt.isTokenExpired(s.accessToken.refreshOn,0))throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(u.Rv.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),De.e.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(s,e)];case 1:return[2,c.sent()]}}))}))},t.prototype.generateResultFromCacheRecord=function(e,t){return(0,l.sH)(this,void 0,void 0,(function(){var n,r;return(0,l.YH)(this,(function(o){switch(o.label){case 0:if(e.idToken&&(n=new dt(e.idToken.secret,this.config.cryptoInterface)),t.maxAge||0===t.maxAge){if(!(r=null==n?void 0:n.claims.auth_time))throw De.e.createAuthTimeNotFoundError();dt.checkMaxAge(r,t.maxAge)}return[4,on.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)];case 1:return[2,o.sent()]}}))}))},t}(tn),Tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return t=this.performanceClient.startMeasurement(r.SilentCacheClientAcquireToken,e.correlationId),n=this.initializeServerTelemetryManager(g.sA.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(n,e.authority,e.azureCloudOptions)];case 1:o=a.sent(),this.logger.verbose("Silent auth client created"),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o.acquireCachedToken(e)];case 3:return i=a.sent(),t.endMeasurement({success:!0,fromCache:!0}),[2,i];case 4:throw(s=a.sent())instanceof ye&&s.errorCode===ae.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),t.endMeasurement({errorCode:s instanceof d.l&&s.errorCode||void 0,subErrorCode:s instanceof d.l&&s.subError||void 0,success:!1}),s;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(ye.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var o;return(0,a.YH)(this,(function(i){switch(i.label){case 0:return this.performanceClient.setPreQueueTime(r.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,n)];case 1:return o=i.sent(),[2,new _n(o,this.performanceClient)]}}))}))},t.prototype.initializeSilentRequest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n;return(0,a.YH)(this,(function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(r.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(r.InitializeBaseRequest,this.correlationId),n=[(0,a.Cl)({},e)],[4,this.initializeBaseRequest(e,t)];case 1:return[2,a.Cl.apply(void 0,[a.Cl.apply(void 0,n.concat([o.sent()])),{account:t,forceRefresh:e.forceRefresh||!1}])]}}))}))},t}(yn),Sn=function(e){function t(t,n,r,o,i,a,s,c,u,l,d,h){var p=e.call(this,t,n,r,o,i,a,c,u,h)||this;return p.apiId=s,p.accountId=l,p.nativeMessageHandler=u,p.nativeStorageManager=d,p.silentCacheClient=new Tn(t,p.nativeStorageManager,r,o,i,a,c,u,h),p}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,c,u;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),t=this.performanceClient.startMeasurement(r.NativeInteractionClientAcquireToken,e.correlationId),n=mt.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,o)];case 3:return i=a.sent(),t.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,i];case 4:return a.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return s={method:g.Ct.GetToken,request:o},[4,this.nativeMessageHandler.sendMessage(s)];case 6:return c=a.sent(),u=this.validateNativeResponse(c),[2,this.handleNativeResponse(u,o,n).then((function(e){return t.endMeasurement({success:!0,isNativeBroker:!0,requestId:e.requestId}),e})).catch((function(e){throw t.endMeasurement({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))]}}))}))},t.prototype.createSilentCacheRequest=function(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:lt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,r,o,i;return(0,a.YH)(this,(function(s){switch(s.label){case 0:if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),De.e.createNoAccountFoundError();if(!(n=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e})))throw De.e.createNoAccountFoundError();s.label=1;case 1:return s.trys.push([1,3,,4]),r=this.createSilentCacheRequest(t,n),[4,this.silentCacheClient.acquireToken(r)];case 2:return o=s.sent(),i=(0,a.Cl)((0,a.Cl)({},n),{idTokenClaims:o.idTokenClaims}),[2,(0,a.Cl)((0,a.Cl)({},o),{account:i})];case 3:throw s.sent();case 4:return[2]}}))}))},t.prototype.acquireTokenRedirect=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,r,o,i,s;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:t=a.sent(),n={method:g.Ct.GetToken,request:t},a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(n)];case 3:return r=a.sent(),this.validateNativeResponse(r),[3,5];case 4:if((o=a.sent())instanceof wn&&o.isFatal())throw o;return[3,5];case 5:return this.browserStorage.setTemporaryCache(g._p.NATIVE_REQUEST,JSON.stringify(t),!0),i={apiId:g.sA.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(s,i)];case 6:return a.sent(),[2]}}))}))},t.prototype.handleRedirectPromise=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,c;return(0,a.YH)(this,(function(u){switch(u.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];t=e.prompt,n=(0,a.Tt)(e,["prompt"]),t&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(g._p.NATIVE_REQUEST)),r={method:g.Ct.GetToken,request:n},o=mt.nowSeconds(),u.label=1;case 1:return u.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(r)];case 2:return i=u.sent(),this.validateNativeResponse(i),s=this.handleNativeResponse(i,n,o),this.browserStorage.setInteractionInProgress(!1),[2,s];case 3:throw c=u.sent(),this.browserStorage.setInteractionInProgress(!1),c;case 4:return[2]}}))}))},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var r,o,i,s,c;return(0,a.YH)(this,(function(a){switch(a.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==t.accountId)throw wn.createUserSwitchError();return[4,this.getDiscoveredAuthority(t.authority)];case 1:return r=a.sent(),o=this.createIdTokenObj(e),i=this.createHomeAccountIdentifier(e,o),s=f.d.createAccount({homeAccountId:i,idTokenClaims:o.claims,clientInfo:e.client_info,nativeAccountId:e.account.id},r),[4,this.generateAuthenticationResult(e,t,o,s,r.canonicalAuthority,n)];case 2:return c=a.sent(),this.cacheAccount(s),this.cacheNativeTokens(e,t,i,o,c.accessToken,c.tenantId,n),[2,c]}}))}))},t.prototype.createIdTokenObj=function(e){return new dt(e.id_token||u.YM.EMPTY_STRING,this.browserCrypto)},t.prototype.createHomeAccountIdentifier=function(e,t){return f.d.generateHomeAccountId(e.client_info||u.YM.EMPTY_STRING,sn.I.Default,this.logger,this.browserCrypto,t.claims)},t.prototype.generateScopes=function(e,t){return e.scope?lt.fromString(e.scope):lt.fromString(t.scope)},t.prototype.generatePopAccessToken=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,r;return(0,a.YH)(this,(function(o){switch(o.label){case 0:if(t.tokenType!==u.IO.POP)return[3,2];if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,e.shr];if(n=new nn(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce},!t.keyId)throw De.e.createKeyIdMissingError();return[4,n.signPopToken(e.access_token,t.keyId,r)];case 1:return[2,o.sent()];case 2:return[2,e.access_token]}}))}))},t.prototype.generateAuthenticationResult=function(e,t,n,r,o,i){return(0,a.sH)(this,void 0,void 0,(function(){var s,c,l,d,h,p,f;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return s=this.addTelemetryFromNativeResponse(e),c=e.scope?lt.fromString(e.scope):lt.fromString(t.scope),l=e.account.properties||{},d=l.UID||n.claims.oid||n.claims.sub||u.YM.EMPTY_STRING,h=l.TenantId||n.claims.tid||u.YM.EMPTY_STRING,[4,this.generatePopAccessToken(e,t)];case 1:return p=a.sent(),f=t.tokenType===u.IO.POP?u.IO.POP:u.IO.BEARER,[2,{authority:o,uniqueId:d,tenantId:h,scopes:c.asArray(),account:r.getAccountInfo(),idToken:e.id_token,idTokenClaims:n.claims,accessToken:p,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}]}}))}))},t.prototype.cacheAccount=function(e){var t=this;this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((function(e){t.logger.error("Error occurred while removing account context from browser storage. "+e)}))},t.prototype.cacheNativeTokens=function(e,t,n,r,o,i,a){var s=Ue.createIdTokenEntity(n,t.authority,e.id_token||u.YM.EMPTY_STRING,t.clientId,r.claims.tid||u.YM.EMPTY_STRING),c=a+(t.tokenType===u.IO.POP?u.YM.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),l=this.generateScopes(e,t),d=yt.createAccessTokenEntity(n,t.authority,o,t.clientId,r?r.claims.tid||u.YM.EMPTY_STRING:i,l.printScopes(),c,0,this.browserCrypto),h=new St(void 0,s,d);this.nativeStorageManager.saveCacheRecord(h)},t.prototype.addTelemetryFromNativeResponse=function(e){var t=this.getMATSFromResponse(e);return t?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw wn.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return void 0===e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,r,o,i,s,c,l,d,h=this;return(0,a.YH)(this,(function(p){switch(p.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),t=e.authority||this.config.auth.authority,e.account?[4,this.validateRequestAuthority(t,e.account)]:[3,2];case 1:p.sent(),p.label=2;case 2:return(n=new kt(t)).validateAsUri(),r=e.scopes,o=(0,a.Tt)(e,["scopes"]),(i=new lt(r||[])).appendScopes(u.aZ),s=function(){switch(h.apiId){case g.sA.ssoSilent:case g.sA.acquireTokenSilent_silentFlow:return h.logger.trace("initializeNativeRequest: silent request sets prompt to none"),u._M.NONE}if(e.prompt)switch(e.prompt){case u._M.NONE:case u._M.CONSENT:case u._M.LOGIN:return h.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw h.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),ye.createNativePromptParameterNotSupportedError()}else h.logger.trace("initializeNativeRequest: prompt was not provided")},c=(0,a.Cl)((0,a.Cl)({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:s(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:(0,a.Cl)((0,a.Cl)((0,a.Cl)({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:g.JD.MATS_TELEMETRY}),extendedExpiryToken:!1}),e.authenticationScheme!==u.IO.POP?[3,4]:(l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new nn(this.browserCrypto).generateCnf(l)]);case 3:d=p.sent(),c.reqCnf=d.reqCnfString,c.keyId=d.kid,p.label=4;case 4:return[2,c]}}))}))},t}(mn),In=function(){function e(e,t,n,o){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=o,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(r.NativeMessageHandlerHandshake)}return e.prototype.sendMessage=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n=this;return(0,a.YH)(this,(function(r){return this.logger.trace("NativeMessageHandler - sendMessage called."),t={channel:g.JD.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:e},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(t)),this.messageChannel.port1.postMessage(t),[2,new Promise((function(e,r){n.resolvers.set(t.responseId,{resolve:e,reject:r})}))]}))}))},e.createProvider=function(t,n,r){return(0,a.sH)(this,void 0,void 0,(function(){var o,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:t.trace("NativeMessageHandler - createProvider called."),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,(o=new e(t,n,r,g.JD.PREFERRED_EXTENSION_ID)).sendHandshakeRequest()];case 2:return a.sent(),[2,o];case 3:return a.sent(),[4,(i=new e(t,n,r)).sendHandshakeRequest()];case 4:return a.sent(),[2,i];case 5:return[2]}}))}))},e.prototype.sendHandshakeRequest=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t=this;return(0,a.YH)(this,(function(n){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),e={channel:g.JD.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:g.Ct.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(e){t.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),[2,new Promise((function(n,r){t.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),t.timeoutId=window.setTimeout((function(){window.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),t.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),r(ye.createNativeHandshakeTimeoutError()),t.handshakeResolvers.delete(e.responseId)}),t.handshakeTimeoutMs)}))]}))}))},e.prototype.onWindowMessage=function(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source===window){var t=e.data;if(t.channel&&t.channel===g.JD.CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===g.Ct.HandshakeRequest){this.logger.verbose(t.extensionId?"Extension with id: "+t.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var n=this.handshakeResolvers.get(t.responseId);n&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),n.reject(ye.createNativeExtensionNotInstalledError()))}}},e.prototype.onChannelMessage=function(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{var o=t.body.method;if(o===g.Ct.Response){if(!n)return;var i=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(i)),"Success"!==i.status)n.reject(wn.createError(i.code,i.description,i.ext));else{if(!i.result)throw d.l.createUnexpectedError("Event does not contain result.");i.result.code&&i.result.description?n.reject(wn.createError(i.result.code,i.result.description,i.result.ext)):n.resolve(i.result)}this.resolvers.delete(t.responseId)}else if(o===g.Ct.HandshakeResponse){if(!r)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+a.toString()),this.logger.errorPii("Unable to parse "+e),n?n.reject(a):r&&r.reject(a)}},e.prototype.getExtensionId=function(){return this.extensionId},e.prototype.getExtensionVersion=function(){return this.extensionVersion},e.isNativeAvailable=function(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case u.IO.BEARER:case u.IO.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},e}(),kn=function(){function e(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}return e.prototype.handleCodeResponseFromHash=function(e,t,n,o){return(0,a.sH)(this,void 0,void 0,(function(){var i,s,c;return(0,a.YH)(this,(function(a){if(this.performanceClient.addQueueMeasurement(r.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),S.$.isEmpty(e))throw ye.createEmptyHashError(e);if(i=this.browserStorage.generateStateKey(t),!(s=this.browserStorage.getTemporaryCache(i)))throw De.e.createStateNotFoundError("Cached State");try{c=this.authModule.handleFragmentResponse(e,s)}catch(u){throw u instanceof h&&u.subError===q.code?ye.createUserCancelledError():u}return this.performanceClient.setPreQueueTime(r.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(c,t,n,o)]}))}))},e.prototype.handleCodeResponseFromServer=function(e,t,n,o,i){return void 0===i&&(i=!0),(0,a.sH)(this,void 0,void 0,(function(){var s,c,u,l,d,h;return(0,a.YH)(this,(function(a){switch(a.label){case 0:if(this.performanceClient.addQueueMeasurement(r.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),s=this.browserStorage.generateStateKey(t),!(c=this.browserStorage.getTemporaryCache(s)))throw De.e.createStateNotFoundError("Cached State");return u=this.browserStorage.generateNonceKey(c),l=this.browserStorage.getTemporaryCache(u),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(r.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,n,o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return i&&(e.nonce=l||void 0),e.state=c,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),this.performanceClient.setPreQueueTime(r.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return h=a.sent(),this.browserStorage.cleanRequestByState(t),[2,h]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var o,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(r.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),o="https://"+e+"/"+t.tenant+"/",[4,fn.createDiscoveredInstance(o,n,this.browserStorage,t.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return i=a.sent(),this.authModule.updateAuthority(i),[2]}}))}))},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(g._p.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),An=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o,i,a,s,u,l)||this;return d.unloadWindow=d.unloadWindow.bind(d),d.nativeStorage=c,d}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){try{var t=this.generatePopupName(e.scopes||u.aZ,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,n);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var r=this.openSizedPopup("about:blank",t,n);return this.acquireTokenPopupAsync(e,t,n,r)}catch(o){return Promise.reject(o)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var t=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(t),r=e&&e.authority,o=e&&e.mainWindowRedirectUri,i=(null==e?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,i,r,void 0,o);this.logger.verbose("asyncPopup set to false, opening popup");var a=this.openSizedPopup("about:blank",n,i);return this.logoutPopupAsync(t,n,i,r,a,o)}catch(s){return Promise.reject(s)}},t.prototype.acquireTokenPopupAsync=function(e,t,n,o){return(0,a.sH)(this,void 0,void 0,(function(){var i,s,c,l,h,p,f,m,y,v,C,E,w,b,_,T,S=this;return(0,a.YH)(this,(function(I){switch(I.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),i=this.initializeServerTelemetryManager(g.sA.acquireTokenPopup),this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,g.X8.Popup)];case 1:s=I.sent(),this.browserStorage.updateCacheEntries(s.state,s.nonce,s.authority,s.loginHint||u.YM.EMPTY_STRING,s.account||null),I.label=2;case 2:return I.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(s)];case 3:return c=I.sent(),this.performanceClient.setPreQueueTime(r.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(i,s.authority,s.azureCloudOptions)];case 4:return l=I.sent(),this.logger.verbose("Auth code client created"),h=In.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),p=void 0,h&&(p=this.performanceClient.startMeasurement(r.FetchAccountIdWithNativeBroker,e.correlationId)),[4,l.getAuthCodeUrl((0,a.Cl)((0,a.Cl)({},s),{nativeBroker:h}))];case 5:return f=I.sent(),m=new kn(l,this.browserStorage,c,this.logger,this.performanceClient),y={popup:o,popupName:t,popupWindowAttributes:n},v=this.initiateAuthRequest(f,y),this.eventHandler.emitEvent(Qt.B.POPUP_OPENED,g.X8.Popup,{popupWindow:v},null),[4,this.monitorPopupForHash(v)];case 6:if(C=I.sent(),E=kt.getDeserializedHash(C),w=this.validateAndExtractStateFromHash(E,g.X8.Popup,s.correlationId),Xt.removeThrottle(this.browserStorage,this.config.auth.clientId,c),E.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),p&&p.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw ye.createNativeConnectionNotEstablishedError();return b=new Sn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,g.sA.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,E.accountId,this.nativeStorage,s.correlationId),_=_t.parseRequestState(this.browserCrypto,w).userRequestState,[2,b.acquireToken((0,a.Cl)((0,a.Cl)({},s),{state:_,prompt:void 0})).finally((function(){S.browserStorage.cleanRequestByState(w)}))]}return[4,m.handleCodeResponseFromHash(C,w,l.authority,this.networkClient)];case 7:return[2,I.sent()];case 8:throw T=I.sent(),o&&o.close(),T instanceof d.l&&T.setCorrelationId(this.correlationId),i.cacheFailedRequest(T),this.browserStorage.cleanRequestByState(s.state),T;case 9:return[2]}}))}))},t.prototype.logoutPopupAsync=function(e,t,n,o,i,s){return(0,a.sH)(this,void 0,void 0,(function(){var c,u,l,h,p,f,m;return(0,a.YH)(this,(function(a){switch(a.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Qt.B.LOGOUT_START,g.X8.Popup,e),c=this.initializeServerTelemetryManager(g.sA.logoutPopup),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return a.sent(),this.performanceClient.setPreQueueTime(r.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(c,o)];case 3:return u=a.sent(),this.logger.verbose("Auth code client created"),l=u.getLogoutUri(e),this.eventHandler.emitEvent(Qt.B.LOGOUT_SUCCESS,g.X8.Popup,e),h=this.openPopup(l,{popupName:t,popupWindowAttributes:n,popup:i}),this.eventHandler.emitEvent(Qt.B.POPUP_OPENED,g.X8.Popup,{popupWindow:h},null),[4,this.waitForLogoutPopup(h)];case 4:return a.sent(),s?(p={apiId:g.sA.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=kt.getAbsoluteUrl(s,Yt.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+f),this.navigationClient.navigateInternal(f,p)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw m=a.sent(),i&&i.close(),m instanceof d.l&&m.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Qt.B.LOGOUT_FAILURE,g.X8.Popup,null,m),this.eventHandler.emitEvent(Qt.B.LOGOUT_END,g.X8.Popup),c.cacheFailedRequest(m),m;case 6:return this.eventHandler.emitEvent(Qt.B.LOGOUT_END,g.X8.Popup),[2]}}))}))},t.prototype.initiateAuthRequest=function(e,t){if(S.$.isEmpty(e))throw this.logger.error("Navigate url is empty"),ye.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,t)},t.prototype.monitorPopupForHash=function(e){var t=this;return new Promise((function(n,r){var o=t.config.system.windowHashTimeout/t.config.system.pollIntervalMilliseconds,i=0;t.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var a=setInterval((function(){if(e.closed)return t.logger.error("PopupHandler.monitorPopupForHash - window closed"),t.cleanPopup(),clearInterval(a),void r(ye.createUserCancelledError());var s=u.YM.EMPTY_STRING,c=u.YM.EMPTY_STRING;try{s=e.location.href,c=e.location.hash}catch(l){}S.$.isEmpty(s)||"about:blank"===s||(t.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i++,c?(t.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(a),t.cleanPopup(e),kt.hashContainsKnownProperties(c)?(t.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),n(c)):(t.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),t.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+c),r(ye.createHashDoesNotContainKnownPropertiesError()))):i>o&&(t.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(a),r(ye.createMonitorPopupTimeoutError())))}),t.config.system.pollIntervalMilliseconds)}))},t.prototype.waitForLogoutPopup=function(e){var t=this;return new Promise((function(n){t.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var r=setInterval((function(){e.closed&&(t.logger.error("PopupHandler.waitForLogoutPopup - window closed"),t.cleanPopup(),clearInterval(r),n());var o=u.YM.EMPTY_STRING;try{o=e.location.href}catch(i){}S.$.isEmpty(o)||"about:blank"===o||(t.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(r),t.cleanPopup(e),n())}),t.config.system.pollIntervalMilliseconds)}))},t.prototype.openPopup=function(e,t){try{var n=void 0;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: "+e),n.location.assign(e)):void 0===t.popup&&(this.logger.verbosePii("Opening popup window to: "+e),n=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!n)throw ye.createEmptyWindowCreatedError();return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),ye.createPopupWindowError(r.toString())}},t.prototype.openSizedPopup=function(e,t,n){var r,o,i,a,s=window.screenLeft?window.screenLeft:window.screenX,c=window.screenTop?window.screenTop:window.screenY,u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=null===(r=n.popupSize)||void 0===r?void 0:r.width,h=null===(o=n.popupSize)||void 0===o?void 0:o.height,p=null===(i=n.popupPosition)||void 0===i?void 0:i.top,f=null===(a=n.popupPosition)||void 0===a?void 0:a.left;return(!d||d<0||d>u)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=g.Q1.POPUP_WIDTH),(!h||h<0||h>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),h=g.Q1.POPUP_HEIGHT),(!p||p<0||p>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),p=Math.max(0,l/2-g.Q1.POPUP_HEIGHT/2+c)),(!f||f<0||f>u)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,u/2-g.Q1.POPUP_WIDTH/2+s)),window.open(e,t,"width="+d+", height="+h+", top="+p+", left="+f+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(g.X8.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,t){return g.Q1.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+e.join("-")+"."+t+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){var t=e.account&&e.account.homeAccountId;return g.Q1.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+t+"."+this.correlationId},t}(yn),Rn=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,o,a)||this;return s.browserCrypto=i,s}return(0,a.C6)(t,e),t.prototype.initiateAuthRequest=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n;return(0,a.YH)(this,(function(r){switch(r.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),S.$.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(g._p.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(g._p.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),n={apiId:g.sA.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,n)])));case 1:case 5:return r.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,n)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ye.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponseFromHash=function(e,t,n,r){return(0,a.sH)(this,void 0,void 0,(function(){var o,i,s,c,u,l,d;return(0,a.YH)(this,(function(a){switch(a.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),S.$.isEmpty(e))throw ye.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw De.e.createStateNotFoundError("Cached State");try{s=this.authModule.handleFragmentResponse(e,i)}catch(p){throw p instanceof h&&p.subError===q.code?ye.createUserCancelledError():p}return c=this.browserStorage.generateNonceKey(i),u=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=s.code,s.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(s.cloud_instance_host_name,n,r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return s.nonce=u||void 0,s.state=i,s.client_info?this.authCodeRequest.clientInfo=s.client_info:(l=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=l),[4,this.authModule.acquireToken(this.authCodeRequest,s)];case 3:return d=a.sent(),this.browserStorage.cleanRequestByState(t),[2,d]}}))}))},t}(kn),Pn=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o,i,a,s,u,l)||this;return d.nativeStorage=c,d}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,c,l,h,p,f=this;return(0,a.YH)(this,(function(m){switch(m.label){case 0:return this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,g.X8.Redirect)];case 1:t=m.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||u.YM.EMPTY_STRING,t.account||null),n=this.initializeServerTelemetryManager(g.sA.acquireTokenRedirect),o=function(e){e.persisted&&(f.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),f.browserStorage.cleanRequestByState(t.state),f.eventHandler.emitEvent(Qt.B.RESTORE_FROM_BFCACHE,g.X8.Redirect))},m.label=2;case 2:return m.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return i=m.sent(),this.performanceClient.setPreQueueTime(r.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(n,t.authority,t.azureCloudOptions)];case 4:return s=m.sent(),this.logger.verbose("Auth code client created"),c=new Rn(s,this.browserStorage,i,this.logger,this.browserCrypto,this.performanceClient),[4,s.getAuthCodeUrl((0,a.Cl)((0,a.Cl)({},t),{nativeBroker:In.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return l=m.sent(),h=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+h),window.addEventListener("pageshow",o),[4,c.initiateAuthRequest(l,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:h,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,m.sent()];case 7:throw(p=m.sent())instanceof d.l&&p.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",o),n.cacheFailedRequest(p),this.browserStorage.cleanRequestByState(t.state),p;case 8:return[2]}}))}))},t.prototype.handleRedirectPromise=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,r,o,i,s,c,l,h,p,f,m;return(0,a.YH)(this,(function(a){switch(a.label){case 0:t=this.initializeServerTelemetryManager(g.sA.handleRedirectPromise),a.label=1;case 1:if(a.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(n=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(g.X8.Redirect),[2,null];r=void 0;try{o=kt.getDeserializedHash(n),r=this.validateAndExtractStateFromHash(o,g.X8.Redirect),this.logger.verbose("State extracted from hash")}catch(y){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+y),this.browserStorage.cleanRequestByInteractionType(g.X8.Redirect),[2,null]}return i=this.browserStorage.getTemporaryCache(g._p.ORIGIN_URI,!0)||u.YM.EMPTY_STRING,s=kt.removeHashFromUrl(i),c=kt.removeHashFromUrl(window.location.href),s===c&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(n,r,t)]):[3,3];case 2:return l=a.sent(),i.indexOf("#")>-1&&Yt.replaceHash(i),[2,l];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(n,r,t)]);case 4:return Yt.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(g._p.URL_HASH,n,!0),h={apiId:g.sA.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},p=!0,i&&"null"!==i?[3,6]:(f=Yt.getHomepage(),this.browserStorage.setTemporaryCache(g._p.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(f,h)]));case 5:return p=a.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+i),[4,this.navigationClient.navigateInternal(i,h)];case 7:p=a.sent(),a.label=8;case 8:if(!p)return[2,this.handleHash(n,r,t)];a.label=9;case 9:return[2,null];case 10:throw(m=a.sent())instanceof d.l&&m.setCorrelationId(this.correlationId),t.cacheFailedRequest(m),this.browserStorage.cleanRequestByInteractionType(g.X8.Redirect),m;case 11:return[2]}}))}))},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),kt.hashContainsKnownProperties(e))return Yt.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var t=this.browserStorage.getTemporaryCache(g._p.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(g._p.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),t},t.prototype.handleHash=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var o,i,s,c,u,l,d=this;return(0,a.YH)(this,(function(h){switch(h.label){case 0:if(o=this.browserStorage.getCachedRequest(t,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(i=kt.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ye.createNativeConnectionNotEstablishedError();return s=new Sn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,g.sA.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,i.accountId,this.nativeStorage,o.correlationId),c=_t.parseRequestState(this.browserCrypto,t).userRequestState,[2,s.acquireToken((0,a.Cl)((0,a.Cl)({},o),{state:c,prompt:void 0})).finally((function(){d.browserStorage.cleanRequestByState(t)}))]}if(!(u=this.browserStorage.getCachedAuthority(t)))throw ye.createNoCachedAuthorityError();return this.performanceClient.setPreQueueTime(r.StandardInteractionClientCreateAuthCodeClient,o.correlationId),[4,this.createAuthCodeClient(n,u)];case 1:return l=h.sent(),this.logger.verbose("Auth code client created"),Xt.removeThrottle(this.browserStorage,this.config.auth.clientId,o),[4,new Rn(l,this.browserStorage,o,this.logger,this.browserCrypto,this.performanceClient).handleCodeResponseFromHash(e,t,l.authority,this.networkClient)];case 2:return[2,h.sent()]}}))}))},t.prototype.logout=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,c;return(0,a.YH)(this,(function(a){switch(a.label){case 0:this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(g.sA.logout),a.label=1;case 1:return a.trys.push([1,10,,11]),this.eventHandler.emitEvent(Qt.B.LOGOUT_START,g.X8.Redirect,e),[4,this.clearCacheOnLogout(t.account)];case 2:return a.sent(),o={apiId:g.sA.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(r.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(n,e&&e.authority)];case 3:return i=a.sent(),this.logger.verbose("Auth code client created"),s=i.getLogoutUri(t),this.eventHandler.emitEvent(Qt.B.LOGOUT_SUCCESS,g.X8.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(s)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(s,o)]):[3,7];case 4:return a.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),a.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(s,o)];case 8:return a.sent(),[2];case 9:return[3,11];case 10:throw(c=a.sent())instanceof d.l&&c.setCorrelationId(this.correlationId),n.cacheFailedRequest(c),this.eventHandler.emitEvent(Qt.B.LOGOUT_FAILURE,g.X8.Redirect,null,c),this.eventHandler.emitEvent(Qt.B.LOGOUT_END,g.X8.Redirect),c;case 11:return this.eventHandler.emitEvent(Qt.B.LOGOUT_END,g.X8.Redirect),[2]}}))}))},t.prototype.getRedirectStartPage=function(e){var t=e||window.location.href;return kt.getAbsoluteUrl(t,Yt.getCurrentUri())},t}(yn),Nn=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,o,a)||this;return s.navigateFrameWait=i.navigateFrameWait,s.pollIntervalMilliseconds=i.pollIntervalMilliseconds,s}return(0,a.C6)(t,e),t.prototype.initiateAuthRequest=function(e){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){switch(t.label){case 0:if(this.performanceClient.addQueueMeasurement(r.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),S.$.isEmpty(e))throw this.logger.info("Navigate url is empty"),ye.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(r.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(e)]):[3,2];case 1:return[2,t.sent()];case 2:return[2,this.loadFrameSync(e)]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var n=this;return this.performanceClient.addQueueMeasurement(r.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise((function(r,o){t<Kt&&n.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default ("+Kt+"ms). This may result in timeouts.");var i=window.performance.now()+t,a=setInterval((function(){if(window.performance.now()>i)return n.removeHiddenIframe(e),clearInterval(a),void o(ye.createMonitorIframeTimeoutError());var t=u.YM.EMPTY_STRING,s=e.contentWindow;try{t=s?s.location.href:u.YM.EMPTY_STRING}catch(l){}if(!S.$.isEmpty(t)){var c=s?s.location.hash:u.YM.EMPTY_STRING;return kt.hashContainsKnownProperties(c)?(n.removeHiddenIframe(e),clearInterval(a),void r(c)):void 0}}),n.pollIntervalMilliseconds)}))},t.prototype.loadFrame=function(e){var t=this;return this.performanceClient.addQueueMeasurement(r.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise((function(n,r){var o=t.createHiddenIframe();setTimeout((function(){o?(o.src=e,n(o)):r("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(kn),On=function(e){function t(t,n,r,o,i,a,s,c,u,l,d){var h=e.call(this,t,n,r,o,i,a,c,l,d)||this;return h.apiId=s,h.nativeStorage=u,h}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s;return(0,a.YH)(this,(function(c){switch(c.label){case 0:if(this.performanceClient.addQueueMeasurement(r.SilentIframeClientAcquireToken,e.correlationId),this.logger.verbose("acquireTokenByIframe called"),t=this.performanceClient.startMeasurement(r.SilentIframeClientAcquireToken,e.correlationId),S.$.isEmpty(e.loginHint)&&S.$.isEmpty(e.sid)&&(!e.account||S.$.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==u._M.NONE&&e.prompt!==u._M.NO_SESSION)throw t.endMeasurement({success:!1}),ye.createSilentPromptValueError(e.prompt);return this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest((0,a.Cl)((0,a.Cl)({},e),{prompt:e.prompt||u._M.NONE}),g.X8.Silent)];case 1:n=c.sent(),this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||u.YM.EMPTY_STRING,n.account||null),o=this.initializeServerTelemetryManager(this.apiId),c.label=2;case 2:return c.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(r.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(o,n.authority,n.azureCloudOptions)];case 3:return i=c.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(r.SilentIframeClientTokenHelper,e.correlationId),[4,this.silentTokenHelper(i,n).then((function(e){return t.endMeasurement({success:!0,fromCache:!1,requestId:e.requestId}),e}))];case 4:return[2,c.sent()];case 5:throw(s=c.sent())instanceof d.l&&s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s),this.browserStorage.cleanRequestByState(n.state),t.endMeasurement({errorCode:s instanceof d.l&&s.errorCode||void 0,subErrorCode:s instanceof d.l&&s.subError||void 0,success:!1}),s;case 6:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(ye.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n,o,i,s,c,l,d,h,p,f=this;return(0,a.YH)(this,(function(m){switch(m.label){case 0:return this.performanceClient.addQueueMeasurement(r.SilentIframeClientTokenHelper,t.correlationId),this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationCodeRequest,t.correlationId),[4,this.initializeAuthorizationCodeRequest(t)];case 1:return n=m.sent(),this.performanceClient.setPreQueueTime(r.GetAuthCodeUrl,t.correlationId),[4,e.getAuthCodeUrl((0,a.Cl)((0,a.Cl)({},t),{nativeBroker:In.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}))];case 2:return o=m.sent(),i=new Nn(e,this.browserStorage,n,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(r.SilentHandlerInitiateAuthRequest,t.correlationId),[4,i.initiateAuthRequest(o)];case 3:return s=m.sent(),this.performanceClient.setPreQueueTime(r.SilentHandlerMonitorIframeForHash,t.correlationId),[4,i.monitorIframeForHash(s,this.config.system.iframeHashTimeout)];case 4:if(c=m.sent(),l=kt.getDeserializedHash(c),d=this.validateAndExtractStateFromHash(l,g.X8.Silent,n.correlationId),l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ye.createNativeConnectionNotEstablishedError();return h=new Sn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,this.correlationId),p=_t.parseRequestState(this.browserCrypto,d).userRequestState,[2,h.acquireToken((0,a.Cl)((0,a.Cl)({},t),{state:p,prompt:t.prompt||u._M.NONE})).finally((function(){f.browserStorage.cleanRequestByState(d)}))]}return this.performanceClient.setPreQueueTime(r.HandleCodeResponseFromHash,t.correlationId),[2,i.handleCodeResponseFromHash(c,d,e.authority,this.networkClient)]}}))}))},t}(yn),Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,c=this;return(0,a.YH)(this,(function(u){switch(u.label){case 0:return this.performanceClient.addQueueMeasurement(r.SilentRefreshClientAcquireToken,e.correlationId),this.performanceClient.setPreQueueTime(r.InitializeBaseRequest,e.correlationId),n=[(0,a.Cl)({},e)],[4,this.initializeBaseRequest(e,e.account)];case 1:return t=a.Cl.apply(void 0,n.concat([u.sent()])),o=this.performanceClient.startMeasurement(r.SilentRefreshClientAcquireToken,t.correlationId),i=this.initializeServerTelemetryManager(g.sA.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(i,t.authority,t.azureCloudOptions)];case 2:return s=u.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(r.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),[2,s.acquireTokenByRefreshToken(t).then((function(e){return o.endMeasurement({success:!0,fromCache:e.fromCache,requestId:e.requestId}),e})).catch((function(e){throw e instanceof d.l&&e.setCorrelationId(c.correlationId),i.cacheFailedRequest(e),o.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))]}}))}))},t.prototype.logout=function(){return Promise.reject(ye.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){var o;return(0,a.YH)(this,(function(i){switch(i.label){case 0:return this.performanceClient.setPreQueueTime(r.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,n)];case 1:return o=i.sent(),[2,new bn(o,this.performanceClient)]}}))}))},t}(yn),Hn=function(){function e(e,t,n,r){this.isBrowserEnvironment="undefined"!=typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}return e.prototype.loadExternalTokens=function(e,t,n){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw ye.createUnableToLoadTokenError("Please ensure server response includes id token.");var r,o,i,a=new dt(t.id_token,this.cryptoObj);if(e.account)i=f.d.createFromAccountInfo(e.account),r=new St(i,this.loadIdToken(a,i.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,i.homeAccountId,e.account.environment,e.account.tenantId,n),this.loadRefreshToken(e,t,i.homeAccountId,e.account.environment));else{if(!e.authority)throw ye.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var s=pn.generateAuthority(e.authority,e.azureCloudOptions),c={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(o=new pn(s,this.config.system.networkClient,this.storage,c,this.logger),n.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),i=this.loadAccount(a,o,n.clientInfo),r=new St(i,this.loadIdToken(a,i.homeAccountId,o.hostnameAndPort,o.tenant),this.loadAccessToken(e,t,i.homeAccountId,o.hostnameAndPort,o.tenant,n),this.loadRefreshToken(e,t,i.homeAccountId,o.hostnameAndPort));else{if(!t.client_info)throw ye.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),i=this.loadAccount(a,o,t.client_info),r=new St(i,this.loadIdToken(a,i.homeAccountId,o.hostnameAndPort,o.tenant),this.loadAccessToken(e,t,i.homeAccountId,o.hostnameAndPort,o.tenant,n),this.loadRefreshToken(e,t,i.homeAccountId,o.hostnameAndPort))}}return this.generateAuthenticationResult(e,a,r,i,o)},e.prototype.loadAccount=function(e,t,n,r){var o;if(r?o=r:void 0!==t.authorityType&&n&&(o=f.d.generateHomeAccountId(n,t.authorityType,this.logger,this.cryptoObj,e.claims)),!o)throw ye.createUnableToLoadTokenError("Unexpected missing homeAccountId");var i=f.d.createAccount({homeAccountId:o,idTokenClaims:e.claims,clientInfo:n,environment:t.hostnameAndPort},t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(i),i;throw ye.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadIdToken=function(e,t,n,r){var o=Ue.createIdTokenEntity(t,n,e.rawToken,this.config.auth.clientId,r);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(o),o;throw ye.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadAccessToken=function(e,t,n,r,o,i){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in)throw ye.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!i.extendedExpiresOn)throw ye.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new lt(e.scopes).printScopes(),s=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=i.extendedExpiresOn,u=yt.createAccessTokenEntity(n,r,t.access_token,this.config.auth.clientId,o,a,s,c,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u),u;throw ye.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadRefreshToken=function(e,t,n,r){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var o=vt.createRefreshTokenEntity(n,r,t.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(o),o;throw ye.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.generateAuthenticationResult=function(e,t,n,r,o){var i,a,s=u.YM.EMPTY_STRING,c=[],l=null;n.accessToken&&(s=n.accessToken.secret,c=lt.fromString(n.accessToken.target).asArray(),l=new Date(1e3*Number(n.accessToken.expiresOn)),a=new Date(1e3*Number(n.accessToken.extendedExpiresOn)));var d=(null==t?void 0:t.claims.oid)||(null==t?void 0:t.claims.sub)||u.YM.EMPTY_STRING,h=(null==t?void 0:t.claims.tid)||u.YM.EMPTY_STRING;return{authority:o?o.canonicalAuthority:u.YM.EMPTY_STRING,uniqueId:d,tenantId:h,scopes:c,account:r?r.getAccountInfo():null,idToken:t?t.rawToken:u.YM.EMPTY_STRING,idTokenClaims:t?t.claims:{},accessToken:s,fromCache:!0,expiresOn:l,correlationId:e.correlationId||u.YM.EMPTY_STRING,requestId:u.YM.EMPTY_STRING,extExpiresOn:a,familyId:u.YM.EMPTY_STRING,tokenType:(null===(i=null==n?void 0:n.accessToken)||void 0===i?void 0:i.tokenType)||u.YM.EMPTY_STRING,state:u.YM.EMPTY_STRING,cloudGraphHostName:r.cloudGraphHostName||u.YM.EMPTY_STRING,msGraphHost:r.msGraphHost||u.YM.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},e}(),xn=function(e){function t(t){var n=e.call(this,t)||this;return n.includeRedirectUri=!1,n}return(0,a.C6)(t,e),t}(an),Ln=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o,i,a,c,u,l)||this;return d.apiId=s,d}return(0,a.C6)(t,e),t.prototype.acquireToken=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,c;return(0,a.YH)(this,(function(l){switch(l.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw ye.createAuthCodeRequiredError();return this.performanceClient.setPreQueueTime(r.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,g.X8.Silent)];case 1:t=l.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||u.YM.EMPTY_STRING,t.account||null),n=this.initializeServerTelemetryManager(this.apiId),l.label=2;case 2:return l.trys.push([2,4,,5]),o=(0,a.Cl)((0,a.Cl)({},t),{code:e.code}),this.performanceClient.setPreQueueTime(r.StandardInteractionClientGetClientConfiguration,e.correlationId),[4,this.getClientConfiguration(n,t.authority)];case 3:return i=l.sent(),s=new xn(i),this.logger.verbose("Auth code client created"),[2,new Nn(s,this.browserStorage,o,this.logger,this.config.system,this.performanceClient).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t.state,s.authority,this.networkClient,!1)];case 4:throw(c=l.sent())instanceof d.l&&c.setCorrelationId(this.correlationId),n.cacheFailedRequest(c),this.browserStorage.cleanRequestByState(t.state),c;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(ye.createSilentLogoutUnsupportedError())},t}(yn),Dn=function(){function e(t,n){this.correlationId=n,this.measureName=e.makeMeasureName(t,n),this.startMark=e.makeStartMark(t,n),this.endMark=e.makeEndMark(t,n)}return e.makeMeasureName=function(e,t){return"msal.measure."+e+"."+t},e.makeStartMark=function(e,t){return"msal.start."+e+"."+t},e.makeEndMark=function(e,t){return"msal.end."+e+"."+t},e.supportsBrowserPerformance=function(){return"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},e.flushMeasurements=function(t,n){if(e.supportsBrowserPerformance())try{n.forEach((function(n){var r=e.makeMeasureName(n.name,t);window.performance.getEntriesByName(r,"measure").length>0&&(window.performance.clearMeasures(r),window.performance.clearMarks(e.makeStartMark(r,t)),window.performance.clearMarks(e.makeEndMark(r,t)))}))}catch(r){}},e.prototype.startMeasurement=function(){if(e.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch(t){}},e.prototype.endMeasurement=function(){if(e.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch(t){}},e.prototype.flushMeasurement=function(){if(e.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var n=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),n}}catch(r){}return null},e}(),qn=function(e){function t(t,n,r,o,i,a,s){var c=e.call(this,t,n,r,o,i,a)||this;return c.browserCrypto=new Se(c.logger,s),c.guidGenerator=new w(c.browserCrypto),c}return(0,a.C6)(t,e),t.prototype.startPerformanceMeasuremeant=function(e,t){return new Dn(e,t)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.deleteIncompleteSubMeasurements=function(e){var t=this.eventsByCorrelationId.get(e.event.correlationId),n=t&&t.eventId===e.event.eventId,r=[];n&&(null==t?void 0:t.incompleteSubMeasurements)&&t.incompleteSubMeasurements.forEach((function(e){r.push((0,a.Cl)({},e))})),r.length>0&&Dn.flushMeasurements(e.event.correlationId,r)},t.prototype.supportsBrowserPerformanceNow=function(){return"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.now},t.prototype.startMeasurement=function(t,n){var r=this,o=this.getPageVisibility(),i=e.prototype.startMeasurement.call(this,t,n);return(0,a.Cl)((0,a.Cl)({},i),{endMeasurement:function(e){var t=i.endMeasurement((0,a.Cl)({startPageVisibility:o,endPageVisibility:r.getPageVisibility()},e));return r.deleteIncompleteSubMeasurements(i),t},discardMeasurement:function(){i.discardMeasurement(),r.deleteIncompleteSubMeasurements(i),i.measurement.flushMeasurement()}})},t.prototype.setPreQueueTime=function(e,t){if(this.supportsBrowserPerformanceNow())if(t){var n=this.preQueueTimeByCorrelationId.get(t);n&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+n.name+" found",t),this.addQueueMeasurement(n.name,t,void 0,!0)),this.preQueueTimeByCorrelationId.set(t,{name:e,time:window.performance.now()})}else this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to set telemetry queue time");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+e)},t.prototype.addQueueMeasurement=function(t,n,r,o){if(this.supportsBrowserPerformanceNow())if(n){var i=e.prototype.getPreQueueTime.call(this,t,n);if(i){var a=window.performance.now(),s=r||e.prototype.calculateQueuedTime.call(this,i,a);return e.prototype.addQueueMeasurement.call(this,t,n,s,o)}}else this.logger.trace("BrowserPerformanceClient: correlationId for "+t+" not provided, unable to add queue measurement");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+t)},t}(Me),Un=function(){function e(e){var t,n,r;this.isBrowserEnvironment="undefined"!=typeof window,this.config=function(e,t){var n=e.auth,r=e.cache,o=e.system,i=e.telemetry,s={clientId:u.YM.EMPTY_STRING,authority:""+u.YM.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:u.YM.EMPTY_STRING,authorityMetadata:u.YM.EMPTY_STRING,redirectUri:u.YM.EMPTY_STRING,postLogoutRedirectUri:u.YM.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Pt.e.AAD,azureCloudOptions:{azureCloudInstance:Tt.None,tenant:u.YM.EMPTY_STRING},skipAuthorityMetadataCache:!1},c={cacheLocation:g.Al.SessionStorage,temporaryCacheLocation:g.Al.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==g.Al.LocalStorage),claimsBasedCachingEnabled:!0},l={loggerCallback:function(){},logLevel:Oe.$.Info,piiLoggingEnabled:!1},d=(0,a.Cl)((0,a.Cl)({},Nt),{loggerOptions:l,networkClient:t?Yt.getBrowserNetworkClient():Ut,navigationClient:new Gt,loadFrameTimeout:0,windowHashTimeout:(null==o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null==o?void 0:o.loadFrameTimeout)||Kt,navigateFrameWait:t&&Yt.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(null==o?void 0:o.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:g.Q1.DEFAULT_POLL_INTERVAL_MS,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),h=(0,a.Cl)((0,a.Cl)({},o),{loggerOptions:(null==o?void 0:o.loggerOptions)||l}),p={application:{appName:u.YM.EMPTY_STRING,appVersion:u.YM.EMPTY_STRING}};return{auth:(0,a.Cl)((0,a.Cl)({},s),n),cache:(0,a.Cl)((0,a.Cl)({},c),r),system:(0,a.Cl)((0,a.Cl)({},d),h),telemetry:(0,a.Cl)((0,a.Cl)({},p),i)}}(e,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Oe.V(this.config.system.loggerOptions,zt,$t),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new qn(this.config.auth.clientId,this.config.auth.authority,this.logger,zt,$t,this.config.telemetry.application,this.config.system.cryptoOptions):new xe(this.config.auth.clientId,this.config.auth.authority,this.logger,zt,$t,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new Ne(this.logger,this.performanceClient,this.config.system.cryptoOptions):Le,this.eventHandler=new Wt(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Rt(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):(t=this.config.auth.clientId,n=this.logger,r={cacheLocation:g.Al.MemoryStorage,temporaryCacheLocation:g.Al.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0},new Rt(t,r,Le,n));var o={cacheLocation:g.Al.MemoryStorage,temporaryCacheLocation:g.Al.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0};this.nativeInternalStorage=new Rt(this.config.auth.clientId,o,this.browserCrypto,this.logger),this.tokenCache=new Hn(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return e.prototype.initialize=function(){return(0,a.sH)(this,void 0,void 0,(function(){var e,t,n,o,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(e=this.config.system.allowNativeBroker,t=this.performanceClient.startMeasurement(r.InitializeClientApplication),this.eventHandler.emitEvent(Qt.B.INITIALIZE_START),!e)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),n=this,[4,In.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return n.nativeExtensionProvider=a.sent(),[3,4];case 3:return o=a.sent(),this.logger.verbose(o),[3,4];case 4:return this.config.cache.claimsBasedCachingEnabled?[3,6]:(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),i=this.performanceClient.startMeasurement(r.ClearTokensAndKeysWithClaims),[4,this.browserStorage.clearTokensAndKeysWithClaims()]);case 5:a.sent(),i.endMeasurement({success:!0}),a.label=6;case 6:return this.initialized=!0,this.eventHandler.emitEvent(Qt.B.INITIALIZE_END),t.endMeasurement({allowNativeBroker:e,success:!0}),[2]}}))}))},e.prototype.handleRedirectPromise=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,r,o,i,s,c,l,d=this;return(0,a.YH)(this,(function(a){return this.logger.verbose("handleRedirectPromise called"),Yt.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t=this.getAllAccounts(),this.isBrowserEnvironment?(n=e||u.YM.EMPTY_STRING,void 0===(r=this.redirectResponse.get(n))?(this.eventHandler.emitEvent(Qt.B.HANDLE_REDIRECT_START,g.X8.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),i=void 0,o&&In.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),s=new Sn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,g.sA.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId),i=s.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),c=this.browserStorage.getTemporaryCache(g._p.CORRELATION_ID,!0)||u.YM.EMPTY_STRING,l=this.createRedirectClient(c),i=l.handleRedirectPromise(e)),r=i.then((function(e){e&&(t.length<d.getAllAccounts().length?(d.eventHandler.emitEvent(Qt.B.LOGIN_SUCCESS,g.X8.Redirect,e),d.logger.verbose("handleRedirectResponse returned result, login success")):(d.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_SUCCESS,g.X8.Redirect,e),d.logger.verbose("handleRedirectResponse returned result, acquire token success")));return d.eventHandler.emitEvent(Qt.B.HANDLE_REDIRECT_END,g.X8.Redirect),e})).catch((function(e){throw t.length>0?d.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_FAILURE,g.X8.Redirect,null,e):d.eventHandler.emitEvent(Qt.B.LOGIN_FAILURE,g.X8.Redirect,null,e),d.eventHandler.emitEvent(Qt.B.HANDLE_REDIRECT_END,g.X8.Redirect),e})),this.redirectResponse.set(n,r)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,r]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.acquireTokenRedirect=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,r,o,i,s=this;return(0,a.YH)(this,(function(a){return t=this.getRequestCorrelationId(e),this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(g.X8.Redirect),(n=this.getAllAccounts().length>0)?this.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_START,g.X8.Redirect,e):this.eventHandler.emitEvent(Qt.B.LOGIN_START,g.X8.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)?(o=new Sn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,g.sA.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId),r=o.acquireTokenRedirect(e).catch((function(t){if(t instanceof wn&&t.isFatal())return s.nativeExtensionProvider=void 0,s.createRedirectClient(e.correlationId).acquireToken(e);if(t instanceof p.CB)return s.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),s.createRedirectClient(e.correlationId).acquireToken(e);throw s.browserStorage.setInteractionInProgress(!1),t}))):(i=this.createRedirectClient(e.correlationId),r=i.acquireToken(e)),[2,r.catch((function(e){throw n?s.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_FAILURE,g.X8.Redirect,null,e):s.eventHandler.emitEvent(Qt.B.LOGIN_FAILURE,g.X8.Redirect,null,e),e}))]}))}))},e.prototype.acquireTokenPopup=function(e){var t=this,n=this.getRequestCorrelationId(e),o=this.performanceClient.startMeasurement(r.AcquireTokenPopup,n);try{this.logger.verbose("acquireTokenPopup called",n),this.preflightBrowserEnvironmentCheck(g.X8.Popup)}catch(s){return Promise.reject(s)}var i,a=this.getAllAccounts();(a.length>0?this.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_START,g.X8.Popup,e):this.eventHandler.emitEvent(Qt.B.LOGIN_START,g.X8.Popup,e),this.canUseNative(e))?i=this.acquireTokenNative(e,g.sA.acquireTokenPopup).then((function(e){return t.browserStorage.setInteractionInProgress(!1),o.endMeasurement({success:!0,isNativeBroker:!0,requestId:e.requestId}),e})).catch((function(n){if(n instanceof wn&&n.isFatal())return t.nativeExtensionProvider=void 0,t.createPopupClient(e.correlationId).acquireToken(e);if(n instanceof p.CB)return t.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createPopupClient(e.correlationId).acquireToken(e);throw t.browserStorage.setInteractionInProgress(!1),n})):i=this.createPopupClient(e.correlationId).acquireToken(e);return i.then((function(e){return a.length<t.getAllAccounts().length?t.eventHandler.emitEvent(Qt.B.LOGIN_SUCCESS,g.X8.Popup,e):t.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_SUCCESS,g.X8.Popup,e),o.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),o.endMeasurement({success:!0,requestId:e.requestId}),e})).catch((function(e){return a.length>0?t.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_FAILURE,g.X8.Popup,null,e):t.eventHandler.emitEvent(Qt.B.LOGIN_FAILURE,g.X8.Popup,null,e),o.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),Promise.reject(e)}))},e.prototype.trackPageVisibilityWithMeasurement=function(){var e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))},e.prototype.ssoSilent=function(e){var t;return(0,a.sH)(this,void 0,void 0,(function(){var n,o,i,s,c=this;return(0,a.YH)(this,(function(u){return n=this.getRequestCorrelationId(e),o=(0,a.Cl)((0,a.Cl)({},e),{prompt:e.prompt,correlationId:n}),this.preflightBrowserEnvironmentCheck(g.X8.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(r.SsoSilent,n),null===(t=this.ssoSilentMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(Qt.B.SSO_SILENT_START,g.X8.Silent,o),this.canUseNative(o)?i=this.acquireTokenNative(o,g.sA.ssoSilent).catch((function(e){if(e instanceof wn&&e.isFatal())return c.nativeExtensionProvider=void 0,c.createSilentIframeClient(o.correlationId).acquireToken(o);throw e})):(s=this.createSilentIframeClient(o.correlationId),i=s.acquireToken(o)),[2,i.then((function(e){var t,n;return c.eventHandler.emitEvent(Qt.B.SSO_SILENT_SUCCESS,g.X8.Silent,e),null===(t=c.ssoSilentMeasurement)||void 0===t||t.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),null===(n=c.ssoSilentMeasurement)||void 0===n||n.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw c.eventHandler.emitEvent(Qt.B.SSO_SILENT_FAILURE,g.X8.Silent,null,e),null===(t=c.ssoSilentMeasurement)||void 0===t||t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",c.trackPageVisibilityWithMeasurement)}))]}))}))},e.prototype.acquireTokenByCode=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s=this;return(0,a.YH)(this,(function(c){t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(g.X8.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_BY_CODE_START,g.X8.Silent,e),n=this.performanceClient.startMeasurement(r.AcquireTokenByCode,e.correlationId);try{if(e.code&&e.nativeAccountId)throw ye.createSpaCodeAndNativeAccountIdPresentError();if(e.code)return o=e.code,(i=this.hybridAuthCodeResponses.get(o))?(this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId),n.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync((0,a.Cl)((0,a.Cl)({},e),{correlationId:t})).then((function(e){return s.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_BY_CODE_SUCCESS,g.X8.Silent,e),s.hybridAuthCodeResponses.delete(o),n.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),n.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){throw s.hybridAuthCodeResponses.delete(o),s.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_BY_CODE_FAILURE,g.X8.Silent,null,e),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.hybridAuthCodeResponses.set(o,i)),[2,i];if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return[2,this.acquireTokenNative(e,g.sA.acquireTokenByCode,e.nativeAccountId).catch((function(e){throw e instanceof wn&&e.isFatal()&&(s.nativeExtensionProvider=void 0),e}))];throw ye.createUnableToAcquireTokenFromNativePlatformError()}throw ye.createAuthCodeOrNativeAccountIdRequiredError()}catch(u){throw this.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_BY_CODE_FAILURE,g.X8.Silent,null,u),n.endMeasurement({errorCode:u instanceof d.l&&u.errorCode||void 0,subErrorCode:u instanceof d.l&&u.subError||void 0,success:!1}),u}return[2]}))}))},e.prototype.acquireTokenByCodeAsync=function(e){var t;return(0,a.sH)(this,void 0,void 0,(function(){var n=this;return(0,a.YH)(this,(function(o){switch(o.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(r.AcquireTokenByCodeAsync,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),[4,this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then((function(e){var t;return null===(t=n.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.endMeasurement({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw null===(t=n.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",n.trackPageVisibilityWithMeasurement)}))];case 1:return[2,o.sent()]}}))}))},e.prototype.acquireTokenFromCache=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(o){switch(this.performanceClient.addQueueMeasurement(r.AcquireTokenFromCache,t.correlationId),n.cacheLookupPolicy){case g.nN.Default:case g.nN.AccessToken:case g.nN.AccessTokenAndRefreshToken:return[2,e.acquireToken(t)];default:throw De.e.createRefreshRequiredError()}return[2]}))}))},e.prototype.acquireTokenByRefreshToken=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n;return(0,a.YH)(this,(function(o){switch(this.performanceClient.addQueueMeasurement(r.AcquireTokenByRefreshToken,e.correlationId),t.cacheLookupPolicy){case g.nN.Default:case g.nN.AccessTokenAndRefreshToken:case g.nN.RefreshToken:case g.nN.RefreshTokenAndNetwork:return n=this.createSilentRefreshClient(e.correlationId),this.performanceClient.setPreQueueTime(r.SilentRefreshClientAcquireToken,e.correlationId),[2,n.acquireToken(e)];default:throw De.e.createRefreshRequiredError()}return[2]}))}))},e.prototype.acquireTokenBySilentIframe=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){return this.performanceClient.addQueueMeasurement(r.AcquireTokenBySilentIframe,e.correlationId),t=this.createSilentIframeClient(e.correlationId),this.performanceClient.setPreQueueTime(r.SilentIframeClientAcquireToken,e.correlationId),[2,t.acquireToken(e)]}))}))},e.prototype.logout=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){return t=this.getRequestCorrelationId(e),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),[2,this.logoutRedirect((0,a.Cl)({correlationId:t},e))]}))}))},e.prototype.logoutRedirect=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){return t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(g.X8.Redirect),[2,this.createRedirectClient(t).logout(e)]}))}))},e.prototype.logoutPopup=function(e){try{var t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(g.X8.Popup),this.createPopupClient(t).logout(e)}catch(n){return Promise.reject(n)}},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){if(this.logger.trace("getAccountByUsername called"),!e)return this.logger.warning("getAccountByUsername: No username provided"),null;var t=this.browserStorage.getAccountInfoFilteredBy({username:e});return t?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: "+e),t):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){if(this.logger.trace("getAccountByHomeId called"),!e)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;var t=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e});return t?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: "+e),t):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){if(this.logger.trace("getAccountByLocalId called"),!e)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;var t=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e});return t?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: "+e),t):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.preflightBrowserEnvironmentCheck=function(e,t){if(void 0===t&&(t=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),Yt.blockNonBrowserEnvironment(this.isBrowserEnvironment),Yt.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),Yt.blockReloadInHiddenIframes(),Yt.blockAcquireTokenInPopups(),Yt.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e===g.X8.Redirect&&this.config.cache.cacheLocation===g.Al.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw be.X.createInMemoryRedirectUnavailableError();e!==g.X8.Redirect&&e!==g.X8.Popup||this.preflightInteractiveRequest(t)},e.prototype.preflightInteractiveRequest=function(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Yt.blockReloadInHiddenIframes(),e&&this.browserStorage.setInteractionInProgress(!0)},e.prototype.acquireTokenNative=function(e,t,n){return(0,a.sH)(this,void 0,void 0,(function(){return(0,a.YH)(this,(function(r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw ye.createNativeConnectionNotEstablishedError();return[2,new Sn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)]}))}))},e.prototype.canUseNative=function(e,t){if(this.logger.trace("canUseNative called"),!In.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case u._M.NONE:case u._M.CONSENT:case u._M.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+e.prompt+" is not compatible with native flow, returning false"),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)},e.prototype.getNativeAccountId=function(e){var t=e.account||this.browserStorage.getAccountInfoByHints(e.loginHint,e.sid)||this.getActiveAccount();return t&&t.nativeAccountId||""},e.prototype.createPopupClient=function(e){return new An(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createRedirectClient=function(e){return new Pn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentIframeClient=function(e){return new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,g.sA.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentCacheClient=function(e){return new Tn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentRefreshClient=function(e){return new Mn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentAuthCodeClient=function(e){return new Ln(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,g.sA.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.addPerformanceCallback=function(e){return this.performanceClient.addPerformanceCallback(e)},e.prototype.removePerformanceCallback=function(e){return this.performanceClient.removePerformanceCallback(e)},e.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},e.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},e.prototype.getTokenCache=function(){return this.tokenCache},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e.prototype.getConfiguration=function(){return this.config},e.prototype.getRequestCorrelationId=function(e){return(null==e?void 0:e.correlationId)?e.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():u.YM.EMPTY_STRING},e}(),Bn=function(e){function t(t){var n=e.call(this,t)||this;return n.astsAsyncMeasurement=void 0,n.activeSilentTokenRequests=new Map,n.trackPageVisibility=n.trackPageVisibility.bind(n),n}return(0,a.C6)(t,e),t.prototype.loginRedirect=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){return t=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",t),[2,this.acquireTokenRedirect((0,a.Cl)({correlationId:t},e||g.uq))]}))}))},t.prototype.loginPopup=function(e){var t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup((0,a.Cl)({correlationId:t},e||g.uq))},t.prototype.acquireTokenSilent=function(e){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,c,l,d=this;return(0,a.YH)(this,(function(h){if(t=this.getRequestCorrelationId(e),(n=this.performanceClient.startMeasurement(r.AcquireTokenSilent,t)).addStaticFields({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(g.X8.Silent),this.logger.verbose("acquireTokenSilent called",t),!(o=e.account||this.getActiveAccount()))throw ye.createNoAccountError();return i={clientId:this.config.auth.clientId,authority:e.authority||u.YM.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:o.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},s=JSON.stringify(i),void 0===(c=this.activeSilentTokenRequests.get(s))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t),this.performanceClient.setPreQueueTime(r.AcquireTokenSilentAsync,t),l=this.acquireTokenSilentAsync((0,a.Cl)((0,a.Cl)({},e),{correlationId:t}),o).then((function(t){return d.activeSilentTokenRequests.delete(s),n.addStaticFields({accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),n.endMeasurement({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId}),t})).catch((function(e){throw d.activeSilentTokenRequests.delete(s),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.activeSilentTokenRequests.set(s,l),[2,l]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discardMeasurement(),[2,c])}))}))},t.prototype.trackPageVisibility=function(){this.astsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},t.prototype.acquireTokenSilentAsync=function(e,t){var n;return(0,a.sH)(this,void 0,void 0,(function(){var o,i,s,c,u,l=this;return(0,a.YH)(this,(function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(r.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_START,g.X8.Silent,e),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(r.AcquireTokenSilentAsync,e.correlationId),null===(n=this.astsAsyncMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),In.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&t.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),i=(0,a.Cl)((0,a.Cl)({},e),{account:t}),o=this.acquireTokenNative(i,g.sA.acquireTokenSilent_silentFlow).catch((function(t){return(0,a.sH)(l,void 0,void 0,(function(){return(0,a.YH)(this,(function(n){if(t instanceof wn&&t.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw t}))}))})),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),s=this.createSilentCacheClient(e.correlationId),this.performanceClient.setPreQueueTime(r.InitializeSilentRequest,e.correlationId),[4,s.initializeSilentRequest(e,t)];case 2:c=d.sent(),u=(0,a.Cl)((0,a.Cl)({},e),{cacheLookupPolicy:e.cacheLookupPolicy||g.nN.Default}),this.performanceClient.setPreQueueTime(r.AcquireTokenFromCache,c.correlationId),o=this.acquireTokenFromCache(s,c,u).catch((function(t){if(u.cacheLookupPolicy===g.nN.AccessToken)throw t;return Yt.blockReloadInHiddenIframes(),l.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_NETWORK_START,g.X8.Silent,c),l.performanceClient.setPreQueueTime(r.AcquireTokenByRefreshToken,c.correlationId),l.acquireTokenByRefreshToken(c,u).catch((function(t){var n=t instanceof h,o=t instanceof p.CB,i=t.errorCode===p.$D.noTokensFoundError.code,a=t.errorCode===g.Q1.INVALID_GRANT_ERROR;if((!n||!a||o||u.cacheLookupPolicy===g.nN.AccessTokenAndRefreshToken||u.cacheLookupPolicy===g.nN.RefreshToken)&&u.cacheLookupPolicy!==g.nN.Skip&&!i)throw t;return l.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",e.correlationId),l.performanceClient.setPreQueueTime(r.AcquireTokenBySilentIframe,c.correlationId),l.acquireTokenBySilentIframe(c)}))})),d.label=3;case 3:return[2,o.then((function(e){var t;return l.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_SUCCESS,g.X8.Silent,e),null===(t=l.astsAsyncMeasurement)||void 0===t||t.endMeasurement({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw l.eventHandler.emitEvent(Qt.B.ACQUIRE_TOKEN_FAILURE,g.X8.Silent,null,e),null===(t=l.astsAsyncMeasurement)||void 0===t||t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",l.trackPageVisibility)}))]}}))}))},t.prototype.hydrateCache=function(e,t){return(0,a.sH)(this,void 0,void 0,(function(){var n;return(0,a.YH)(this,(function(r){return this.logger.verbose("hydrateCache called"),e.account?(n=f.d.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost),this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),[2,this.nativeInternalStorage.hydrateCache(e,t)]):[2,this.browserStorage.hydrateCache(e,t)]):[2]}))}))},t}(Un),Fn=n(1262),Yn=n(4628),Gn=n(5680),Kn=n(9942);const jn=new Bn(Yn.wO),zn={pre:Kn.A};let $n;const Qn=e=>{let{element:t}=e;return i.createElement(Fn.r7,{instance:jn},i.createElement(Gn.xA,{components:zn},t))},Wn=()=>{window.location.reload(!0)},Xn=async()=>{await async function(){const{default:{plugins:e}}=await Promise.all([n.e(3939),n.e(1352),n.e(4188),n.e(7577)]).then(n.bind(n,7577)),{options:t}=e.find((e=>"gatsby-plugin-i18n"===e.resolve));$n=t}(),$n.prefixDefault&&"/"===window.location.pathname&&(window.location.pathname=siteMetadata.languages.defaultLangKey)},Vn=e=>{let{location:t,prevLocation:n}=e;const r=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,o=document.querySelector(".page"),i=document.querySelector(".page-menu");o&&i&&!i.classList.contains("page-menu--sticky")&&r&&o.classList.add("page--visible-internal-menu")}},7914:function(e,t,n){"use strict";n.r(t),n.d(t,{onRouteUpdate:function(){return r}});n(4810),n(4598);const r=function(e,t){let{location:n}=e}},4598:function(e,t,n){"use strict";var r=n(4810)},1468:function(e,t){"use strict";t.registerServiceWorker=function(){return"true"!=={}.GATSBY_IS_PREVIEW};var n=/^(stylesheet|preload)$/,r=[];function o(e,t){if(!window.___swUpdated&&"serviceWorker"in navigator){var n=navigator.serviceWorker;if(null===n.controller)r.push(e);else{var o=t(e);n.controller.postMessage({gatsbyApi:"setPathResources",path:e,resources:o})}}}t.onServiceWorkerActive=function(e){var t=e.getResourceURLsForPathname,o=e.serviceWorker;if("true"!=={}.GATSBY_IS_PREVIEW)if(window.___swUpdated)o.active.postMessage({gatsbyApi:"clearPathResources"});else{var i=document.querySelectorAll("\n    head > script[src],\n    head > link[href],\n    head > style[data-href]\n  "),a=[].slice.call(i).filter((function(e){return"LINK"!==e.tagName||n.test(e.getAttribute("rel"))})).map((function(e){return e.src||e.href||e.getAttribute("data-href")})),s=[];r.forEach((function(e){var n=t(e);s.push.apply(s,n),o.active.postMessage({gatsbyApi:"setPathResources",path:e,resources:n})})),[].concat(a,s).forEach((function(e){var t=document.createElement("link");t.rel="prefetch",t.href=e,t.onload=t.remove,t.onerror=t.remove,document.head.appendChild(t)}))}},t.onRouteUpdate=function(e){var t=e.location,n=e.getResourceURLsForPathname;o(t.pathname.replace("/js2",""),n),"serviceWorker"in navigator&&null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({gatsbyApi:"enableOfflineShell"})},t.onPostPrefetchPathname=function(e){o(e.pathname,e.getResourceURLsForPathname)}},7688:function(e,t){"use strict";t.DEFAULT_OPTIONS={maxWidth:650,wrapperStyle:"",backgroundColor:"white",linkImagesToOriginal:!0,showCaptions:!1,markdownCaptions:!1,withWebp:!1,withAvif:!1,tracedSVG:!1,loading:"lazy",decoding:"async",disableBgImageOnAlpha:!1,disableBgImage:!1},t.EMPTY_ALT="GATSBY_EMPTY_ALT",t.imageClass="gatsby-resp-image-image",t.imageWrapperClass="gatsby-resp-image-wrapper",t.imageBackgroundClass="gatsby-resp-image-background-image"},5616:function(e,t,n){"use strict";var r=n(7688),o=r.DEFAULT_OPTIONS,i=r.imageClass,a=r.imageBackgroundClass,s=r.imageWrapperClass;t.onRouteUpdate=function(e,t){for(var n=Object.assign({},o,t),r=document.querySelectorAll("."+s),c=function(){var e=r[u],t=e.querySelector("."+a),o=e.querySelector("."+i),s=function(){t.style.transition="opacity 0.5s 0.5s",o.style.transition="opacity 0.5s",c()},c=function e(){t.style.opacity=0,o.style.opacity=1,o.style.color="inherit",o.style.boxShadow="inset 0px 0px 0px 400px "+n.backgroundColor,o.removeEventListener("load",s),o.removeEventListener("error",e)};o.style.opacity=0,o.addEventListener("load",s),o.addEventListener("error",c),o.complete&&c()},u=0;u<r.length;u++)c()}},9942:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r=n(6540),o=function(){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,n={},r={util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(t,n){var o,i;switch(n=n||{},r.util.type(t)){case"Object":if(i=r.util.objId(t),n[i])return n[i];for(var a in o={},n[i]=o,t)t.hasOwnProperty(a)&&(o[a]=e(t[a],n));return o;case"Array":return i=r.util.objId(t),n[i]?n[i]:(o=[],n[i]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(t){for(;t;){var n=e.exec(t.className);if(n)return n[1].toLowerCase();t=t.parentElement}return"none"},setLanguage:function(t,n){t.className=t.className.replace(RegExp(e,"gi"),""),t.classList.add("language-"+n)},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var i=(o=o||r.languages)[e],a={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);n.hasOwnProperty(s)||(a[s]=i[s])}var u=o[e];return o[e]=a,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,o,i){i=i||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],o||s);var c=t[s],u=r.util.type(c);"Object"!==u||i[a(c)]?"Array"!==u||i[a(c)]||(i[a(c)]=!0,e(c,n,s,i)):(i[a(c)]=!0,e(c,n,null,i))}}},plugins:{},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",i),i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),o.stringify(r.util.encode(i.tokens),i.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new s;return c(o,o.head,e),a(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,i=0;o=n[i++];)o(t)}},Token:o};function o(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function i(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function a(e,t,n,s,l,d){for(var h in n)if(n.hasOwnProperty(h)&&n[h]){var p=n[h];p=Array.isArray(p)?p:[p];for(var f=0;f<p.length;++f){if(d&&d.cause==h+","+f)return;var g=p[f],m=g.inside,y=!!g.lookbehind,v=!!g.greedy,C=g.alias;if(v&&!g.pattern.global){var E=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,E+"g")}for(var w=g.pattern||g,b=s.next,_=l;b!==t.tail&&!(d&&_>=d.reach);_+=b.value.length,b=b.next){var T=b.value;if(t.length>e.length)return;if(!(T instanceof o)){var S,I=1;if(v){if(!(S=i(w,_,e,y))||S.index>=e.length)break;var k=S.index,A=S.index+S[0].length,R=_;for(R+=b.value.length;k>=R;)R+=(b=b.next).value.length;if(_=R-=b.value.length,b.value instanceof o)continue;for(var P=b;P!==t.tail&&(R<A||"string"==typeof P.value);P=P.next)I++,R+=P.value.length;I--,T=e.slice(_,R),S.index-=_}else if(!(S=i(w,0,T,y)))continue;k=S.index;var N=S[0],O=T.slice(0,k),M=T.slice(k+N.length),H=_+T.length;d&&H>d.reach&&(d.reach=H);var x=b.prev;if(O&&(x=c(t,x,O),_+=O.length),u(t,x,I),b=c(t,x,new o(h,m?r.tokenize(N,m):N,C,N)),M&&c(t,b,M),I>1){var L={cause:h+","+f,reach:H};a(e,t,n,b.prev,_,L),d&&L.reach>d.reach&&(d.reach=L.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function u(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}return o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(i.classes,a):i.classes.push(a)),r.hooks.run("wrap",i);var s="";for(var c in i.attributes)s+=" "+c+'="'+(i.attributes[c]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+s+">"+i.content+"</"+i.tag+">"},r}(),i=o;o.default=o,i.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup.tag.inside["attr-value"].inside.entity=i.languages.markup.entity,i.languages.markup.doctype.inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:i.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},i.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(i.languages.markup.tag,"addAttribute",{value:function(e,t){i.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:i.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=r.variable[1].inside,a=0;a<o.length;a++)i[o[a]]=e.languages.bash[o[a]];e.languages.shell=e.languages.bash}(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.c=i.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),i.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),i.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},i.languages.c.string],char:i.languages.c.char,comment:i.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:i.languages.c}}}}),i.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete i.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(i),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(i),function(e){var t,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css.atrule.inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},o={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:o,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:o})}(i),i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),i.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),i.languages.markup&&(i.languages.markup.tag.addInlined("script","javascript"),i.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),i.languages.js=i.languages.javascript,function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(i),function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",o=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),i=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+o+"|"+i+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(i),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(i),function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],a=o.content[3];if(i&&a&&"code-language"===i.type&&"code-block"===a.type&&"string"==typeof i.content){var s=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),c="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,c]:a.alias.push(c):a.alias=[c]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],u=/language-(.+)/.exec(i);if(u){n=u[1];break}}var l,d=e.languages[n];if(d)t.content=e.highlight((l=t.content,l.replace(a,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;if("#"===(t=t.toLowerCase())[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),c(n);var r=s[t];return r||e}))),d,n);else if(n&&"none"!==n&&e.plugins.autoloader){var h="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=h,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(h);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},c=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(i),i.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:i.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},i.hooks.add("after-tokenize",(function(e){if("graphql"===e.language)for(var t=e.tokens.filter((function(e){return"string"!=typeof e&&"comment"!==e.type&&"scalar"!==e.type})),n=0;n<t.length;){var r=t[n++];if("keyword"===r.type&&"mutation"===r.content){var o=[];if(d(["definition-mutation","punctuation"])&&"("===l(1).content){n+=2;var i=h(/^\($/,/^\)$/);if(-1===i)continue;for(;n<i;n++){var a=l(0);"variable"===a.type&&(p(a,"variable-input"),o.push(a.content))}n=i+1}if(d(["punctuation","property-query"])&&"{"===l(0).content&&(n++,p(l(0),"property-mutation"),o.length>0)){var s=h(/^\{$/,/^\}$/);if(-1===s)continue;for(var c=n;c<s;c++){var u=t[c];"variable"===u.type&&o.indexOf(u.content)>=0&&p(u,"variable-input")}}}}function l(e){return t[n+e]}function d(e,t){t=t||0;for(var n=0;n<e.length;n++){var r=l(n+t);if(!r||r.type!==e[n])return!1}return!0}function h(e,r){for(var o=1,i=n;i<t.length;i++){var a=t[i],s=a.content;if("punctuation"===a.type&&"string"==typeof s)if(e.test(s))o++;else if(r.test(s)&&0===--o)return i}return-1}function p(e,t){var n=e.alias;n?Array.isArray(n)||(e.alias=n=[n]):e.alias=n=[],n.push(t)}})),i.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t=e.languages.javascript["template-string"],n=t.pattern.source,r=t.inside.interpolation,o=r.inside["interpolation-punctuation"],i=r.pattern.source;function a(t,r){if(e.languages[t])return{pattern:RegExp("((?:"+r+")\\s*)"+n),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:t}}}}function s(e,t){return"___"+t.toUpperCase()+"_"+e+"___"}function c(t,n,r){var o={code:t,grammar:n,language:r};return e.hooks.run("before-tokenize",o),o.tokens=e.tokenize(o.code,o.grammar),e.hooks.run("after-tokenize",o),o.tokens}function u(t){var n={};n["interpolation-punctuation"]=o;var i=e.tokenize(t,n);if(3===i.length){var a=[1,1];a.push.apply(a,c(i[1],e.languages.javascript,"javascript")),i.splice.apply(i,a)}return new e.Token("interpolation",i,r.alias,t)}function l(t,n,r){var o=e.tokenize(t,{interpolation:{pattern:RegExp(i),lookbehind:!0}}),a=0,l={},d=c(o.map((function(e){if("string"==typeof e)return e;for(var n,o=e.content;-1!==t.indexOf(n=s(a++,r)););return l[n]=o,n})).join(""),n,r),h=Object.keys(l);return a=0,function e(t){for(var n=0;n<t.length;n++){if(a>=h.length)return;var r=t[n];if("string"==typeof r||"string"==typeof r.content){var o=h[a],i="string"==typeof r?r:r.content,s=i.indexOf(o);if(-1!==s){++a;var c=i.substring(0,s),d=u(l[o]),p=i.substring(s+o.length),f=[];if(c&&f.push(c),f.push(d),p){var g=[p];e(g),f.push.apply(f,g)}"string"==typeof r?(t.splice.apply(t,[n,1].concat(f)),n+=f.length-1):r.content=f}}else{var m=r.content;Array.isArray(m)?e(m):e([m])}}}(d),new e.Token(r,d,"language-"+r,t)}e.languages.javascript["template-string"]=[a("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),a("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),a("svg",/\bsvg/.source),a("markdown",/\b(?:markdown|md)/.source),a("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),a("sql",/\bsql/.source),t].filter(Boolean);var d={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function h(e){return"string"==typeof e?e:Array.isArray(e)?e.map(h).join(""):h(e.content)}e.hooks.add("after-tokenize",(function(t){t.language in d&&function t(n){for(var r=0,o=n.length;r<o;r++){var i=n[r];if("string"!=typeof i){var a=i.content;if(Array.isArray(a))if("template-string"===i.type){var s=a[1];if(3===a.length&&"string"!=typeof s&&"embedded-code"===s.type){var c=h(s),u=s.alias,d=Array.isArray(u)?u[0]:u,p=e.languages[d];if(!p)continue;a[1]=l(c,p,d)}}else t(a);else"string"!=typeof a&&t([a])}}}(t.tokens)}))}(i),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(i),function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var o=n[r],i=e.languages.javascript[o];"RegExp"===e.util.type(i)&&(i=e.languages.javascript[o]={pattern:i});var a=i.inside||{};i.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(i),function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,o=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function i(e,t){return e=e.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return r})).replace(/<SPREAD>/g,(function(){return o})),RegExp(e,t)}o=i(o).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=i(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:i(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:i(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(a).join(""):""},s=function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=!1;if("string"!=typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===a(o.content[0].content[1])&&n.pop():"/>"===o.content[o.content.length-1].content||n.push({tagName:a(o.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===o.type&&"{"===o.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?n[n.length-1].openedBraces--:i=!0),(i||"string"==typeof o)&&n.length>0&&0===n[n.length-1].openedBraces){var c=a(o);r<t.length-1&&("string"==typeof t[r+1]||"plain-text"===t[r+1].type)&&(c+=a(t[r+1]),t.splice(r+1,1)),r>0&&("string"==typeof t[r-1]||"plain-text"===t[r-1].type)&&(c=a(t[r-1])+c,t.splice(r-1,1),r--),t[r]=new e.Token("plain-text",c,null,c)}o.content&&"string"!=typeof o.content&&s(o.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||s(e.tokens)}))}(i),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],o=[];/^\w+$/.test(n)||o.push(/\w+/.exec(n)[0]),"diff"===n&&o.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(i),i.languages.git={comment:/^#.*/m,deleted:/^[-–].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},i.languages.go=i.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),i.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete i.languages.go["class-name"],function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(o,(function(e){if("function"==typeof i&&!i(e))return e;for(var o,s=a.length;-1!==n.code.indexOf(o=t(r,s));)++s;return a[s]=e,o})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var o=0,i=Object.keys(n.tokenStack);!function a(s){for(var c=0;c<s.length&&!(o>=i.length);c++){var u=s[c];if("string"==typeof u||u.content&&"string"==typeof u.content){var l=i[o],d=n.tokenStack[l],h="string"==typeof u?u:u.content,p=t(r,l),f=h.indexOf(p);if(f>-1){++o;var g=h.substring(0,f),m=new e.Token(r,e.tokenize(d,n.grammar),"language-"+r,d),y=h.substring(f+p.length),v=[];g&&v.push.apply(v,a([g])),v.push(m),y&&v.push.apply(v,a([y])),"string"==typeof u?s.splice.apply(s,[c,1].concat(v)):u.content=v}}else u.content&&a(u.content)}return s}(n.tokens)}}}})}(i),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){e.languages["markup-templating"].buildPlaceholders(t,"handlebars",/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")})),e.languages.hbs=e.languages.handlebars}(i),i.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},i.languages.webmanifest=i.languages.json,i.languages.less=i.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),i.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),i.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},i.languages.objectivec=i.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete i.languages.objectivec["class-name"],i.languages.objc=i.languages.objectivec,i.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/},i.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},i.languages.python["string-interpolation"].inside.interpolation.inside.rest=i.languages.python,i.languages.py=i.languages.python,i.languages.reason=i.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),i.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete i.languages.reason.function,function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(i),i.languages.scss=i.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),i.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),i.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),i.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),i.languages.scss.atrule.inside.rest=i.languages.scss,function(e){var t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};r.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:r}},r.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},e.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}(i),function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx.parameter,delete e.languages.tsx["literal-property"];var n=e.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}(i),i.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};var a=i,s={Prism:a,theme:{plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]}};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var l=/\r\n|\r|\n/,d=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},h=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)};function p(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var f=function(e){function t(){for(var t=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];e.apply(this,n),c(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?function(e,t){var n=e.plain,r=Object.create(null),o=e.styles.reduce((function(e,n){var r=n.languages,o=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=u({},e[t],o);e[t]=n})),e}),r);return o.root=n,o.plain=u({},n,{backgroundColor:null}),o}(e.theme,e.language):void 0;return t.themeDict=n})),c(this,"getLineProps",(function(e){var n=e.key,r=e.className,o=e.style,i=u({},p(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),a=t.getThemeDict(t.props);return void 0!==a&&(i.style=a.plain),void 0!==o&&(i.style=void 0!==i.style?u({},i.style,o):o),void 0!==n&&(i.key=n),r&&(i.className+=" "+r),i})),c(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,o=n.length,i=t.getThemeDict(t.props);if(void 0!==i){if(1===o&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===o&&!r)return i[n[0]];var a=r?{display:"inline-block"}:{},s=n.map((function(e){return i[e]}));return Object.assign.apply(Object,[a].concat(s))}})),c(this,"getTokenProps",(function(e){var n=e.key,r=e.className,o=e.style,i=e.token,a=u({},p(e,["key","className","style","token"]),{className:"token "+i.types.join(" "),children:i.content,style:t.getStyleForToken(i),key:void 0});return void 0!==o&&(a.style=void 0!==a.style?u({},a.style,o):o),void 0!==n&&(a.key=n),r&&(a.className+=" "+r),a})),c(this,"tokenize",(function(e,t,n,r){var o={code:t,grammar:n,language:r,tokens:[]};e.hooks.run("before-tokenize",o);var i=o.tokens=e.tokenize(o.code,o.grammar,o.language);return e.hooks.run("after-tokenize",o),i}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,o=e.children,i=this.getThemeDict(this.props),a=t.languages[n];return o({tokens:function(e){for(var t=[[]],n=[e],r=[0],o=[e.length],i=0,a=0,s=[],c=[s];a>-1;){for(;(i=r[a]++)<o[a];){var u=void 0,p=t[a],f=n[a][i];if("string"==typeof f?(p=a>0?p:["plain"],u=f):(p=h(p,f.type),f.alias&&(p=h(p,f.alias)),u=f.content),"string"==typeof u){var g=u.split(l),m=g.length;s.push({types:p,content:g[0]});for(var y=1;y<m;y++)d(s),c.push(s=[]),s.push({types:p,content:g[y]})}else a++,t.push(p),n.push(u),r.push(0),o.push(u.length)}a--,t.pop(),n.pop(),r.pop(),o.pop()}return d(s),c}(void 0!==a?this.tokenize(t,r,a,n):[r]),className:"prism-code language-"+n,style:void 0!==i?i.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(r.Component),g=f,m={plain:{color:"#9CDCFE",backgroundColor:"#1E1E1E"},styles:[{types:["prolog"],style:{color:"rgb(0, 0, 128)"}},{types:["comment"],style:{color:"rgb(106, 153, 85)"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"rgb(86, 156, 214)"}},{types:["number","inserted"],style:{color:"rgb(181, 206, 168)"}},{types:["constant"],style:{color:"rgb(100, 102, 149)"}},{types:["attr-name","variable"],style:{color:"rgb(156, 220, 254)"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"rgb(206, 145, 120)"}},{types:["selector"],style:{color:"rgb(215, 186, 125)"}},{types:["tag"],style:{color:"rgb(78, 201, 176)"}},{types:["tag"],languages:["markup"],style:{color:"rgb(86, 156, 214)"}},{types:["punctuation","operator"],style:{color:"rgb(212, 212, 212)"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"rgb(220, 220, 170)"}},{types:["class-name"],style:{color:"rgb(78, 201, 176)"}},{types:["char"],style:{color:"rgb(209, 105, 105)"}}]},y=n(6784),v=n(2630),C=n(8426),E=n.n(C);(void 0!==n.g?n.g:window).Prism=a,n(6976);const w=e=>{const{0:t,1:n}=(0,r.useState)("Copy"),{0:o,1:i}=(0,r.useState)(!1);return r.createElement("button",{className:"codeblock__header__copy-button",onClick:()=>{navigator.clipboard.writeText(e.content),n("Copied!"),setTimeout((()=>{n("Copy")}),1e3),i(!0),setTimeout((()=>{i(!1)}),1e3)}},r.createElement(y.g,Object.assign({icon:v.jPR,size:"2x"},o?{pulse:!0}:{})))};var b=e=>{const t=(e.children.props.className||"").match(/language-(?<lang>.*)/),n=t&&t.groups&&t.groups.lang?t.groups.lang:"",{numbered:o,highlighting:i}=e,c=(e=>{const t=/([\d,-]+)/;if(t.test(e)){const n=t.exec(e)[1],r=E()(n);return e=>r.includes(e+1)}return()=>!1})(i);return r.createElement("div",{className:"codeblock"},r.createElement(g,Object.assign({},s,{code:e.children.props.children.trim(),language:n,theme:m,Prism:a}),(t=>{let{className:i,style:a,tokens:s,getLineProps:u,getTokenProps:l}=t;return r.createElement("pre",{className:i,style:a},r.createElement("div",{className:"codeblock__header"},r.createElement(w,{content:e.children.props.children}),r.createElement("span",{className:"codeblock__header__language-name"},n)),s.map(((e,t)=>{const n=u({line:e,key:t});return n.className=`${n.className} codeblock__body__line`,c(t)&&(n.className=`${n.className} codeblock__body__line--highlighted`),r.createElement("div",Object.assign({key:t},n),o&&r.createElement("span",{className:"codeblock__body__line__number"},t+1),r.createElement("div",{className:"codeblock__body__line__content"},e.map(((e,t)=>r.createElement("span",Object.assign({key:t},l({token:e,key:t})))))))})))})))}},4628:function(e,t,n){"use strict";n.d(t,{$8:function(){return o},wO:function(){return r}});const r={auth:{clientId:"eb099088-3a72-46fa-b212-b788098b0922",authority:"https://login.microsoftonline.com/f7a15417-57cb-4855-8d36-064f95aada17",redirectUri:"https://e-vinci.github.io/js2",postLogoutRedirectUri:"https://e-vinci.github.io/js2"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},o={scopes:["openid","profile","User.Read"]}},311:function(e){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},8426:function(e,t){function n(e){let t,n=[];for(let r of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(r))n.push(parseInt(r,10));else if(t=r.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,r,o,i]=t;if(r&&i){r=parseInt(r),i=parseInt(i);const e=r<i?1:-1;"-"!==o&&".."!==o&&"‥"!==o||(i+=e);for(let t=r;t!==i;t+=e)n.push(t)}}return n}t.default=n,e.exports=n},6976:function(){!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)},207:function(e,t,n){"use strict";var r=n(6540),o={stream:!0},i=new Map,a=Symbol.for("react.element"),s=Symbol.for("react.lazy"),c=Symbol.for("react.default_value"),u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ContextRegistry;function l(e,t,n){this._status=e,this._value=t,this._response=n}function d(e){switch(e._status){case 3:return e._value;case 1:var t=JSON.parse(e._value,e._response._fromJSON);return e._status=3,e._value=t;case 2:for(var r=(t=e._value).chunks,o=0;o<r.length;o++){var a=i.get(r[o]);if(null!==a)throw a}return r=n(t.id),t="*"===t.name?r:""===t.name?r.__esModule?r.default:r:r[t.name],e._status=3,e._value=t;case 0:throw e;default:throw e._value}}function h(){return d(y(this,0))}function p(e,t){return new l(3,t,e)}function f(e){if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}function g(e,t){if(0===e._status){var n=e._value;e._status=4,e._value=t,f(n)}}function m(e,t){e._chunks.forEach((function(e){g(e,t)}))}function y(e,t){var n=e._chunks,r=n.get(t);return r||(r=new l(0,null,e),n.set(t,r)),r}function v(e){m(e,Error("Connection closed."))}function C(e,t){if(""!==t){var o=t[0],a=t.indexOf(":",1),s=parseInt(t.substring(1,a),16);switch(a=t.substring(a+1),o){case"J":(o=(t=e._chunks).get(s))?0===o._status&&(e=o._value,o._status=1,o._value=a,f(e)):t.set(s,new l(1,a,e));break;case"M":o=(t=e._chunks).get(s),a=JSON.parse(a,e._fromJSON);var d=e._bundlerConfig;d=(a=d?d[a.id][a.name]:a).chunks;for(var h=0;h<d.length;h++){var m=d[h];if(void 0===i.get(m)){var y=n.e(m),v=i.set.bind(i,m,null),C=i.set.bind(i,m);y.then(v,C),i.set(m,y)}}o?0===o._status&&(e=o._value,o._status=2,o._value=a,f(e)):t.set(s,new l(2,a,e));break;case"P":e._chunks.set(s,p(e,function(e){return u[e]||(u[e]=r.createServerContext(e,c)),u[e]}(a).Provider));break;case"S":o=JSON.parse(a),e._chunks.set(s,p(e,Symbol.for(o)));break;case"E":t=JSON.parse(a),(o=Error(t.message)).stack=t.stack,(a=(t=e._chunks).get(s))?g(a,o):t.set(s,new l(4,o,e));break;default:throw Error("Error parsing the data. It's probably an error code or network corruption.")}}}function E(e){return function(t,n){return"string"==typeof n?function(e,t,n){switch(n[0]){case"$":return"$"===n?a:"$"===n[1]||"@"===n[1]?n.substring(1):d(e=y(e,parseInt(n.substring(1),16)));case"@":return e=y(e,parseInt(n.substring(1),16)),{$$typeof:s,_payload:e,_init:d}}return n}(e,0,n):"object"==typeof n&&null!==n?n[0]===a?{$$typeof:a,type:n[1],key:n[2],ref:null,props:n[3],_owner:null}:n:n}}function w(e){var t=new TextDecoder;return(e={_bundlerConfig:e,_chunks:new Map,readRoot:h,_partialRow:"",_stringDecoder:t})._fromJSON=E(e),e}function b(e,t){function n(t){m(e,t)}var r=t.getReader();r.read().then((function t(i){var a=i.value;if(!i.done){i=a,a=e._stringDecoder;for(var s=i.indexOf(10);-1<s;){var c=e._partialRow,u=i.subarray(0,s);u=a.decode(u),C(e,c+u),e._partialRow="",s=(i=i.subarray(s+1)).indexOf(10)}return e._partialRow+=a.decode(i,o),r.read().then(t,n)}v(e)}),n)}l.prototype.then=function(e){0===this._status?(null===this._value&&(this._value=[]),this._value.push(e)):e()},t.createFromReadableStream=function(e,t){return b(t=w(t&&t.moduleMap?t.moduleMap:null),e),t}},8163:function(e,t,n){"use strict";e.exports=n(207)},2475:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6221:function(e,t,n){var r=n(5636);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4994:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5636:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4656:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SCRIPT_TYPE="text/partytown",t.partytownSnippet=e=>((e,t)=>{const{forward:n=[],...r}=e||{},o=JSON.stringify(r,((e,t)=>("function"==typeof t&&(t=String(t)).startsWith(e+"(")&&(t="function "+t),t)));return["!(function(w,p,f,c){",Object.keys(r).length>0?`c=w[p]=Object.assign(w[p]||{},${o});`:"c=w[p]=w[p]||{};","c[f]=(c[f]||[])",n.length>0?`.concat(${JSON.stringify(n)})`:"","})(window,'partytown','forward');",t].join("")})(e,'/* Partytown 0.7.6 - MIT builder.io */\n!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll(\'script[type="text/partytown"]\'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(f,1e4),e.addEventListener("pt0",w),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):f())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.7.6":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function f(n,r){for(w(),i==t&&(o.forward||[]).map((function(e){delete t[e.split(".")[0]]})),n=0;n<s.length;n++)(r=e.createElement("script")).innerHTML=s[n].innerHTML,e.head.appendChild(r);c&&c.parentNode.removeChild(c)}function w(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);')},6462:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{BaseContext:function(){return m},Link:function(){return $},Location:function(){return J},LocationContext:function(){return y},LocationProvider:function(){return V},Match:function(){return ee},Redirect:function(){return T},Router:function(){return se},ServerLocation:function(){return Z},createHistory:function(){return l},createMemorySource:function(){return d},globalHistory:function(){return p},insertParams:function(){return R},isRedirect:function(){return w},match:function(){return k},navigate:function(){return f},pick:function(){return I},redirectTo:function(){return b},resolve:function(){return A},shallowCompare:function(){return U},startsWith:function(){return S},useBaseContext:function(){return v},useLocation:function(){return ue},useLocationContext:function(){return C},useMatch:function(){return he},useNavigate:function(){return le},useParams:function(){return de},validateRedirect:function(){return P}});var o=n(6540),i=n(5556),a=n(311);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}const u=e=>{const{search:t,hash:n,href:r,origin:o,protocol:i,host:a,hostname:s,port:c}=e.location;let{pathname:u}=e.location;return!u&&r&&h&&(u=new URL(r).pathname),{pathname:encodeURI(decodeURI(u)),search:t,hash:n,href:r,origin:o,protocol:i,host:a,hostname:s,port:c,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}},l=(e,t)=>{let n=[],r=u(e),o=!1,i=()=>{};return{get location(){return r},get transitioning(){return o},_onTransitionComplete(){o=!1,i()},listen(t){n.push(t);const o=()=>{r=u(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",o),()=>{e.removeEventListener("popstate",o),n=n.filter((e=>e!==t))}},navigate(t,{state:a,replace:c=!1}={}){if("number"==typeof t)e.history.go(t);else{a=s({},a,{key:Date.now()+""});try{o||c?e.history.replaceState(a,null,t):e.history.pushState(a,null,t)}catch(n){e.location[c?"replace":"assign"](t)}}r=u(e),o=!0;const l=new Promise((e=>i=e));return n.forEach((e=>e({location:r,action:"PUSH"}))),l}}},d=(e="/")=>{const t=e.indexOf("?"),n={pathname:t>-1?e.substr(0,t):e,search:t>-1?e.substr(t):""};let r=0;const o=[n],i=[null];return{get location(){return o[r]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return o},get index(){return r},get state(){return i[r]},pushState(e,t,n){const[a,s=""]=n.split("?");r++,o.push({pathname:a,search:s.length?`?${s}`:s}),i.push(e)},replaceState(e,t,n){const[a,s=""]=n.split("?");o[r]={pathname:a,search:s},i[r]=e},go(e){const t=r+e;t<0||t>i.length-1||(r=t)}}}},h=!("undefined"==typeof window||!window.document||!window.document.createElement),p=l(h?window:d()),{navigate:f}=p;function g(e,t){return o.createServerContext?((e,t=null)=>(globalThis.__SERVER_CONTEXT||(globalThis.__SERVER_CONTEXT={}),globalThis.__SERVER_CONTEXT[e]||(globalThis.__SERVER_CONTEXT[e]=o.createServerContext(e,t)),globalThis.__SERVER_CONTEXT[e]))(e,t):o.createContext(t)}const m=g("Base",{baseuri:"/",basepath:"/"}),y=g("Location"),v=()=>o.useContext(m),C=()=>o.useContext(y);function E(e){this.uri=e}const w=e=>e instanceof E,b=e=>{throw new E(e)};function _(e){const{to:t,replace:n=!0,state:r,noThrow:i,baseuri:a}=e;o.useEffect((()=>{Promise.resolve().then((()=>{const o=A(t,a);f(R(o,e),{replace:n,state:r})}))}),[]);const s=A(t,a);return i||b(R(s,e)),null}const T=e=>{const t=C(),{baseuri:n}=v();return o.createElement(_,s({},t,{baseuri:n},e))};T.propTypes={from:i.string,to:i.string.isRequired};const S=(e,t)=>e.substr(0,t.length)===t,I=(e,t)=>{let n,r;const[o]=t.split("?"),i=L(o),s=""===i[0],c=x(e);for(let u=0,l=c.length;u<l;u++){let e=!1;const o=c[u].route;if(o.default){r={route:o,params:{},uri:t};continue}const l=L(o.path),d={},h=Math.max(i.length,l.length);let p=0;for(;p<h;p++){const t=l[p],n=i[p];if(M(t)){d[t.slice(1)||"*"]=i.slice(p).map(decodeURIComponent).join("/");break}if(void 0===n){e=!0;break}const r=N.exec(t);if(r&&!s){const e=-1===q.indexOf(r[1]);a(e,`<Router> dynamic segment "${r[1]}" is a reserved name. Please use a different name in path "${o.path}".`);const t=decodeURIComponent(n);d[r[1]]=t}else if(t!==n){e=!0;break}}if(!e){n={route:o,params:d,uri:"/"+i.slice(0,p).join("/")};break}}return n||r||null},k=(e,t)=>I([{path:e}],t),A=(e,t)=>{if(S(e,"/"))return e;const[n,r]=e.split("?"),[o]=t.split("?"),i=L(n),a=L(o);if(""===i[0])return D(o,r);if(!S(i[0],".")){const e=a.concat(i).join("/");return D(("/"===o?"":"/")+e,r)}const s=a.concat(i),c=[];for(let u=0,l=s.length;u<l;u++){const e=s[u];".."===e?c.pop():"."!==e&&c.push(e)}return D("/"+c.join("/"),r)},R=(e,t)=>{const[n,r=""]=e.split("?");let o="/"+L(n).map((e=>{const n=N.exec(e);return n?t[n[1]]:e})).join("/");const{location:{search:i=""}={}}=t,a=i.split("?")[1]||"";return o=D(o,r,a),o},P=(e,t)=>{const n=e=>O(e);return L(e).filter(n).sort().join("/")===L(t).filter(n).sort().join("/")},N=/^:(.+)/,O=e=>N.test(e),M=e=>e&&"*"===e[0],H=(e,t)=>({route:e,score:e.default?0:L(e.path).reduce(((e,t)=>(e+=4,(e=>""===e)(t)?e+=1:O(t)?e+=2:M(t)?e-=5:e+=3,e)),0),index:t}),x=e=>e.map(H).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)),L=e=>e.replace(/(^\/+|\/+$)/g,"").split("/"),D=(e,...t)=>e+((t=t.filter((e=>e&&e.length>0)))&&t.length>0?`?${t.join("&")}`:""),q=["uri","path"],U=(e,t)=>{const n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((n=>t.hasOwnProperty(n)&&e[n]===t[n]))},B=e=>e.replace(/(^\/+|\/+$)/g,""),F=e=>t=>{if(!t)return null;if(t.type===o.Fragment&&t.props.children)return o.Children.map(t.props.children,F(e));if(a(t.props.path||t.props.default||t.type===T,`<Router>: Children of <Router> must have a \`path\` or \`default\` prop, or be a \`<Redirect>\`. None found on element type \`${t.type}\``),a(!!(t.type!==T||t.props.from&&t.props.to),`<Redirect from="${t.props.from}" to="${t.props.to}"/> requires both "from" and "to" props when inside a <Router>.`),a(!(t.type===T&&!P(t.props.from,t.props.to)),`<Redirect from="${t.props.from} to="${t.props.to}"/> has mismatched dynamic segments, ensure both paths have the exact same dynamic segments.`),t.props.default)return{value:t,default:!0};const n=t.type===T?t.props.from:t.props.path,r="/"===n?e:`${B(e)}/${B(n)}`;return{value:t,default:t.props.default,path:t.props.children?`${B(r)}/*`:r}},Y=["innerRef"],G=["to","state","replace","getProps"],K=["key"];let{forwardRef:j}=r||(r=n.t(o,2));void 0===j&&(j=e=>e);const z=()=>{},$=j(((e,t)=>{let{innerRef:n}=e,r=c(e,Y);const{baseuri:i}=v(),{location:a}=C(),{to:u,state:l,replace:d,getProps:h=z}=r,p=c(r,G),g=A(u,i),m=encodeURI(g),y=a.pathname===m,E=S(a.pathname,m);return o.createElement("a",s({ref:t||n,"aria-current":y?"page":void 0},p,h({isCurrent:y,isPartiallyCurrent:E,href:g,location:a}),{href:g,onClick:e=>{if(p.onClick&&p.onClick(e),(e=>!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)){e.preventDefault();let t=d;if("boolean"!=typeof d&&y){const e=c(s({},a.state),K);t=U(s({},l),e)}f(g,{state:l,replace:t})}}}))}));$.displayName="Link",$.propTypes={to:i.string.isRequired};class Q extends o.Component{constructor(...e){super(...e),this.displayName="ReactUseErrorBoundary"}componentDidCatch(...e){this.setState({}),this.props.onError(...e)}render(){return this.props.children}}const W=o.createContext({componentDidCatch:{current:void 0},error:void 0,setError:()=>!1});function X({children:e}){const[t,n]=o.useState(),r=o.useRef(),i=o.useMemo((()=>({componentDidCatch:r,error:t,setError:n})),[t]);return o.createElement(W.Provider,{value:i},o.createElement(Q,{error:t,onError:(e,t)=>{n(e),null==r.current||r.current(e,t)}},e))}X.displayName="ReactUseErrorBoundaryContext";const V=function(e){var t,n;function r(t){return o.createElement(X,null,o.createElement(e,s({key:"WrappedComponent"},t)))}return r.displayName=`WithErrorBoundary(${null!=(t=null!=(n=e.displayName)?n:e.name)?t:"Component"})`,r}((({history:e=p,children:t})=>{const{location:n}=e,[r,i]=o.useState({location:n}),[a]=function(){const e=o.useContext(W);e.componentDidCatch.current=void 0;const t=o.useCallback((()=>{e.setError(void 0)}),[]);return[e.error,t]}();if(o.useEffect((()=>{e._onTransitionComplete()}),[r.location]),o.useEffect((()=>{let t=!1;const n=e.listen((({location:e})=>{Promise.resolve().then((()=>{requestAnimationFrame((()=>{t||i({location:e})}))}))}));return()=>{t=!0,n()}}),[]),a){if(!w(a))throw a;f(a.uri,{replace:!0})}return o.createElement(y.Provider,{value:r},"function"==typeof t?t(r):t||null)})),J=({children:e})=>{const t=C();return t?e(t):o.createElement(V,null,e)},Z=({url:e,children:t})=>{const n=e.indexOf("?");let r,i="";return n>-1?(r=e.substring(0,n),i=e.substring(n)):r=e,o.createElement(y.Provider,{value:{location:{pathname:r,search:i,hash:""}}},t)},ee=({path:e,children:t})=>{const{baseuri:n}=v(),{location:r}=C(),o=A(e,n),i=k(o,r.pathname);return t({location:r,match:i?s({},i.params,{uri:i.uri,path:e}):null})},te=["uri","location","component"],ne=["children","style","component","uri","location"],re=e=>{let{uri:t,location:n,component:r}=e,i=c(e,te);return o.createElement(ie,s({},i,{component:r,uri:t,location:n}))};let oe=0;const ie=e=>{let{children:t,style:n,component:r="div",uri:i,location:a}=e,u=c(e,ne);const l=o.useRef(),d=o.useRef(!0),h=o.useRef(i),p=o.useRef(a.pathname),f=o.useRef(!1);o.useEffect((()=>(oe++,g(),()=>{oe--,0===oe&&(d.current=!0)})),[]),o.useEffect((()=>{let e=!1,t=!1;i!==h.current&&(h.current=i,e=!0),a.pathname!==p.current&&(p.current=a.pathname,t=!0),f.current=e||t&&a.pathname===i,f.current&&g()}),[i,a]);const g=o.useCallback((()=>{var e;d.current?d.current=!1:(e=l.current,f.current&&e&&e.focus())}),[]);return o.createElement(r,s({style:s({outline:"none"},n),tabIndex:"-1",ref:l},u),t)},ae=["location","primary","children","basepath","baseuri","component"],se=e=>{const t=v(),n=C();return o.createElement(ce,s({},t,n,e))};function ce(e){const{location:t,primary:n=!0,children:r,basepath:i,component:a="div"}=e,u=c(e,ae),l=o.Children.toArray(r).reduce(((e,t)=>{const n=F(i)(t);return e.concat(n)}),[]),{pathname:d}=t,h=I(l,d);if(h){const{params:e,uri:r,route:c,route:{value:l}}=h,d=c.default?i:c.path.replace(/\*$/,""),p=s({},e,{uri:r,location:t}),f=o.cloneElement(l,p,l.props.children?o.createElement(se,{location:t,primary:n},l.props.children):void 0),g=n?re:a,y=n?s({uri:r,location:t,component:a},u):u;return o.createElement(m.Provider,{value:{baseuri:r,basepath:d}},o.createElement(g,y,f))}return null}const ue=()=>{const e=C();if(!e)throw new Error("useLocation hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");return e.location},le=()=>{throw new Error("useNavigate is removed. Use import { navigate } from 'gatsby' instead")},de=()=>{const e=v();if(!e)throw new Error("useParams hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");const t=ue(),n=k(e.basepath,t.pathname);return n?n.params:null},he=e=>{if(!e)throw new Error("useMatch(path: string) requires an argument of a string to match against");const t=v();if(!t)throw new Error("useMatch hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");const n=ue(),r=A(e,t.baseuri),o=k(r,n.pathname);return o?s({},o.params,{uri:o.uri,path:e}):null}},7078:function(e,t,n){"use strict";n.d(t,{Fe:function(){return p},N_:function(){return b},Rr:function(){return c},Zf:function(){return v},oo:function(){return _}});var r=n(5556),o=n(6540),i=n(6462),a=n(6395);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){let t=e||"/",n="",r="";const o=t.indexOf("#");-1!==o&&(r=t.slice(o),t=t.slice(0,o));const i=t.indexOf("?");return-1!==i&&(n=t.slice(i),t=t.slice(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}const u=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>{if("string"==typeof e)return!(e=>u.test(e))(e)},d=()=>"/js2",h=()=>"/js2";function p(e,t=d()){var n;if(!l(e))return e;if(e.startsWith("./")||e.startsWith("../"))return e;const r=null!=(n=null!=t?t:h())?n:"/";return`${null!=r&&r.endsWith("/")?r.slice(0,-1):r}${e.startsWith("/")?e:`/${e}`}`}const f=e=>null==e?void 0:e.startsWith("/");function g(e,t){const{pathname:n,search:r,hash:o}=c(e);return`${(0,a.T)(n,t)}${r}${o}`}const m=(e,t)=>"number"==typeof e?e:l(e)?f(e)?function(e){const t=p(e),n="always";return g(t,n)}(e):function(e,t){if(f(e))return e;const n="always",r=(0,i.resolve)(e,t);return g(r,n)}(e,t):e,y=["to","getProps","onClick","onMouseEnter","activeClassName","activeStyle","innerRef","partiallyActive","state","replace","_location"];function v(e){return p(e,h())}const C={activeClassName:r.string,activeStyle:r.object,partiallyActive:r.bool};function E(e){return o.createElement(i.Location,null,(({location:t})=>o.createElement(w,s({},e,{_location:t}))))}class w extends o.Component{constructor(e){super(e),this.defaultGetProps=({isPartiallyCurrent:e,isCurrent:t})=>(this.props.partiallyActive?e:t)?{className:[this.props.className,this.props.activeClassName].filter(Boolean).join(" "),style:s({},this.props.style,this.props.activeStyle)}:null;let t=!1;"undefined"!=typeof window&&window.IntersectionObserver&&(t=!0),this.state={IOSupported:t},this.abortPrefetch=null,this.handleRef=this.handleRef.bind(this)}_prefetch(){let e=window.location.pathname+window.location.search;this.props._location&&this.props._location.pathname&&(e=this.props._location.pathname+this.props._location.search);const t=c(m(this.props.to,e)),n=t.pathname+t.search;if(e!==n)return ___loader.enqueue(n)}componentWillUnmount(){if(!this.io)return;const{instance:e,el:t}=this.io;this.abortPrefetch&&this.abortPrefetch.abort(),e.unobserve(t),e.disconnect()}handleRef(e){this.props.innerRef&&Object.prototype.hasOwnProperty.call(this.props.innerRef,"current")?this.props.innerRef.current=e:this.props.innerRef&&this.props.innerRef(e),this.state.IOSupported&&e&&(this.io=((e,t)=>{const n=new window.IntersectionObserver((n=>{n.forEach((n=>{e===n.target&&t(n.isIntersecting||n.intersectionRatio>0)}))}));return n.observe(e),{instance:n,el:e}})(e,(e=>{e?this.abortPrefetch=this._prefetch():this.abortPrefetch&&this.abortPrefetch.abort()})))}render(){const e=this.props,{to:t,getProps:n=this.defaultGetProps,onClick:r,onMouseEnter:a,state:u,replace:d,_location:h}=e,p=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(e,y),f=m(t,h.pathname);return l(f)?o.createElement(i.Link,s({to:f,state:u,getProps:n,innerRef:this.handleRef,onMouseEnter:e=>{a&&a(e);const t=c(f);___loader.hovering(t.pathname+t.search)},onClick:e=>{if(r&&r(e),!(0!==e.button||this.props.target||e.defaultPrevented||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){e.preventDefault();let t=d;const n=encodeURI(f)===h.pathname;"boolean"!=typeof d&&n&&(t=!0),window.___navigate(f,{state:u,replace:t})}return!0}},p)):o.createElement("a",s({href:f},p))}}w.propTypes=s({},C,{onClick:r.func,to:r.string.isRequired,replace:r.bool,state:r.object});const b=o.forwardRef(((e,t)=>o.createElement(E,s({innerRef:t},e)))),_=(e,t)=>{window.___navigate(m(e,window.location.pathname),t)}},5535:function(e,t,n){"use strict";n.r(t),n.d(t,{Script:function(){return f},ScriptStrategy:function(){return u},collectedScriptsByPage:function(){return s},scriptCache:function(){return h},scriptCallbackCache:function(){return p}});var r=n(6540),o=n(6462);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const a=new Map,s={get:e=>a.get(e)||[],set(e,t){const n=a.get(e)||[];n.push(t),a.set(e,n)},delete(e){a.delete(e)}},c="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};var u,l;(l=u||(u={})).postHydrate="post-hydrate",l.idle="idle",l.offMainThread="off-main-thread";const d=new Set(["src","strategy","dangerouslySetInnerHTML","children","onLoad","onError"]),h=new Set,p=new Map;function f(e){return r.createElement(o.Location,null,(()=>r.createElement(g,e)))}function g(e){const{src:t,strategy:n=u.postHydrate}=e||{},{pathname:a}=(0,o.useLocation)();if((0,r.useEffect)((()=>{let t;switch(n){case u.postHydrate:t=m(e);break;case u.idle:c((()=>{t=m(e)}));break;case u.offMainThread:{const t=v(e);s.set(a,t)}}return()=>{const{script:e,loadCallback:n,errorCallback:r}=t||{};n&&(null==e||e.removeEventListener("load",n)),r&&(null==e||e.removeEventListener("error",r)),null==e||e.remove()}}),[]),n===u.offMainThread){const o=y(e),c=v(e);return"undefined"==typeof window&&s.set(a,c),r.createElement("script",o?i({type:"text/partytown","data-strategy":n,crossOrigin:"anonymous"},c,{dangerouslySetInnerHTML:{__html:y(e)}}):i({type:"text/partytown",src:C(t),"data-strategy":n,crossOrigin:"anonymous"},c))}return null}function m(e){const{id:t,src:n,strategy:r=u.postHydrate,onLoad:o,onError:a}=e||{},s=t||n,c=["load","error"],l={load:o,error:a};if(s){for(const e of c)if(null!=l&&l[e]){var d;const t=p.get(s)||{},{callbacks:n=[]}=(null==t?void 0:t[e])||{};var f,g;n.push(null==l?void 0:l[e]),null!=t&&null!=(d=t[e])&&d.event?null==l||null==(f=l[e])||f.call(l,null==t||null==(g=t[e])?void 0:g.event):p.set(s,i({},t,{[e]:{callbacks:n}}))}if(h.has(s))return null}const m=y(e),C=v(e),w=document.createElement("script");t&&(w.id=t),w.dataset.strategy=r;for(const[i,u]of Object.entries(C))w.setAttribute(i,u);m&&(w.textContent=m),n&&(w.src=n);const b={};if(s){for(const e of c){const t=t=>E(t,s,e);w.addEventListener(e,t),b[`${e}Callback`]=t}h.add(s)}return document.body.appendChild(w),{script:w,loadCallback:b.loadCallback,errorCallback:b.errorCallback}}function y(e){const{dangerouslySetInnerHTML:t,children:n=""}=e||{},{__html:r=""}=t||{};return r||n}function v(e){const t={};for(const[n,r]of Object.entries(e))d.has(n)||(t[n]=r);return t}function C(e){if(e)return`/__third-party-proxy?url=${encodeURIComponent(e)}`}function E(e,t,n){const r=p.get(t)||{};for(const i of(null==r||null==(o=r[n])?void 0:o.callbacks)||[]){var o;i(e)}p.set(t,{[n]:{event:e}})}}},function(e){e.O(0,[6593,7697],(function(){return t=6498,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=app-64932af794cb2d98662e.js.map