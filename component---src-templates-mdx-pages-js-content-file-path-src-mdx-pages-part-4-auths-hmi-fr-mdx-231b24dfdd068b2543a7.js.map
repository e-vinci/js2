{"version":3,"file":"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-4-auths-hmi-fr-mdx-231b24dfdd068b2543a7.js","mappings":"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","sources":["webpack://myjscourse/./src/mdx-pages/part4/auths-hmi.fr.mdx","webpack://myjscourse/./src/templates/mdx-pages.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    br: \"br\",\n    strong: \"strong\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    a: \"a\",\n    pre: \"pre\",\n    code: \"code\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\",\n    ol: \"ol\",\n    h4: \"h4\",\n    h5: \"h5\"\n  }, _provideComponents(), props.components), {PathViewer, PathViewerItem, InternalPageMenu, InternalPageMenuItem, InternalPageTitle} = _components;\n  if (!InternalPageMenu) _missingMdxReference(\"InternalPageMenu\", true);\n  if (!InternalPageMenuItem) _missingMdxReference(\"InternalPageMenuItem\", true);\n  if (!InternalPageTitle) _missingMdxReference(\"InternalPageTitle\", true);\n  if (!PathViewer) _missingMdxReference(\"PathViewer\", true);\n  if (!PathViewerItem) _missingMdxReference(\"PathViewerItem\", true);\n  return React.createElement(React.Fragment, null, React.createElement(PathViewer, null, React.createElement(PathViewerItem, {\n    to: \"/\"\n  }, \" web2course \"), React.createElement(PathViewerItem, {\n    to: \"/part4\"\n  }, \" Partie 4 \"), React.createElement(PathViewerItem, {\n    selected: true\n  }, \" b) HMI & JWT \")), \"\\n\", React.createElement(_components.h1, null, \"b) Authentification & utilisation d'opÃ©rations protÃ©gÃ©es par JWT au sein d'une IHM\"), \"\\n\", React.createElement(InternalPageMenu, null, React.createElement(InternalPageMenuItem, null, \" Authentification d'un utilisateur via une IHM & JWT \"), React.createElement(InternalPageMenuItem, null, \" Autorisation de l'appel Ã  une opÃ©ration protÃ©gÃ©e \"), React.createElement(InternalPageMenuItem, null, \" ProblÃ¨mes de sÃ©curitÃ© \"), React.createElement(InternalPageMenuItem, null, \" Exercice 4.2 : Authentification & autorisation au sein de myMovies \")), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Authentification d'un utilisateur via une IHM & JWT \")), \"\\n\", React.createElement(_components.p, null, \"Pour authentifier un utilisateur via une IHM, il suffit de faire une requÃªte Ã  une RESTful API.\"), \"\\n\", React.createElement(_components.p, null, \"GÃ©nÃ©ralement, l'utilisateur devra d'abord crÃ©er son compte. Il utilisera un formulaire demandant au minimum un identifiant (username, adresse e-mail ou autres) et un password.\", React.createElement(_components.br), \"\\n\", \"Dans le cadre d'une SPA, l'IHM fera appel Ã  une opÃ©ration de type \", React.createElement(_components.strong, null, \"register\"), \" lorsque l'utilisateur soumet le formulaire.\"), \"\\n\", React.createElement(_components.p, null, \"Par la suite, lorsque le compte de l'utilisateur existe, l'IHM fera appel Ã  une opÃ©ration de type \", React.createElement(_components.strong, null, \"login\"), \" lorsque l'utilisateur tentera de se connecter Ã  l'aide d'un formulaire.\"), \"\\n\", React.createElement(_components.p, null, \"Dans les deux cas, \", React.createElement(_components.strong, null, \"register\"), \" ou \", React.createElement(_components.strong, null, \"login\"), \", le dÃ©veloppeur devra connaÃ®tre les opÃ©rations mises Ã  disposition par l'API.\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre du site de la pizzeria, nous savons que l'API met Ã  disposition ces deux opÃ©rations :\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"MÃ©thode HTTP\"), React.createElement(_components.th, null, \"OpÃ©ration\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"auths/login\")), React.createElement(_components.td, null, \"POST\"), React.createElement(_components.td, null, \"VÃ©rifier les credentials d'une ressource de type \\\"users\\\" et renvoyer le username et un token JWT si les credentials sont OK\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"auths/register\")), React.createElement(_components.td, null, \"POST\"), React.createElement(_components.td, null, \"CrÃ©er une ressource de type \\\"users\\\" et renvoyer le username et un token JWT\")))), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez dÃ©marrer la derniÃ¨re version de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"auths\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant continuer le dÃ©veloppement de l'IHM \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/async-await\"\n  }, \"async-await\"), \" pour que le formulaire de register et de login fassent appelle Ã  l'API et sauve temporairement le token renvoyÃ©.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez crÃ©er le projet nommÃ© \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\"), \" sur base d'un copiÃ© collÃ© de \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/async-await\"), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/basic-fetch\"\n  }, \"async-await\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considÃ©rons que tous les chemins absolus dÃ©marrent du rÃ©pertoire\\r\\n\", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre Ã  jour le code de la \", React.createElement(_components.strong, null, \"RegisterPage\"), \" afin de faire appel Ã  la mÃ©thode \", React.createElement(_components.strong, null, \"POST /auths/register\"), \" et, si tout est OK, renvoyer l'utilisateur vers la \", React.createElement(_components.strong, null, \"HomePage\"), \" via la fonction \", React.createElement(_components.strong, null, \"Navigate\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"2,34-63\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst RegisterPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Register');\\r\\n  renderRegisterForm();\\r\\n};\\r\\n\\r\\nfunction renderRegisterForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const username = document.createElement('input');\\r\\n  username.type = 'text';\\r\\n  username.id = 'username';\\r\\n  username.placeholder = 'username';\\r\\n  username.required = true;\\r\\n  username.className = 'form-control mb-3';\\r\\n  const password = document.createElement('input');\\r\\n  password.type = 'password';\\r\\n  password.id = 'password';\\r\\n  password.required = true;\\r\\n  password.placeholder = 'password';\\r\\n  password.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Register';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(username);\\r\\n  form.appendChild(password);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onRegister);\\r\\n}\\r\\n\\r\\nasync function onRegister(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const username = document.querySelector('#username').value;\\r\\n  const password = document.querySelector('#password').value;\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      username,\\r\\n      password,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/auths/register', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const authenticatedUser = await response.json();\\r\\n\\r\\n  console.log('Newly registered & authenticated user : ', authenticatedUser);\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default RegisterPage;\\r\\n\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez exÃ©cuter le frontend et vous assurer que l'utilisateur que vous tentez de crÃ©er est bien crÃ©Ã© par votre API. Si tout fonctionne, vous aurez une confirmation dans la console de votre browser.\"), \"\\n\", React.createElement(_components.p, null, \"Bien, nous souhaitons pour l'instant sauvegarder \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" de maniÃ¨re temporaire, car cet objet contient comme info le username et le token de l'utilisateur.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Comment faire pour que cet objet soit disponible dans d'autres modules ?\\r\\nCette question nous permet d'explorer un propriÃ©tÃ© importante des \", React.createElement(_components.strong, null, \"export\"), \" d'objets via ECMAScript : ce sont des objets immuables, c'est-Ã -dire dont vous ne pouvez pas directement changer leurs valeurs. Comment faire alors pour offrir \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" ?\", React.createElement(_components.br), \"\\n\", \"Nous allons offrir quatre nouvelles fonctions :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"une fonction qui renverra l'Ã©tat d'une variable \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"une fonction qui permettra de modifier la variable \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"une fonction qui indiquera si l'utilisateur est authentifiÃ© ou pas ;\"), \"\\n\", React.createElement(_components.li, null, \"une fonction qui permettra de faire un reset de l'utilisateur en cours (on utilisera cette fonction lors d'un logout).\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez crÃ©er le fichier \", React.createElement(_components.strong, null, \"/src/utils/auths.js\"), \" et y ajouter le code suivant :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"let currentUser;\\r\\n\\r\\nconst getAuthenticatedUser = () => currentUser;\\r\\n\\r\\nconst setAuthenticatedUser = (authenticatedUser) => {\\r\\n  currentUser = authenticatedUser;\\r\\n};\\r\\n\\r\\nconst isAuthenticated = () => currentUser !== undefined;\\r\\n\\r\\nconst clearAuthenticatedUser = () => {\\r\\n  currentUser = undefined;\\r\\n};\\r\\n\\r\\n// eslint-disable-next-line object-curly-newline\\r\\nexport { getAuthenticatedUser, setAuthenticatedUser, isAuthenticated, clearAuthenticatedUser };\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre Ã  jour le code de la \", React.createElement(_components.strong, null, \"RegisterPage\"), \" afin de sauver en mÃ©moire vive l'utilisateur authentifiÃ©. Nous allons aussi prÃ©parer la suite afin d'avoir une Navbar qui s'adaptera lorsqu'un utilisateur est authentifiÃ©, c'est pourquoi nous allons appeler le composant \", React.createElement(_components.strong, null, \"Navbar\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,3,66,68\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { setAuthenticatedUser } from '../../utils/auths';\\r\\nimport { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navbar from '../Navbar/Navbar';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst RegisterPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Register');\\r\\n  renderRegisterForm();\\r\\n};\\r\\n\\r\\nfunction renderRegisterForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const username = document.createElement('input');\\r\\n  username.type = 'text';\\r\\n  username.id = 'username';\\r\\n  username.placeholder = 'username';\\r\\n  username.required = true;\\r\\n  username.className = 'form-control mb-3';\\r\\n  const password = document.createElement('input');\\r\\n  password.type = 'password';\\r\\n  password.id = 'password';\\r\\n  password.required = true;\\r\\n  password.placeholder = 'password';\\r\\n  password.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Register';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(username);\\r\\n  form.appendChild(password);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onRegister);\\r\\n}\\r\\n\\r\\nasync function onRegister(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const username = document.querySelector('#username').value;\\r\\n  const password = document.querySelector('#password').value;\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      username,\\r\\n      password,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/auths/register', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const authenticatedUser = await response.json();\\r\\n\\r\\n  console.log('Newly registered & authenticated user : ', authenticatedUser);\\r\\n\\r\\n  setAuthenticatedUser(authenticatedUser);\\r\\n\\r\\n  Navbar();\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default RegisterPage;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour la \", React.createElement(_components.strong, null, \"LoginPage\"), \", les modifications Ã  faire sont les mÃªmes :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,3-4,36-69\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { setAuthenticatedUser } from '../../utils/auths';\\r\\nimport { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navbar from '../Navbar/Navbar';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst LoginPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Login');\\r\\n  renderRegisterForm();\\r\\n};\\r\\n\\r\\nfunction renderRegisterForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const username = document.createElement('input');\\r\\n  username.type = 'text';\\r\\n  username.id = 'username';\\r\\n  username.placeholder = 'username';\\r\\n  username.required = true;\\r\\n  username.className = 'form-control mb-3';\\r\\n  const password = document.createElement('input');\\r\\n  password.type = 'password';\\r\\n  password.id = 'password';\\r\\n  password.required = true;\\r\\n  password.placeholder = 'password';\\r\\n  password.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Login';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(username);\\r\\n  form.appendChild(password);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onLogin);\\r\\n}\\r\\n\\r\\nasync function onLogin(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const username = document.querySelector('#username').value;\\r\\n  const password = document.querySelector('#password').value;\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      username,\\r\\n      password,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/auths/login', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const authenticatedUser = await response.json();\\r\\n\\r\\n  console.log('Authenticated user : ', authenticatedUser);\\r\\n\\r\\n  setAuthenticatedUser(authenticatedUser);\\r\\n\\r\\n  Navbar();\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default LoginPage;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous souhaitons maintenant faire en sorte que la Navbar affiche des Ã©lÃ©ments diffÃ©rents si l'utilisateur est authentifiÃ© au pas :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"s'il est authentifiÃ© : on affiche \", React.createElement(_components.strong, null, \"Home\"), \", \", React.createElement(_components.strong, null, \"Login\"), \", \", React.createElement(_components.strong, null, \"Register\"), \" et le \", React.createElement(_components.strong, null, \"username\"), \" de l'utilisateur connectÃ©.\"), \"\\n\", React.createElement(_components.li, null, \"s'il est anonyme : on affiche \", React.createElement(_components.strong, null, \"Home\"), \", \", React.createElement(_components.strong, null, \"Add a pizza\"), \", \", React.createElement(_components.strong, null, \"Logout\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons mettre Ã  jour la \", React.createElement(_components.strong, null, \"Navbar\"), \" pour s'adapter Ã  l'authentification d'un utilisateur :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// eslint-disable-next-line no-unused-vars\\r\\nimport { Navbar as BootstrapNavbar } from 'bootstrap';\\r\\nimport { getAuthenticatedUser, isAuthenticated } from '../../utils/auths';\\r\\n\\r\\nconst Navbar = () => {\\r\\n  renderNavbar();\\r\\n};\\r\\n\\r\\nfunction renderNavbar() {\\r\\n  const authenticatedUser = getAuthenticatedUser();\\r\\n\\r\\n  const anonymousUserNavbar = `\\r\\n<nav class=\\\"navbar navbar-expand-lg navbar-light bg-danger\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <a class=\\\"navbar-brand\\\" href=\\\"#\\\">e-Pizzeria</a>\\r\\n        <button\\r\\n          class=\\\"navbar-toggler\\\"\\r\\n          type=\\\"button\\\"\\r\\n          data-bs-toggle=\\\"collapse\\\"\\r\\n          data-bs-target=\\\"#navbarSupportedContent\\\"\\r\\n          aria-controls=\\\"navbarSupportedContent\\\"\\r\\n          aria-expanded=\\\"false\\\"\\r\\n          aria-label=\\\"Toggle navigation\\\"\\r\\n        >\\r\\n          <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n        </button>\\r\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarSupportedContent\\\">\\r\\n          <ul class=\\\"navbar-nav me-auto mb-2 mb-lg-0\\\">\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link active\\\" aria-current=\\\"page\\\" href=\\\"#\\\" data-uri=\\\"/\\\">Home</a>\\r\\n            </li>\\r\\n            <li id=\\\"loginItem\\\" class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/login\\\">Login</a>\\r\\n            </li>\\r\\n            <li id=\\\"registerItem\\\" class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/register\\\">Register</a>\\r\\n            </li>            \\r\\n          </ul>\\r\\n        </div>\\r\\n      </div>\\r\\n    </nav>\\r\\n`;\\r\\n\\r\\n  const authenticatedUserNavbar = `\\r\\n<nav class=\\\"navbar navbar-expand-lg navbar-light bg-danger\\\">\\r\\n      <div class=\\\"container-fluid\\\">\\r\\n        <a class=\\\"navbar-brand\\\" href=\\\"#\\\">e-Pizzeria</a>\\r\\n        <button\\r\\n          class=\\\"navbar-toggler\\\"\\r\\n          type=\\\"button\\\"\\r\\n          data-bs-toggle=\\\"collapse\\\"\\r\\n          data-bs-target=\\\"#navbarSupportedContent\\\"\\r\\n          aria-controls=\\\"navbarSupportedContent\\\"\\r\\n          aria-expanded=\\\"false\\\"\\r\\n          aria-label=\\\"Toggle navigation\\\"\\r\\n        >\\r\\n          <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n        </button>\\r\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarSupportedContent\\\">\\r\\n          <ul class=\\\"navbar-nav me-auto mb-2 mb-lg-0\\\">\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link active\\\" aria-current=\\\"page\\\" href=\\\"#\\\" data-uri=\\\"/\\\">Home</a>\\r\\n            </li>          \\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/add-pizza\\\">Add a pizza</a>\\r\\n            </li>\\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link\\\" href=\\\"#\\\" data-uri=\\\"/logout\\\">Logout</a>\\r\\n            </li>    \\r\\n            <li class=\\\"nav-item\\\">\\r\\n              <a class=\\\"nav-link disabled\\\" href=\\\"#\\\">${authenticatedUser?.username}</a>\\r\\n            </li>           \\r\\n          </ul>\\r\\n        </div>\\r\\n      </div>\\r\\n    </nav>\\r\\n`;\\r\\n\\r\\n  const navbar = document.querySelector('#navbarWrapper');\\r\\n\\r\\n  navbar.innerHTML = isAuthenticated() ? authenticatedUserNavbar : anonymousUserNavbar;\\r\\n}\\r\\n\\r\\nexport default Navbar;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Ce code est quasi entiÃ¨rement neuf. On a rajoutÃ© l'Ã©lÃ©ment qui permettra de rÃ©aliser le logout d'un utilisateur. Avant d'aller plus loin, veuillez tester l'application.\", React.createElement(_components.br), \"\\n\", \"Loguez-vous avec l'utilisateur \", React.createElement(_components.strong, null, \"admin\"), \" (et le password \", React.createElement(_components.strong, null, \"admin\"), \") et vÃ©rifier que vous Ãªtes bien redirigÃ© vers la HomePage une fois authentifiÃ©, que la Navbar contient bien les Ã©lÃ©ments attendus, dont le \", React.createElement(_components.strong, null, \"username\"), \".\", React.createElement(_components.br), \"\\n\", \"Veuillez maintenant tester un clic sur l'Ã©lÃ©ment \", React.createElement(_components.strong, null, \"Add a pizza\"), \" de la Navbar. Il ne se passe rien...\", React.createElement(_components.br), \"\\n\", \"ðŸ’­ Pourquoi les clics ne sont plus pris en compte ?\", React.createElement(_components.br), \"\\n\", \"En fait, regardons le code de notre \", React.createElement(_components.strong, null, \"Router\"), \", pour la gestion des clics sur la \", React.createElement(_components.strong, null, \"Navbar\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"function onNavBarClick() {\\r\\n  const navItems = document.querySelectorAll('.nav-link');\\r\\n\\r\\n  navItems.forEach((item) => {\\r\\n    item.addEventListener('click', (e) => {\\r\\n      e.preventDefault();\\r\\n      const uri = e.target?.dataset?.uri;\\r\\n      const componentToRender = routes[uri];\\r\\n      if (!componentToRender) throw Error(`The ${uri} ressource does not exist.`);\\r\\n\\r\\n      componentToRender();\\r\\n      window.history.pushState({}, '', uri);\\r\\n    });\\r\\n  });\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"En fait, tant dans \", React.createElement(_components.strong, null, \"LoginPage\"), \" que dans \", React.createElement(_components.strong, null, \"RegisterPage\"), \", nous faisons appel Ã  la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Navbar\")), \" qui fait un \\\"rerender\\\" (rÃ©affichage) de la Navbar. Ainsi, tous les Ã©lÃ©ments de la barre de navigation sont \\\"rerender\\\", et donc comme le \", React.createElement(_components.strong, null, \"Router\"), \" n'est pas rÃ©appelÃ©, la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" n'est pas rÃ©exÃ©cutÃ©e. Ainsi, mÃªme si les nouveaux Ã©lÃ©ments de la Navbar ont la classe CSS \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"nav-link\")), \", leurs Ã©couteurs d'Ã©vÃ©nements de type click n'existent pas.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Comment corriger cela ?\\r\\nOn pourrait se dire qu'il suffit de faire appel Ã  la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" dans la \", React.createElement(_components.strong, null, \"Navbar\"), \". Cette solution ne fonctionnerait pas car nous aurions des dÃ©pendances cycliques, la Navbar devrait faire appel aux routes, qui elles font appel aux pages, les pages faisant appel Ã  la Navbar...\", React.createElement(_components.br), \"\\n\", \"DÃ¨s lors, le mieux serait de mettre un Ã©couteur d'Ã©vÃ©nements au niveau du wrapper de la Navbar.\", React.createElement(_components.br), \"\\n\", \"Comme le wrapper n'est jamais rÃ©initialisÃ©, tout sera en ordre.\", React.createElement(_components.br), \"\\n\", \"Veuillez donc mettre Ã  jour la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"onNavBarClick\")), \" de \", React.createElement(_components.strong, null, \"/src/Components/Router/Router.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"2,4,6-8\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"function onNavBarClick() {\\r\\n  const navbarWrapper = document.querySelector('#navbarWrapper');\\r\\n\\r\\n  navbarWrapper.addEventListener('click', (e) => {\\r\\n    e.preventDefault();\\r\\n    const navBarItemClicked = e.target;\\r\\n    const uri = navBarItemClicked?.dataset?.uri;\\r\\n    if (uri) {\\r\\n      const componentToRender = routes[uri];\\r\\n      if (!componentToRender) throw Error(`The ${uri} ressource does not exist.`);\\r\\n\\r\\n      componentToRender();\\r\\n      window.history.pushState({}, '', uri);\\r\\n    }\\r\\n  });\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez noter que le \", React.createElement(_components.strong, null, \"navbarWrapper\"), \" est initialisÃ© au sein du composant \", React.createElement(_components.strong, null, \"Header\"), \".\", React.createElement(_components.br), \"\\n\", \"Dans la nouvelle version du code du \", React.createElement(_components.strong, null, \"Router\"), \", le gestionnaire de clic est ajoutÃ© au niveau de ce wrapper. GrÃ¢ce Ã  l'event objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"e\")), \", on accÃ¨de Ã  l'Ã©lÃ©ment sur lequel on a cliquÃ© grÃ¢ce Ã  la propriÃ©tÃ© \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"target\")), \". On retrouve donc l'Ã©lÃ©ment de la navbar sur lequel on a cliquÃ© trÃ¨s facilement.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez tester votre IHM et vÃ©rifier qu'une fois loguÃ©, vous puissiez bien voyager entre les pages.\"), \"\\n\", React.createElement(_components.p, null, \"Il reste maintenant Ã  crÃ©er un composant permettant de faire un logout. On souhaite que ce composant de logout supprime l'utilisateur authentifiÃ©, rÃ©affiche la Navbar pour un utilisateur anonyme et redirige l'utilisateur vers la page de login.\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce faire, veuillez crÃ©er le dossier et le fichier \", React.createElement(_components.strong, null, \"/src/Components/Logout/Logout.js\"), \" et y ajouter ce code :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { clearAuthenticatedUser } from '../../utils/auths';\\r\\nimport Navbar from '../Navbar/Navbar';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst Logout = () => {\\r\\n  clearAuthenticatedUser();\\r\\n  Navbar();\\r\\n  Navigate('/login');\\r\\n};\\r\\n\\r\\nexport default Logout;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Attention, mÃªme si nous avons mis Ã  jour la \", React.createElement(_components.strong, null, \"Navbar\"), \" et crÃ©Ã© le composant \", React.createElement(_components.strong, null, \"Logout\"), \", le boilerplate du frontend impose de rajouter une route au sein du \", React.createElement(_components.strong, null, \"Router\"), \" pour qu'un clic sur l'Ã©lÃ©ment \", React.createElement(_components.strong, null, \"Logout\"), \" de la \", React.createElement(_components.strong, null, \"Navbar\"), \" amÃ¨ne Ã  appeler le composant \", React.createElement(_components.strong, null, \"Logout\"), \".\\r\\nVeuillez donc mettre Ã  jour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"routes\")), \" au sein de \", React.createElement(_components.strong, null, \"/src/Components/Router/Router.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"1,12\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import Logout from '../Logout/Logout';\\r\\nimport AddPizzaPage from '../Pages/AddPizzaPage';\\r\\nimport HomePage from '../Pages/HomePage';\\r\\nimport LoginPage from '../Pages/LoginPage';\\r\\nimport RegisterPage from '../Pages/RegisterPage';\\r\\n\\r\\nconst routes = {\\r\\n  '/': HomePage,\\r\\n  '/login': LoginPage,\\r\\n  '/register': RegisterPage,\\r\\n  '/add-pizza': AddPizzaPage,\\r\\n  '/logout': Logout,\\r\\n};\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez maintenant tester le login et le logout. Tout devrait Ãªtre fonctionnel !\", React.createElement(_components.br), \"\\n\", \"Il nous reste Ã  faire en sorte que l'on puisse autoriser l'opÃ©ration de crÃ©ation de pizza.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Autorisation de l'appel Ã  une opÃ©ration protÃ©gÃ©e  \")), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant voir comment, Ã  partir d'une IHM, nous pouvons utiliser un token pour accÃ©der Ã  une opÃ©ration d'une RESTful API.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous assurer que la derniÃ¨re version de la RESTful API de la pizzeria est bien dÃ©marrÃ©e. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"auths\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous connecter Ã  l'IHM \", React.createElement(_components.strong, null, \"jwt-fetch\"), \" Ã  l'aide du compte \", React.createElement(_components.strong, null, \"manager\"), \" et tentez d'ajouter une pizza. Cela ne devrait pas fonctionner. Veuillez regarder dans la console : il devrait y avoir une erreur qui s'affiche avec le \\\"status code\\\" \", React.createElement(_components.strong, null, \"401 : Unauthorized\"), \".\", React.createElement(_components.br), \"\\n\", \"En effet, l'API attend un token pour autoriser l'opÃ©ration de crÃ©ation d'une pizza.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons donc mettre Ã  jour \", React.createElement(_components.strong, null, \"/src/Components/Pages/AddPizzaPage.js\"), \" pour ajouter le token de l'utilisateur authentifiÃ© au sein du header de la requÃªte (il n'y a que trois lignes Ã  rajouter) :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,44,54\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"import { getAuthenticatedUser } from '../../utils/auths';\\r\\nimport { clearPage, renderPageTitle } from '../../utils/render';\\r\\nimport Navigate from '../Router/Navigate';\\r\\n\\r\\nconst AddPizzaPage = () => {\\r\\n  clearPage();\\r\\n  renderPageTitle('Add a pizza to the menu');\\r\\n  renderAddPizzaForm();\\r\\n};\\r\\n\\r\\nfunction renderAddPizzaForm() {\\r\\n  const main = document.querySelector('main');\\r\\n  const form = document.createElement('form');\\r\\n  form.className = 'p-5';\\r\\n  const title = document.createElement('input');\\r\\n  title.type = 'text';\\r\\n  title.id = 'title';\\r\\n  title.placeholder = 'title of your pizza';\\r\\n  title.required = true;\\r\\n  title.className = 'form-control mb-3';\\r\\n  const content = document.createElement('input');\\r\\n  content.type = 'text';\\r\\n  content.id = 'content';\\r\\n  content.required = true;\\r\\n  content.placeholder = 'Content of your pizza';\\r\\n  content.className = 'form-control mb-3';\\r\\n  const submit = document.createElement('input');\\r\\n  submit.value = 'Add pizza to the menu';\\r\\n  submit.type = 'submit';\\r\\n  submit.className = 'btn btn-danger';\\r\\n  form.appendChild(title);\\r\\n  form.appendChild(content);\\r\\n  form.appendChild(submit);\\r\\n  main.appendChild(form);\\r\\n  form.addEventListener('submit', onAddPizza);\\r\\n}\\r\\n\\r\\nasync function onAddPizza(e) {\\r\\n  e.preventDefault();\\r\\n\\r\\n  const title = document.querySelector('#title').value;\\r\\n  const content = document.querySelector('#content').value;\\r\\n\\r\\n  const authenticatedUser = getAuthenticatedUser();\\r\\n\\r\\n  const options = {\\r\\n    method: 'POST',\\r\\n    body: JSON.stringify({\\r\\n      title,\\r\\n      content,\\r\\n    }),\\r\\n    headers: {\\r\\n      'Content-Type': 'application/json',\\r\\n      Authorization: authenticatedUser.token,\\r\\n    },\\r\\n  };\\r\\n\\r\\n  const response = await fetch('/api/pizzas', options);\\r\\n\\r\\n  if (!response.ok) throw new Error(`fetch error : ${response.status} : ${response.statusText}`);\\r\\n\\r\\n  const newPizza = await response.json();\\r\\n\\r\\n  console.log('New pizza added : ', newPizza);\\r\\n\\r\\n  Navigate('/');\\r\\n}\\r\\n\\r\\nexport default AddPizzaPage;\\r\\n\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez vous connecter Ã  l'IHM Ã  l'aide du compte \", React.createElement(_components.strong, null, \"manager\"), \" et tentez d'ajouter une pizza. Cela ne devrait toujours pas fonctionner. Veuillez regarder dans la console : il devrait y avoir une erreur qui s'affiche avec le \\\"status code\\\" \", React.createElement(_components.strong, null, \"403 : Forbidden\"), \".\", React.createElement(_components.br), \"\\n\", \"En effet, l'API attend un token pour autoriser l'opÃ©ration de crÃ©ation d'une pizza, mais seulement \", React.createElement(_components.strong, null, \"admin\"), \" a le privilÃ¨ge d'ajouter une pizza au menu !\"), \"\\n\", React.createElement(_components.p, null, \"DÃ©connectez-vous (logout), reconnectez-vous Ã  l'aide du compte \", React.createElement(_components.strong, null, \"admin\"), \", et ajoutez une pizza.\\r\\nVoila ! Le site devrait Ãªtre entiÃ¨rement fonctionnel !\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message\\r\\n\\\"\", React.createElement(_components.strong, null, \"jwt-fetch\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"auths\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Est-ce que c'est \\\"safe\\\" que notre IHM affiche le menu \\\"Add a pizza\\\" pour un utilisateur qui n'est pas l'admin ?\", React.createElement(_components.br), \"\\n\", \"En fait oui, c'est \\\"safe\\\", vous l'avez testÃ©. L'API ne doit jamais faire confiance aux applications clientes pour appliquer la sÃ©curitÃ©. Ainsi, mÃªme si le frontend autorise l'accÃ¨s Ã  des opÃ©rations qui ne devraient pas Ãªtre permises, au regard des autorisations appliquÃ©es par l'API, Ã§a n'a pas d'importance point de vue sÃ©curitÃ©.\", React.createElement(_components.br), \"\\n\", \"De la mÃªme faÃ§on, c'est pour Ã§a qu'une API doit aussi toujours valider les paramÃ¨tres qu'elle reÃ§oit. Elle ne peut pas faire confiance aux applications clientes, comme par exemple Ã  une application web tournant dans un browser, pour valider tous les champs d'un formulaire avant de faire la requÃªte.\", React.createElement(_components.br), \"\\n\", \"La raison est simple, l'API est dÃ©veloppÃ©e indÃ©pendamment des applications clientes, elle ne peut pas supposer que les requÃªtes seront toujours bien construites.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ OK, tout est \\\"safe\\\" si l'API fait toutes les vÃ©rifications nÃ©cessaires. NÃ©anmoins, n'y a-t-il pas des rÃ¨gles de bonnes pratiques au niveau des IHM, pour ne pas permettre de faire n'importe quelles requÃªtes vers des API ?\", React.createElement(_components.br), \"\\n\", \"Et bien oui, au niveau des IHM, pour des questions d'\", React.createElement(_components.strong, null, \"ergonomie\"), \", d'expÃ©rience utilisateur, on va faire en sorte :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"de ne pas offrir des opÃ©rations qui ne seront pas autorisÃ©es. Par exemple, dans le cadre de ce tutoriel sur un site permettant de gÃ©rer une pizzeria, si l'utilisateur n'est pas \", React.createElement(_components.strong, null, \"admin\"), \", alors il ne faut pas frustrer les utilisateurs en leur faisant croire qu'ils ont accÃ¨s Ã  l'opÃ©ration de crÃ©er une pizza ! Imaginez-vous, vous crÃ©er une nouvelle pizza de 32 ingrÃ©dients, et lors de la soumission, vous recevez un message comme quoi vous n'Ãªtes pas l'admin du site et que vous n'avez donc pas le droit de crÃ©er une pizza ðŸ˜²!\"), \"\\n\", React.createElement(_components.li, null, \"de ne pas demander du travail Ã  une API quand l'IHM peut dÃ©tecter que ce n'est pas utile.\\r\\nAinsi, quand une IHM offre des formulaires, qui amÃ¨neront Ã  des requÃªtes vers des API, on Ã©vitera d'autoriser la soumission des donnÃ©es tant que les champs n'ont pas Ã©tÃ© validÃ©s. Tout ce que l'IHM peut valider cÃ´tÃ© client, elle doit le faire. Le feedback sera plus rapide pour l'utilisateur, et les ressources de l'API seront Ã©conomisÃ©es (pas d'appel inutile).\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"N'hÃ©sitez donc pas Ã  mettre Ã  jour ce tutoriel pour faire en sorte de n'afficher \\\"Add a pizza\\\" que si l'utilisateur est \", React.createElement(_components.strong, null, \"admin\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Ca n'est pas un peu \\\"cheap\\\" que seul l'utilisateur \", React.createElement(_components.strong, null, \"admin\"), \" puisse avoir le privilÃ¨ge d'administrateur du site ?\", React.createElement(_components.br), \"\\n\", \"HÃ© bien oui, c'est \\\"cheap\\\". GÃ©nÃ©ralement, dans le cadre d'applications plus robustes, nous allons ajouter un ou plusieurs rÃ´les aux utilisateurs. Par exemple, dans le cadre d'applications oÃ¹ les rÃ´les sont simples, qu'il n'y a jamais qu'un seul rÃ´le associÃ© Ã  un utilisateur, il suffirait d'ajouter au niveau de l'API la propriÃ©tÃ© \", React.createElement(_components.strong, null, \"role\"), \" aux utilisateurs. Par exemple, la majoritÃ© des utilisateurs pourrait avoir un rÃ´le dont la valeur serait \", React.createElement(_components.strong, null, \"default\"), \", et une minoritÃ© d'utilisateur auraient le rÃ´le d'\", React.createElement(_components.strong, null, \"admin\"), \"...\"), \"\\n\", React.createElement(_components.p, null, \"On n'affiche actuellement \", React.createElement(_components.strong, null, \"pas de message d'erreur\"), \" Ã  l'utilisateur lorsque la rÃ©ponse d'une API renvoie une erreur. Pour amÃ©liorer l'expÃ©rience de l'utilisateur, ce serait une amÃ©lioration Ã  faire.\"), \"\\n\", React.createElement(_components.p, null, \"Finalement, lorsqu'on ferme le browser et revient sur l'application par la suite, on n'est plus authentifiÃ©. Nous allons donc prochainement voir comment nous pourrions sauvegarder des donnÃ©es de session cÃ´tÃ©-client, dans le browser.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" ProblÃ¨mes de sÃ©curitÃ©  \")), \"\\n\", React.createElement(_components.p, null, \"Il y a un problÃ¨me de sÃ©curitÃ© majeur actuellement. Nous pourrions Ãªtre victime d'attaques de type XSS : des injections de JS malicieux sont possibles ðŸ˜¨ !\", React.createElement(_components.br), \"\\n\", \"De plus, si quelqu'un a accÃ¨s au fichier \", React.createElement(_components.strong, null, \"/data/users.json\"), \" prÃ©sent sur l'API, il a accÃ¨s Ã  tous les passwords des utilisateurs en clair ðŸ˜¨ !\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons rÃ©aliser un exercice avant de traiter des problÃ¨mes de sÃ©curitÃ©.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Mise en place du localStorage pour sauvegarder les donnÃ©es de session \")), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre du site nous permettant de gÃ©rer une pizzeria, nous allons faire en sorte de sauvegarder les donnÃ©es de session au sein du \", React.createElement(_components.strong, null, \"localStorage\"), \", et plus juste en mÃ©moire vive.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez dÃ©marrer la derniÃ¨re version de la RESTful API de la pizzeria. En cas de souci, vous pouvez utiliser ce code-ci :\\r\\n\", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"safe\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant finaliser le dÃ©veloppement de l'IHM \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez crÃ©er le projet nommÃ© \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/web-storage\"), \" sur base d'un copier-coller de \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/jwt-fetch\"), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/jwt-fetch\"\n  }, \"jwt-fetch\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considÃ©rons que tous les chemins absolus dÃ©marrent du rÃ©pertoire\\r\\n\", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/web-storage\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Afin de sauvegarder les donnÃ©es de session, c'est Ã  dire l'objet \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" contenant un token et un username, nous devons juste mettre Ã  jour le fichier \", React.createElement(_components.strong, null, \"/usr/utils/auths.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,7,10,15-16,24\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const STORE_NAME = 'user';\\r\\nlet currentUser;\\r\\n\\r\\nconst getAuthenticatedUser = () => {\\r\\n  if (currentUser !== undefined) return currentUser;\\r\\n\\r\\n  const serializedUser = localStorage.getItem(STORE_NAME);\\r\\n  if (!serializedUser) return undefined;\\r\\n\\r\\n  currentUser = JSON.parse(serializedUser);\\r\\n  return currentUser;\\r\\n};\\r\\n\\r\\nconst setAuthenticatedUser = (authenticatedUser) => {\\r\\n  const serializedUser = JSON.stringify(authenticatedUser);\\r\\n  localStorage.setItem(STORE_NAME, serializedUser);\\r\\n\\r\\n  currentUser = authenticatedUser;\\r\\n};\\r\\n\\r\\nconst isAuthenticated = () => currentUser !== undefined;\\r\\n\\r\\nconst clearAuthenticatedUser = () => {\\r\\n  localStorage.removeItem(STORE_NAME);\\r\\n  currentUser = undefined;\\r\\n};\\r\\n\\r\\n// eslint-disable-next-line object-curly-newline\\r\\nexport { getAuthenticatedUser, setAuthenticatedUser, isAuthenticated, clearAuthenticatedUser };\\n\")), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"getAuthenticatedUser\")), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"on fait un premier check afin d'Ã©viter d'aller lire dans le \", React.createElement(_components.strong, null, \"localStorage\"), \" si la variable \", React.createElement(_components.strong, null, \"currentUser\"), \" est dÃ©jÃ  initialisÃ©e.\"), \"\\n\", React.createElement(_components.li, null, \"on parse l'utilisateur authentifiÃ© et sÃ©rialisÃ© qui est retrouvÃ© dans le \", React.createElement(_components.strong, null, \"localStorage\"), \" via la clÃ© \", React.createElement(_components.strong, null, \"STORE_NAME\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"setAuthenticatedUser\")), \", on sÃ©rialise \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" avant d'ajouter une paire clÃ© / valeur au \", React.createElement(_components.strong, null, \"localStorage\"), \".  Ces donnÃ©es restent dans le browser, peu importe le nombre de fois que l'on ferme son browser.\"), \"\\n\", React.createElement(_components.p, null, \"Dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"clearAuthenticatedUser\")), \", on efface la clÃ© / valeur associÃ©e Ã  l'utilisateur authentifiÃ© (via la clÃ© \", React.createElement(_components.strong, null, \"STORE_NAME\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez bien mettre Ã  jour votre code et tester l'application.\", React.createElement(_components.br), \"\\n\", \"Connectez-vous Ã  l'aide de l'utilisateur \", React.createElement(_components.strong, null, \"manager\"), \".  Veuillez fermer votre browser.\", React.createElement(_components.br), \"\\n\", \"Veuillez le rÃ©ouvrir.\", React.createElement(_components.br), \"\\n\", \"VoilÃ , vous devriez automatiquement Ãªtre authentifiÃ©, veuillez observer l'Ã©tat de la Navbar pour vous en assurer.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ OÃ¹ puis-je observer l'Ã©tat des donnÃ©es sauvegardÃ©es dans le web storage de mon browser ?\", React.createElement(_components.br), \"\\n\", \"Tout en ayant la fenÃªtre de votre application ouverte, via Chrome, allez dans vos outils de dÃ©veloppeurs : \", React.createElement(_components.strong, null, \"F12\"), \".\", React.createElement(_components.br), \"\\n\", \"Puis, dans l'onglet \", React.createElement(_components.strong, null, \"Application\"), \", vous trouverez dans \", React.createElement(_components.strong, null, \"Storage\"), \" : \", React.createElement(_components.strong, null, \"Local Storage\"), \" et \", React.createElement(_components.strong, null, \"Session Storage\"), \".\", React.createElement(_components.br), \"\\n\", \"Ici, nous utilisons le \", React.createElement(_components.strong, null, \"Local Storage\"), \", donc cliquez dessus, vous verrez apparaÃ®tre \", React.createElement(_components.code, null, \"http://localhost:8080\"), \". Cliquez sur cette URL, et vous verrez vos donnÃ©es de session, quelque chose du style \", React.createElement(_components.code, null, \"{\\\"username\\\":\\\"manager\\\",\\\"token\\\":\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjE3NjM3MDksImV4cCI6MTc0ODE2MzcwOX0.jAxH0WsOgiK5vf4QduDZ8JgTR-SKC42G9aPieV_OTOo\\\"}\"), \".\", React.createElement(_components.br), \"\\n\", \"N'hÃ©sitez pas Ã  faire un clic droit sur l'URL \", React.createElement(_components.code, null, \"http://localhost:8080\"), \", puis \", React.createElement(_components.strong, null, \"Clear\"), \".\", React.createElement(_components.br), \"\\n\", \"Si vous faites ensuite un refresh de votre page, comme votre session aura Ã©tÃ© effacÃ©e, votre utilisateur ne sera plus connectÃ©. Votre Navbar afficher le menu pour un utilisateur anonyme !\", React.createElement(_components.br), \"\\n\", \"Faites ce test, c'est intÃ©ressant ðŸ˜‰.\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message\\r\\n\\\"\", React.createElement(_components.strong, null, \"web storage\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/web-storage\"\n  }, \"web-storage\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"safe\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" ðŸ¬ Persistance de donnÃ©es de session via des cookies \")), \"\\n\", React.createElement(_components.p, null, \"Un cookie reprÃ©sente des donnÃ©es qu'un serveur envoie Ã  un browser.\", React.createElement(_components.br), \"\\n\", \"Le browser peut sauver ce cookie. Pour chaque requÃªte faite au serveur sur la mÃªme origine (que l'origine oÃ¹ le cookie a Ã©tÃ© reÃ§u), le cookie sera automatiquement envoyÃ© au serveur.\"), \"\\n\", React.createElement(_components.p, null, \"Il fut un temps oÃ¹ les cookies Ã©taient utilisÃ©s comme un mÃ©canisme gÃ©nÃ©ral de stockage de donnÃ©es cÃ´tÃ© client.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ‘ Actuellement, si les cookies sont utilisÃ©s pour sauvegarder les donnÃ©es de session, il faut se protÃ©ger contre les attaques XSS et rendre les cookies inaccessibles au JavaScript. On utilise donc les cookies \", React.createElement(_components.strong, null, \"HttpOnly\"), \" qui sont inaccessibles Ã  la \", React.createElement(_components.strong, null, \"Document.cookie API\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Du coup, si des donnÃ©es de session doivent Ãªtre utilisÃ©e pour l'IHM, on ne peut pas se passer du \", React.createElement(_components.strong, null, \"web storage\"), \" !\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite, on va donc voir :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"comment utiliser Express pour crÃ©er des cookies au niveau d'une API ;\"), \"\\n\", React.createElement(_components.li, null, \"comment rendre ces cookies inaccessibles aux attaques XSS en configurant \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"HttpOnly\")), \" ;\"), \"\\n\", React.createElement(_components.li, null, \"que, comme les cookies sont envoyÃ©s automatiquement au serveur, il faudra mettre Ã  jour notre IHM pour ne plus envoyer le token via un authorization header. L'API va charger le token dans le cookie, et comme le cookie sera automatiquement envoyÃ© au serveur via le browser, le code de l'IHM et les fetch seront plus simples.\"), \"\\n\", React.createElement(_components.li, null, \"l'embÃªtant dans ce que nous allons faire, c'est que comme nous allons sÃ©curiser le cookie, nous n'aurons pas accÃ¨s au \", React.createElement(_components.strong, null, \"username\"), \" via le cookie... Nous pourrions :\", \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"soit toujours utiliser le web storage pour sauvegarder le \", React.createElement(_components.strong, null, \"username\"), \",\"), \"\\n\", React.createElement(_components.li, null, \"soit accepter de ne plus afficher le \", React.createElement(_components.strong, null, \"username\"), \" et avoir aucun nouveau code Ã  ajouter au niveau du frontend (juste enlever les authorization header inutiles) ;\"), \"\\n\", React.createElement(_components.li, null, \"soit mettre Ã  jour l'API pour offrir une route de type \", React.createElement(_components.strong, null, \"GET /users/me\"), \" qui renvoie les donnÃ©es d'un utilisateur Ã  la demande d'une requÃªte cliente. Dans ce cas-lÃ , Ã  chaque fois que l'utilisateur ouvre le browser, la premiÃ¨re chose Ã  faire serait d'appeler cette opÃ©ration de l'API.\"), \"\\n\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Pour le tutoriel, nous avons choisi la premiÃ¨re option. Dans vos exercices optionnels, n'hÃ©sitez pas Ã  explorer une autre option.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Mais pourquoi sÃ©curiser le cookie et le rendre inaccessible au JS ?\", React.createElement(_components.br), \"\\n\", \"HÃ© bien, imaginez qu'un attaquant arrive Ã  faire une attaque XSS, via un JS malicieux, renvoyant le cookie de chaque utilisateur qui affiche le menu des pizzas vers un serveur malicieux...\", React.createElement(_components.br), \"\\n\", \"Via ce cookie, qui contient le token de l'utilisateur, le pirate peut se faire passer pour l'utilisateur piratÃ© !\", React.createElement(_components.br), \"\\n\", \"Bon, pour la pizzeria, c'est p-e pas si grave, mais imaginez si c'est le token associÃ© Ã  votre compte banquaire !\", React.createElement(_components.br), \"\\n\", \"Si le cookie est inaccessible au JS, il est donc impossible pour un hackeur, via du JS malicieux, d'accÃ©der au token, et donc, de l'envoyer ðŸ˜Œ.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" ðŸ¬ Gestion de sessions cÃ´tÃ© client via Express pour une API \")), \"\\n\", React.createElement(_components.h2, null, \"Intro\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons donc crÃ©er une nouvelle version de l'API sauvegardant le token d'un utilisateur au sein d'un cookie, ainsi que son username, sans que ces infos soient accessible au JS cÃ´tÃ© client.\"), \"\\n\", React.createElement(_components.p, null, \"Pour ce faire nous allons utiliser la librairie \", React.createElement(_components.a, {\n    href: \"https://github.com/expressjs/cookie-session\"\n  }, \"cookie-session\"), \" qui permet d'enregistrer des donnÃ©es de session dans des cookies.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons maintenant continuer le dÃ©veloppement de l'API \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"safe\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez crÃ©er le projet nommÃ© \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/cookies\"), \" sur base d'un copiÃ© collÃ© de \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/safe\"), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/safe\"\n  }, \"safe\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considÃ©rons que tous les chemins absolus dÃ©marrent du rÃ©pertoire\\r\\n\", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/api/cookies\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer la librairie \", React.createElement(_components.strong, null, \"cookie-session\"), \" au sein de votre nouveau projet \", React.createElement(_components.strong, null, \"auths\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm i cookie-session\\n\")), \"\\n\", React.createElement(_components.h2, null, \"Utilisation de la fonction middleware \", React.createElement(_components.code, null, \"cookieSession\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre Ã  jour \", React.createElement(_components.strong, null, \"/app.json\"), \" pour mettre en place la gestion de cookies :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"4,12-23\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const express = require('express');\\r\\nconst cookieParser = require('cookie-parser');\\r\\nconst logger = require('morgan');\\r\\nconst cookieSession = require('cookie-session');\\r\\n\\r\\nconst usersRouter = require('./routes/users');\\r\\nconst pizzaRouter = require('./routes/pizzas');\\r\\nconst authsRouter = require('./routes/auths');\\r\\n\\r\\nconst app = express();\\r\\n\\r\\nconst expiryDateIn3Months = new Date(Date.now() + 1000 * 60 * 60 * 24 * 30 * 3);\\r\\nconst cookieSecreteKey = 'YouWouldnot!not!like!mypizza';\\r\\napp.use(\\r\\n  cookieSession({\\r\\n    name: 'user',\\r\\n    keys: [cookieSecreteKey],\\r\\n    cookie: {\\r\\n      httpOnly: true,\\r\\n      expires: expiryDateIn3Months,\\r\\n    },\\r\\n  }),\\r\\n);\\r\\n\\r\\napp.use(logger('dev'));\\r\\napp.use(express.json());\\r\\napp.use(express.urlencoded({ extended: false }));\\r\\napp.use(cookieParser());\\r\\n\\r\\napp.use('/users', usersRouter);\\r\\napp.use('/pizzas', pizzaRouter);\\r\\napp.use('/auths', authsRouter);\\r\\n\\r\\nmodule.exports = app;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous avons donc bien indiquÃ© que le cookie est inaccessible au JS via : \", React.createElement(_components.code, null, \"httpOnly: true\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous avons fait en sorte que le cookie soit signÃ© via la clÃ© \", React.createElement(_components.code, null, \"cookieSecreteKey\"), \".\", React.createElement(_components.br), \"\\n\", \"Le mÃ©canisme de signature correspond Ã  ce qui a Ã©tÃ© vu dans le cadre des tokens JWT.\", React.createElement(_components.br), \"\\n\", \"Ainsi, si un cookie venait Ãªtre modifiÃ© par un utilisateur, lors de la vÃ©rification du cookie, cela sera automatiquement dÃ©tectÃ© par la fonction middleware \", React.createElement(_components.code, null, \"cookieSession\"), \" et la session ne sera pas crÃ©Ã©e.\"), \"\\n\", React.createElement(_components.p, null, \"Pour info, la fonction middleware \", React.createElement(_components.code, null, \"cookieSession\"), \" va crÃ©er deux cookies :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"un cookie portant comme nom la valeur de \", React.createElement(_components.code, null, \"name\"), \" ; il est encodÃ© en base64. N'hÃ©sitez pas Ã  vous amuser Ã  dÃ©coder un cookie gÃ©nÃ©rÃ© par \", React.createElement(_components.code, null, \"cookieSession\"), \" sur \", React.createElement(_components.a, {\n    href: \"https://www.base64decode.org/\"\n  }, \"base64decode\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"un cookie portant comme nom la valeur de \", React.createElement(_components.code, null, \"name\"), \" + \", React.createElement(_components.code, null, \".sig\"), \" : c'est la signature qui prÃ©vient contre le \\\"tempering\\\" (acte intentionnel mais non autorisÃ© qui amÃ¨ne Ã  la modification d'un systÃ¨me ou de donnÃ©es).\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"Lecture et ajout de donnÃ©es de session via \", React.createElement(_components.code, null, \"req.session\")), \"\\n\", React.createElement(_components.p, null, \"Pour crÃ©er des donnÃ©es de session, il suffit de simplement les ajouter Ã  l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req.session\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Dans le cadre de la RESTful API gÃ©rant les pizzas, cela est fait lors d'une opÃ©ration de type \", React.createElement(_components.strong, null, \"register\"), \" ou \", React.createElement(_components.strong, null, \"login\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre Ã  jour le router \", React.createElement(_components.strong, null, \"/routes/auths.js\"), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"17,19,33,35,38-42,44-47\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const express = require('express');\\r\\nconst { register, login } = require('../models/users');\\r\\n\\r\\nconst router = express.Router();\\r\\n\\r\\n/* Register a user */\\r\\nrouter.post('/register', async (req, res) => {\\r\\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\\r\\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\\r\\n\\r\\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Request\\r\\n\\r\\n  const authenticatedUser = await register(username, password);\\r\\n\\r\\n  if (!authenticatedUser) return res.sendStatus(409); // 409 Conflict\\r\\n\\r\\n  createCookieSessionData(req, authenticatedUser);\\r\\n\\r\\n  return res.json({ username: authenticatedUser.username });\\r\\n});\\r\\n\\r\\n/* Login a user */\\r\\nrouter.post('/login', async (req, res) => {\\r\\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\\r\\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\\r\\n\\r\\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Reques\\r\\n\\r\\n  const authenticatedUser = await login(username, password);\\r\\n\\r\\n  if (!authenticatedUser) return res.sendStatus(401); // 401 Unauthorized\\r\\n\\r\\n  createCookieSessionData(req, authenticatedUser);\\r\\n\\r\\n  return res.json({ username: authenticatedUser.username });\\r\\n});\\r\\n\\r\\n/* Logout a user */\\r\\nrouter.get('/logout', (req, res) => {\\r\\n  req.session = null;\\r\\n  return res.sendStatus();\\r\\n});\\r\\n\\r\\nfunction createCookieSessionData(req, authenticatedUser) {\\r\\n  req.session.username = authenticatedUser.username;\\r\\n  req.session.token = authenticatedUser.token;\\r\\n}\\r\\n\\r\\nmodule.exports = router;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Dans le code ci-dessus, nous prÃ©parons les donnÃ©es de session qui seront Ã©crites dans le cookie Ã  l'aide de l'objet \", React.createElement(_components.code, null, \"req.session\"), \".\", React.createElement(_components.br), \"\\n\", \"Lorsque nous renvoyons du JSON aux clients, nous ne renvoyons plus le token, mais juste le username de l'utilisateur. L'application cliente, le browser, pourra utiliser cette info pour afficher le nom de l'utilisateur. Pour rappel, le browser n'a pas accÃ¨s, via le JS, Ã  l'info se trouvant dans le cookie.\"), \"\\n\", React.createElement(_components.p, null, \"Quand nous gÃ©rons une session via des cookies, il n'est pas Ã©vident de bien clÃ´re une session. Nous avons crÃ©Ã© une nouvelle opÃ©ration de type \", React.createElement(_components.strong, null, \"GET /auths/logout\"), \" qui permet d'effacer les donnÃ©es de session d'un utilisateur.\"), \"\\n\", React.createElement(_components.p, null, \"Il nous reste Ã  changer le mÃ©canisme d'autorisation.\\r\\nLes tokens ne seront plus reÃ§u via un authorization header, mais via un cookie.\", React.createElement(_components.br), \"\\n\", \"Nous allons donc mettre Ã  jour le middleware \", React.createElement(_components.strong, null, \"/utils/authorize\"), \" (1 seule ligne) :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"7\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const jwt = require('jsonwebtoken');\\r\\nconst { readOneUserFromUsername } = require('../models/users');\\r\\n\\r\\nconst jwtSecret = 'ilovemypizza!';\\r\\n\\r\\nconst authorize = (req, res, next) => {\\r\\n  const { token } = req.session;\\r\\n  if (!token) return res.sendStatus(401);\\r\\n\\r\\n  try {\\r\\n    const decoded = jwt.verify(token, jwtSecret);\\r\\n    console.log('decoded', decoded);\\r\\n    const { username } = decoded;\\r\\n\\r\\n    const existingUser = readOneUserFromUsername(username);\\r\\n\\r\\n    if (!existingUser) return res.sendStatus(401);\\r\\n\\r\\n    req.user = existingUser; // request.user object is available in all other middleware functions\\r\\n    return next();\\r\\n  } catch (err) {\\r\\n    console.error('authorize: ', err);\\r\\n    return res.sendStatus(401);\\r\\n  }\\r\\n};\\r\\n\\r\\nconst isAdmin = (req, res, next) => {\\r\\n  const { username } = req.user;\\r\\n\\r\\n  if (username !== 'admin') return res.sendStatus(403);\\r\\n  return next();\\r\\n};\\r\\n\\r\\nmodule.exports = { authorize, isAdmin };\\n\")), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" ðŸ¬ Test via REST Client d'une RESTful API attendant des cookies  \")), \"\\n\", React.createElement(_components.p, null, \"Il nous reste Ã  tester nos requÃªtes via REST Client.\"), \"\\n\", React.createElement(_components.p, null, \"Il n'y a pas de nouvelles notions Ã  apprendre pour utiliser REST Client avec des cookies : le comportement par dÃ©faut de REST Client, lorsqu'un cookie est renvoyÃ© dans une rÃ©ponse, est d'inclure ce cookie dans chaque requÃªte vers la mÃªme origine.\"), \"\\n\", React.createElement(_components.p, null, \"DÃ¨s lors, pour tester l'API, il suffit d'enlever tous les authorization headers et de rajouter une requÃªte pour tester l'effacement d'une session.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez tester les requÃªtes Ã  l'aide de \", React.createElement(_components.strong, null, \"/REST Client/pizzas.http\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"######### NORMAL OPERATION  ###########\\r\\n\\r\\n### Read all pizzas\\r\\nGET http://localhost:3000/pizzas\\r\\n\\r\\n### Read all pizzas with File variable\\r\\n@baseUrl = http://localhost:3000\\r\\nGET {{baseUrl}}/pizzas\\r\\n\\r\\n### Read all pizzas sorted by title (ascending)\\r\\nGET {{baseUrl}}/pizzas/?order=+title\\r\\n\\r\\n### Read all pizzas sorted by title (descending)\\r\\nGET {{baseUrl}}/pizzas/?order=-title\\r\\n\\r\\n### Read pizza identified by 2\\r\\nGET {{baseUrl}}/pizzas/2\\r\\n\\r\\n### Create a pizza by using the admin account\\r\\n#### First login as the admin\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"admin\\\",\\r\\n    \\\"password\\\":\\\"admin\\\"\\r\\n}\\r\\n\\r\\n#### Create a pizza with the admin token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### Delete pizza identified by 2 with the admin token\\r\\nDELETE {{baseUrl}}/pizzas/2\\r\\n\\r\\n### Update the pizza identified by 6 with the admin token\\r\\nPATCH {{baseUrl}}/pizzas/6\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\r\\n}\\r\\n\\r\\n\\r\\n######### ERROR OPERATION  ###########\\r\\n\\r\\n### 1. Create a pizza without a token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### 2. Create a pizza without being the admin, use manager account\\r\\n#### 2.1 First login as the manager\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"manager\\\",\\r\\n    \\\"password\\\":\\\"manager\\\"\\r\\n}\\r\\n\\r\\n#### 2.2 Try to create a pizza with the manager token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### Read pizza which does not exists\\r\\nGET {{baseUrl}}/pizzas/100\\r\\n\\r\\n### Create a pizza which lacks a property\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### Create a pizza without info for a property\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### Update for a pizza which does not exist\\r\\nPATCH {{baseUrl}}/pizzas/200\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\r\\n}\\r\\n\\r\\n### Update for a pizza which does not provide any info for a property\\r\\nPATCH {{baseUrl}}/pizzas/1\\r\\n\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green 2\\\",\\r\\n    \\\"content\\\":\\\"\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"/REST Client/auths.http\"), \" a Ã©tÃ© mis Ã  jour pour tester \", React.createElement(_components.strong, null, \"GET /auths/logout\"), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Logout any user\\r\\nGET {{baseUrl}}/auths/logout\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour ajouter une pizza, il suffit juste :\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"De loguer l'admin.\"), \"\\n\", React.createElement(_components.li, null, \"De crÃ©er une nouvelle pizza ; le cookie est automatiquement envoyÃ©.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Admettons que vous souhaitez tester l'ajout d'une pizza sans envoyer de token :\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"Lancez l'opÃ©ration de logout (GET /auths/logout) ; le cookie renvoyÃ© ne contient pas de donnÃ©es de session ;\"), \"\\n\", React.createElement(_components.li, null, \"Tentez la crÃ©ation d'une pizza qui renverra un code \", React.createElement(_components.strong, null, \"401 Unauthorized\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message\\r\\n\\\"\", React.createElement(_components.strong, null, \"cookies api\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/cookies\"\n  }, \"cookies\"), \".\"), \"\\n\", React.createElement(_components.h2, null, \"Gestion de session cÃ´tÃ© client via une IHM et des cookies\"), \"\\n\", React.createElement(_components.p, null, \"A prÃ©sent que notre API \", React.createElement(_components.strong, null, \"cookies\"), \" renvoie les donnÃ©es de session dans un cookie non accessible par du JS, nous souhaitons mettre Ã  jour notre IHM pour utiliser cette API.\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons repartir de la derniÃ¨re version de notre frontend.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, \"web2\"), \", veuillez crÃ©er le projet nommÃ© \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/cookies\"), \" sur base d'un copiÃ© collÃ© de \", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/web-storage\"), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/web-storage\"\n  }, \"web-storage\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous considÃ©rons que tous les chemins absolus dÃ©marrent du rÃ©pertoire\\r\\n\", React.createElement(_components.strong, null, \"/web2/tutorials/pizzeria/hmi/cookies\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Afin de sauvegarder les donnÃ©es de session, c'est Ã  dire l'objet \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" contenant juste un username, nous ne devons mÃªme pas mettre Ã  jour le fichier \", React.createElement(_components.strong, null, \"/usr/utils/auths.js\"), \". En effet, l'API \", React.createElement(_components.strong, null, \"cookies\"), \" renvoie un objet du genre \", React.createElement(_components.code, null, \"{username: \\\"manager\\\"}\"), \". Au niveau de l'IHM, le code est donc toujours fonctionnel pour sauvegarder le username grÃ¢ce Ã  \", React.createElement(_components.code, null, \"authenticatedUser\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Il ne reste donc qu'Ã  changer le code oÃ¹ nous avons besoin d'une autorisation. Pour l'application de gestion de la pizzeria, il s'agit de la crÃ©ation de pizza.\", React.createElement(_components.br), \"\\n\", \"Veuillez donc mettre Ã  jour \", React.createElement(_components.strong, null, \"/src/Components/AddPizzaPage.js\"), \" en enlevant ces deux lignes :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"l'authenticatedUser : \", React.createElement(_components.code, null, \"const authenticatedUser = getAuthenticatedUser();\"), \" et l'import associÃ© (\", React.createElement(_components.code, null, \"import { getAuthenticatedUser } from '../../utils/auths';\"), \"),\"), \"\\n\", React.createElement(_components.li, null, \"la ligne s'occupant de l'authorization header : \", React.createElement(_components.code, null, \"Authorization: authenticatedUser.token\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez tester votre derniÃ¨re version du frontend.\\r\\nLoguez-vous avec l'utilisateur \", React.createElement(_components.strong, null, \"admin\"), \" (et le password \", React.createElement(_components.strong, null, \"admin\"), \").\", React.createElement(_components.br), \"\\n\", \"Ajoutez une pizza et vÃ©rifiez qu'elle s'affiche bien.\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Comment vÃ©rifier le cookie ?\", React.createElement(_components.br), \"\\n\", \"Tout en ayant la fenÃªtre de votre application ouverte, via Chrome, allez dans vos outils de dÃ©veloppeurs : \", React.createElement(_components.strong, null, \"F12\"), \".\", React.createElement(_components.br), \"\\n\", \"Puis, dans l'onglet \", React.createElement(_components.strong, null, \"Application\"), \", cliquez sur \", React.createElement(_components.strong, null, \"Cookies\"), \", vous verrez apparaÃ®tre \", React.createElement(_components.code, null, \"http://localhost:8080\"), \". Cliquez sur cette URL, et vous verrez vos 2 cookies de session, \", React.createElement(_components.strong, null, \"user.sig\"), \" et \", React.createElement(_components.strong, null, \"user\"), \".\", React.createElement(_components.br), \"\\n\", \"N'hÃ©sitez pas Ã  aller dÃ©coder la valeur du cookie \", React.createElement(_components.strong, null, \"user\"), \" sur \", React.createElement(_components.a, {\n    href: \"https://www.base64decode.org/\"\n  }, \"base64decode\"), \" en faisant un copier / coller de \", React.createElement(_components.strong, null, \"Value\"), \". Vous devriez voir quelque chose apparaÃ®tre du style \", React.createElement(_components.code, null, \"{\\\"username\\\":\\\"manager\\\",\\\"token\\\":\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjE3NzUxMDgsImV4cCI6MTc0ODE3NTEwOH0.sAZqq6vbrjCCZZoLH-n8hJKBoXJJJ8jEoupk8xKu5WI\\\"}\"), \"  !\"), \"\\n\", React.createElement(_components.p, null, \"Toujours dans l'onglet \", React.createElement(_components.strong, null, \"Application\"), \" des outils de dÃ©veloppeurs de Chrome, faites un clear des cookies : clic droit sur \", React.createElement(_components.code, null, \"http://localhost:8080\"), \", \", React.createElement(_components.strong, null, \"Clear\"), \".\", React.createElement(_components.br), \"\\n\", \"Tentez maintenant d'ajouter une pizza... Ca ne fonctionne plus, et c'est bien normal, car il n'y a plus de token qui est envoyÃ© Ã  l'API !\"), \"\\n\", React.createElement(_components.p, null, \"Suite Ã  ces tests, si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, \"commit\"), \" de votre repo (\", React.createElement(_components.strong, null, \"web2\"), \") avec le message \\\"\", React.createElement(_components.strong, null, \"cookies hmi\"), \"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"pour le frontend : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/frontend/frontend-essentials/cookies\"\n  }, \"cookies\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"pour l'API : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/cookies\"\n  }, \"cookies\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Notons que cette version de notre frontend pourrait Ãªtre amÃ©liorÃ©e. Actuellement, lorsqu'on fait un logout, on n'efface pas le cookie du browser.\", React.createElement(_components.br), \"\\n\", \"Comment feriez vous ? Vous pourriez par exemple appeler la mÃ©thode \", React.createElement(_components.strong, null, \"GET /auths/logout\"), \" ðŸ˜‰.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Exercice 2.14 : Persistance de la session de myMovies dans le web storage  \")), \"\\n\", React.createElement(_components.p, null, \"Lors de l'exercice prÃ©cÃ©dent (Exercice 7.2), vous avez dÃ©veloppÃ© une application qui permet de bien gÃ©rer des films, Ã  l'exception du fait que quand vous fermez votre browser, vous devez Ã  chaque fois vous reconnecter.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez faire en sorte que vos donnÃ©es de session soient sauvegardÃ©es :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"dans le \", React.createElement(_components.strong, null, \"localStorage\"), \" si l'on clique sur une checkbox \\\"Remember me\\\" du login ou du register.\"), \"\\n\", React.createElement(_components.li, null, \"dans le \", React.createElement(_components.strong, null, \"sessionStorage\"), \" si l'on ne clique pas sur la checkbox \\\"Remember me\\\" lors du login ou du register.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Afin de rÃ©aliser cet exercice, voici les contraintes d'implÃ©mentation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Veuillez dÃ©marrer votre API dÃ©veloppÃ©e prÃ©cÃ©demment : \", React.createElement(_components.strong, null, \"/exercises/module7/7.2/api\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Pour le frontend, utilisez le contenu de votre rÃ©pertoire d'exercices \", React.createElement(_components.strong, null, \"/exercises/module7/7.1/hmi\"), \" comme point de dÃ©part pour crÃ©er, dans votre repository local et\\r\\nvotre web repository (normalement appelÃ© \", React.createElement(_components.strong, null, \"web2\"), \"), le rÃ©pertoire nommÃ©\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module8/8.1/hmi\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez utiliser le proxy de votre frontend afin de contourner les problÃ¨mes associÃ© Ã  la gestion des CORS.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"ðŸ¤ Tips\"), \"\\n\", React.createElement(_components.p, null, \"Cet exercice est l'application du tutoriel vu dans ce module-ci. N'hÃ©sitez pas donc Ã  rejouer les Ã©tapes vues dans le tutoriel au niveau de votre API : \", React.createElement(_components.a, {\n    href: \"#a2\"\n  }, \"a.2) Persistance de donnÃ©es de sessions via le web storage\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Nous vous recommandons, dans un premier temps, de gÃ©rer les sessions dans le localStorage, sans ajouter la fonctionnalitÃ© \", React.createElement(_components.strong, null, \"Remember me\"), \".\", React.createElement(_components.br), \"\\n\", \"Une fois que c'est fonctionnel, il sera temps de gÃ©rer le \", React.createElement(_components.strong, null, \"Remember me\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Vous allez pouvoir refaire un peu de gestion d'Ã©vÃ©nements pour dÃ©tecter les clics sur une checkbox. N'hÃ©sitez pas Ã  voir ce que propose \", React.createElement(_components.strong, null, \"Bootstrap 5\"), \" pour les \", React.createElement(_components.strong, null, \"checkboxes\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"ðŸ’­ Prenez un moment pour voir comment gÃ©rer la persistance de l'info 'Remember me'...\", React.createElement(_components.br), \"\\n\", \"Est-ce que ce n'est pas une donnÃ©e de session qui doit persister lorsque l'utilisateur ferme son browser ?\", React.createElement(_components.br), \"\\n\", \"En effet, point de vue ergonomie, il est intÃ©ressant que le dernier choix de l'utilisateur soit toujours prÃ©sentÃ©. La checkbox devrait donc rester \", React.createElement(_components.strong, null, \"checked\"), \" ou pas, tant que l'utilisateur ne change pas son Ã©tat, via un clic, ou via un Logout ; et cet Ã©tat doit subsister aux travers des connexions (ouvertures / fermetures du browser).\"), \"\\n\", React.createElement(_components.p, null, \"Si vous gÃ©rez bien l'info 'Remember me' au travers des sessions, vous devriez facilement dÃ©cider si les donnÃ©es de \", React.createElement(_components.strong, null, \"authenticatedUser\"), \" sont Ã  sauvegarder dans le localStorage ou le sessionStorage.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant :\\r\\n\\\"\", React.createElement(_components.strong, null, \"myMovies : module 8 : web storage\"), \"\\\"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"NB : Le code de vos applications se trouve dans votre repository local et\\r\\nvotre web repository (normalement appelÃ© \", React.createElement(_components.strong, null, \"web2\"), \") dans le rÃ©pertoire nommÃ©\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module8/8.1/hmi\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Exercice 4.2 : Authentification & autorisation au sein de myMovies \")), \"\\n\", React.createElement(_components.p, null, \"Lors de l'exercice prÃ©cÃ©dent (Exercice 6.2), vous aviez une application qui permettait normalement de gÃ©rer des films, mais qui n'Ã©tait pas sÃ©curisÃ©e.\"), \"\\n\", React.createElement(_components.p, null, \"A cet exercice, veuillez introduire l'authentification d'utilisateur via ces deux nouveaux cas d'utilisation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"UC5 : un utilisateur doit pouvoir crÃ©er un compte (register).\"), \"\\n\", React.createElement(_components.li, null, \"UC6 : un utilisateur doit pouvoir se loguer (login).\"), \"\\n\", React.createElement(_components.li, null, \"UC7 : un utilisateur doit pouvoir se dÃ©connecter (logout).\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Vous allez continuer le dÃ©veloppement du frontend de \", React.createElement(_components.strong, null, \"myMovies\"), \" rÃ©alisÃ© au module 3 (Exercice 3.1) et de la RESTful API dÃ©veloppÃ©e au module 5 (Exercice 5.2).\"), \"\\n\", React.createElement(_components.p, null, \"L'application \", React.createElement(_components.strong, null, \"myMovies\"), \" doit maintenant autoriser les opÃ©rations suivantes aux utilisateurs authentifiÃ©s uniquement :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"UC2 : l'ajout d'une ressource de type films via un formulaire d'ajout d'un film.\"), \"\\n\", React.createElement(_components.li, null, \"UC3 : la suppression d'un film.\"), \"\\n\", React.createElement(_components.li, null, \"UC4 : la mise Ã  jour des donnÃ©es d'un film (Ã  l'exception de l'id associÃ© Ã  un film).\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Comme auparavant, cette opÃ©ration est permise pour tous les utilisateurs, anonymes ou authentifiÃ©s :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"UC1 : l'affichage, sous forme de tableau, de toutes les ressources de type films.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Vous allez devoir mettre Ã  jour tant l'API que le frontend.\"), \"\\n\", React.createElement(_components.p, null, \"Voici les opÃ©rations qui doivent Ãªtre mises Ã  disposition par votre API :\"), \"\\n\", React.createElement(_components.h5, null, \"OpÃ©rations sur les ressources de type \\\"auths\\\"\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"MÃ©thode HTTP\"), React.createElement(_components.th, null, \"Auths?\"), React.createElement(_components.th, null, \"OpÃ©ration\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"auths/register\")), React.createElement(_components.td, null, \"POST\"), React.createElement(_components.td, null, \"Non\"), React.createElement(_components.td, null, \"CrÃ©er une ressource de type \\\"users\\\" et renvoyer le username et un token JWT\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"auths/login\")), React.createElement(_components.td, null, \"POST\"), React.createElement(_components.td, null, \"Non\"), React.createElement(_components.td, null, \"VÃ©rifier les credentials d'une ressource de type \\\"users\\\" et renvoyer le username et un token JWT si les credentials sont OK\")))), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.h5, null, \"OpÃ©rations sur les ressources de type \\\"films\\\" (ou \\\"movies\\\", selon votre choix)\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"MÃ©thode HTTP\"), React.createElement(_components.th, null, \"Auths?\"), React.createElement(_components.th, null, \"OpÃ©ration\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"films\")), React.createElement(_components.td, null, \"GET\"), React.createElement(_components.td, null, \"Non\"), React.createElement(_components.td, null, \"READ ALL : Lire toutes les ressources de la collection\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"films?minimum-duration=value\")), React.createElement(_components.td, null, \"GET\"), React.createElement(_components.td, null, \"Non\"), React.createElement(_components.td, null, \"READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donnÃ©\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\"))), React.createElement(_components.td, null, \"GET\"), React.createElement(_components.td, null, \"Non\"), React.createElement(_components.td, null, \"READ ONE : Lire la ressource identifiÃ©e\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, \"films\")), React.createElement(_components.td, null, \"POST\"), React.createElement(_components.td, null, \"JWT\"), React.createElement(_components.td, null, \"CREATE ONE : CrÃ©er une ressource basÃ©e sur les donnÃ©es de la requÃªte\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\"))), React.createElement(_components.td, null, \"DELETE\"), React.createElement(_components.td, null, \"JWT\"), React.createElement(_components.td, null, \"DELETE ONE : Effacer la ressource identifiÃ©e\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films/{id}\"))), React.createElement(_components.td, null, \"PATCH\"), React.createElement(_components.td, null, \"JWT\"), React.createElement(_components.td, null, \"UPDATE ONE : Mettre Ã  jour les propriÃ©tÃ©s de la ressource par les valeurs donnÃ©es dans la requÃªte, pour une ou plusieurs propriÃ©tÃ©s\")))), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, \"Afin de rÃ©aliser cet exercice, voici les contraintes d'implÃ©mentation :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Commencez par mettre Ã  jour l'API pour ajouter les opÃ©rations de register, de login, ainsi que les autorisations pour les fonctions d'Ã©critures sur des ressources de type films. Utilisez le contenu de votre rÃ©pertoire d'exercices \", React.createElement(_components.strong, null, \"/exercises/module5/5.2\"), \" comme point de dÃ©part pour crÃ©er, dans votre repository local et votre web repository (normalement appelÃ© \", React.createElement(_components.strong, null, \"web2\"), \"), le rÃ©pertoire nommÃ© \", React.createElement(_components.strong, null, \"/exercises/module7/7.1/api\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez tester votre API via REST Client pour vous assurer que les autorisations JWT fonctionnent correctement. Quand tout est OK, vous pouvez passer au dÃ©veloppement de votre frontend.\"), \"\\n\", React.createElement(_components.li, null, \"Pour le frontend, utilisez le contenu de votre rÃ©pertoire d'exercices \", React.createElement(_components.strong, null, \"/exercises/module6/6.2\"), \" comme point de dÃ©part pour crÃ©er, dans votre repository local et\\r\\nvotre web repository (normalement appelÃ© \", React.createElement(_components.strong, null, \"web2\"), \"), le rÃ©pertoire nommÃ©\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module7/7.1/hmi\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez utiliser le proxy de votre frontend afin de contourner les problÃ¨mes associÃ© Ã  la gestion des CORS.\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez dÃ©velopper de maniÃ¨re incrÃ©mentale votre IHM, use case par use case, en vÃ©rifiant le bon fonctionnement de chaque cas d'utilisation avant de passer au dÃ©veloppement de l'UC suivant.\", React.createElement(_components.br), \"\\n\", \"Nous vous recommandons de commencer par le mÃ©canisme d'authentification en ajoutant l'UC5 et l'UC6. Notez qu'il est facile de dÃ©marrer avec l'UC6 pour le login d'admin qui existe dÃ©jÃ  au niveau de l'API par dÃ©faut.\"), \"\\n\", React.createElement(_components.li, null, \"Pensez Ã  bien mettre Ã  jour votre \", React.createElement(_components.strong, null, \"Navbar\"), \" pour afficher les bons menus :\", \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"si l'utilisateur est anonyme : liens uniquement vers la HomePage, vers l'UC1 (view movies), UC5 (login) & UC6 (register) ;\"), \"\\n\", React.createElement(_components.li, null, \"si l'utilisateur est authentifiÃ© : liens uniquement vers la HomePage, vers l'UC1 (view movies) / UC2 (create) / UC3 (delete) / UC4 (update), UC7 (logout).\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"Faites attention, il n'est pas autorisÃ©, pour des raisons d'ergonomie, que le frontend offre les fonctionnalitÃ©s d'Ã©criture de ressources si l'utilisateur n'est pas authentifiÃ© : UC2 (create), UC3 (delete) et UC4 (update) sont des opÃ©rations invisibles pour un utilisateur anonyme.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"ðŸ¤ Tips\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Cet exercice est l'application du tutoriel vu dans ce module-ci. N'hÃ©sitez pas donc Ã  rejouer les Ã©tapes vues dans le tutoriel au niveau de votre API et Ã  copier / coller les fichiers utiles (\", React.createElement(_components.strong, null, \"authorize.js\"), \", \", React.createElement(_components.strong, null, \"users.js\"), \", \", React.createElement(_components.strong, null, \"auths.js\"), \"...) : \", React.createElement(_components.a, {\n    href: \"#a\"\n  }, \"a) Authentification sÃ©curisÃ©e et autorisation d'accÃ¨s aux opÃ©rations d'une RESTful API via JWT\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"N'oubliez pas de tester chaque opÃ©ration. Par exemple, il faut bien vÃ©rifier que l'on ne puisse pas crÃ©er une pizza sans token via REST Client.\"), \"\\n\", React.createElement(_components.li, null, \"Occupez-vous ensuite du frontend en copiant collant les fichiers utiles trouvÃ©s dans le tutoriel associÃ© Ã  cette partie (\", React.createElement(_components.strong, null, \"RegisterPage\"), \", \", React.createElement(_components.strong, null, \"LoginPage\"), \", \", React.createElement(_components.strong, null, \"Logout\"), \", \", React.createElement(_components.strong, null, \"auths\"), \", \", React.createElement(_components.strong, null, \"Navbar\"), \"...) : \", React.createElement(_components.a, {\n    href: \"#b\"\n  }, \"b) Utilisation de JWT au sein d'une IHM\"), \".\", React.createElement(_components.br), \"\\n\", \"Attention Ã  ne pas oublier de mettre Ã  jour votre Router (nouvelles pages pour le register, le login et le logout), la Navbar (diffÃ©rent affichage pour un utilisateur anonyme que pour un utilisateur connectÃ©), d'ajouter les token dans le header de vos requÃªtes via fetch...\"), \"\\n\", React.createElement(_components.li, null, \"Concernant le Router, il faut mettre Ã  jour \", React.createElement(_components.code, null, \"onNavBarClick\"), \" pour que les gestionnaires d'evÃ©nÃ©ments restent attachÃ©s mÃªme quand la Navbar est rÃ©affichÃ©e.\"), \"\\n\", React.createElement(_components.li, null, \"ðŸ’­ Comment rendre invisible les opÃ©rations d'Ã©criture de films ?\", React.createElement(_components.br), \"\\n\", \"Par exemple, vous pourriez afficher les boutons \", React.createElement(_components.strong, null, \"Delete\"), \" et \", React.createElement(_components.strong, null, \"Save\"), \" que si l'utilisateur est authentifiÃ©.\", React.createElement(_components.br), \"\\n\", \"De mÃªme, si l'utilisateur est anonyme, les cellules associÃ©es aux films ne devraient pas Ãªtre Ã©ditables.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez faire un \", React.createElement(_components.strong, null, \"commit\"), \" de votre code avec le message suivant :\\r\\n\\\"\", React.createElement(_components.strong, null, \"myMovies : module 7 : auths\"), \"\\\"\\\".\"), \"\\n\", React.createElement(_components.p, null, \"NB : Le code de vos applications se trouve dans votre repository local et\\r\\nvotre web repository (normalement appelÃ© \", React.createElement(_components.strong, null, \"web2\"), \") dans les rÃ©pertoires nommÃ©s\\r\\n\", React.createElement(_components.strong, null, \"/exercises/module7/7.1/api\"), \" et \", React.createElement(_components.strong, null, \"/exercises/module7/7.1/hmi\"), \".\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","import GATSBY_COMPILED_MDX from \"D:/Vinci/code/web2/js-course/frontend/src/mdx-pages/part4/auths-hmi.fr.mdx\";\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport {MDXProvider} from '@mdx-js/react';\nimport {Link} from 'gatsby';\nimport MainLayout from '../components/main-layout.js';\nimport Image from '../components/image.js';\nimport Section from '../components/section.js';\nimport Content from '../components/content.js';\nimport Background from '../components/background.js';\nimport SectionHeader from '../components/section-header.js';\nimport SectionFooter from '../components/section-footer.js';\nimport PageHeader from '../components/page-header.js';\nimport {withFrontmatter} from '../components/hoc/hoc.js';\nimport CodeBlock from '../components/codeblock/codeblock.js';\nimport LinkFile from '../components/file/link-file.js';\nimport ScrollableImage from '../components/image/scrollable-image';\nimport PublicProjectsView from '../components/public-projects/public-projects-view';\nimport {AuthenticatedTemplate, UnauthenticatedTemplate} from '@azure/msal-react';\nimport AuthenticatedBlock from '../components/auth/authenticated-block.js';\nimport UnAuthenticatedBlock from '../components/auth/unauthenticated-block.js';\nimport NestedMdxBlock from '../components/mdx/nested-mdx-block.js';\nimport YoutubeImage from '../components/image/youtube-image.js';\nimport InternalPageMenu from '../components/internal-page-menu/internal-page-menu.js';\nimport InternalPageMenuItem from '../components/internal-page-menu/internal-page-menu-item.js';\nimport InternalPageTitle from '../components/internal-page-menu/menu-title.js';\nimport {PathViewer, PathViewerItem} from '../components/path-viewer/path-viewer.js';\nconst shortcodes = {\n  Link,\n  Image,\n  Section,\n  Content,\n  Background,\n  SectionHeader,\n  SectionFooter,\n  PageHeader,\n  CodeBlock,\n  LinkFile,\n  ScrollableImage,\n  PublicProjectsView,\n  AuthenticatedBlock,\n  UnAuthenticatedBlock,\n  NestedMdxBlock,\n  YoutubeImage,\n  InternalPageMenu,\n  InternalPageMenuItem,\n  InternalPageTitle,\n  PathViewer,\n  PathViewerItem\n};\nfunction PageTemplate({data: {mdx, allImages}, children}) {\n  shortcodes.PageHeader = withFrontmatter(PageHeader, mdx?.frontmatter);\n  return React.createElement(MainLayout, Object.assign({}, mdx?.frontmatter ? {\n    frontmatter: mdx.frontmatter\n  } : {}, mdx?.frontmatter?.navbarExtraStyles ? {\n    navbarExtraStyles: mdx.frontmatter.navbarExtraStyles\n  } : {}, mdx?.frontmatter?.headerImage ? {\n    headerImage: mdx.frontmatter.headerImage\n  } : {}, mdx?.frontmatter?.featuredImage ? {\n    featuredImage: mdx.frontmatter.featuredImage\n  } : {}, mdx?.frontmatter?.title ? {\n    pageTitle: mdx.frontmatter.title\n  } : {}, allImages && allImages.length > 0 ? {\n    allImages: allImages\n  } : {}), React.createElement(MDXProvider, {\n    components: shortcodes\n  }, React.createElement(\"div\", {\n    className: mdx?.frontmatter?.autoMargin ? 'page page--auto-margin' : 'page'\n  }, children)));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PageTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const pageQuery = graphql`\n  query pagesAndImages($slug: String) {\n    mdx(fields: { slug: { eq: $slug } }) {\n      id\n      body\n      fields {\n        slug\n      }\n\n      frontmatter {\n        title\n        date\n        navbarExtraStyles\n        headerImage\n        featuredImage\n        description\n        autoMargin\n      }\n    }\n    allImages: allFile(\n      filter: {\n        sourceInstanceName: { eq: \"images\" }\n        extension: { nin: [\"ico\", \"svg\"] }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              quality: 90\n              layout: FULL_WIDTH\n              placeholder: TRACED_SVG\n              tracedSVGOptions: { color: \"green\", background: \"grey\" }\n            )\n          }\n          base\n        }\n      }\n    }\n  }\n`;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","p","br","strong","table","thead","tr","th","tbody","td","a","pre","code","ul","li","h2","ol","h4","h5","_provideComponents","components","PathViewer","PathViewerItem","InternalPageMenu","InternalPageMenuItem","InternalPageTitle","_missingMdxReference","React","to","selected","href","numbered","highlighting","className","wrapper","MDXLayout","id","component","Error","shortcodes","Link","Image","Section","Content","Background","SectionHeader","SectionFooter","PageHeader","CodeBlock","LinkFile","ScrollableImage","PublicProjectsView","AuthenticatedBlock","UnAuthenticatedBlock","NestedMdxBlock","YoutubeImage","PageTemplate","data","mdx","allImages","children","withFrontmatter","frontmatter","MainLayout","navbarExtraStyles","headerImage","featuredImage","title","pageTitle","length","MDXProvider","autoMargin","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}