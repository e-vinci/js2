<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.1"/><meta data-react-helmet="true" name="description" content="Refactoring à l&#x27;aide d&#x27;un fat model"/><meta data-react-helmet="true" property="og:url" content="https://e-vinci.github.io/js2/js2/part1/refactoring/"/><meta data-react-helmet="true" property="og:title" content="Refactoring de l&#x27;API"/><meta data-react-helmet="true" property="og:description" content="Refactoring à l&#x27;aide d&#x27;un fat model"/><meta name="theme-color" content="#303030"/><style data-href="/js2/styles.a0aa9ab19d55851d279a.css" data-identity="gatsby-global-css">*{box-sizing:border-box;margin:0;padding:0}body{overflow-x:hidden}.body,.section{color:#2e2e28;font-family:Roboto Flex,sans-serif;font-size:large;font-weight:400}.section{display:flex;flex-flow:row wrap;min-height:10px;width:100%}.section--fit-content{display:block}.section__content{box-sizing:border-box;flex:1 1 100%;flex-wrap:wrap;padding-left:1rem;padding-right:1rem;padding-top:1rem}.section__content--no-auto-margin{padding:0}.section__content--center{margin-left:auto;margin-right:auto;text-align:center}@media only screen and (min-width:768px){.section__content__responsive-image{display:block;height:80vh;width:80vh}}@media only screen and (min-width:992px){.section__content{flex-basis:50%}}.section__header{align-self:flex-start;flex:1 1 100%;font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:x-large;font-weight:300;line-height:1.5rem;min-height:10px;padding-left:1rem;padding-right:1rem;text-align:center}.section__header--left{padding-left:1rem;text-align:left}.section__footer{align-self:flex-end;flex:1 1 100%;justify-content:center;min-height:5vh;padding-bottom:1rem;padding-left:1rem;padding-right:1rem;text-align:center}.section__background{background-size:cover;display:flex;flex-flow:row wrap;min-height:10px;width:100%}.section a{color:#2e2e28;cursor:pointer;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}.section a:focus,.section a:hover{color:#656558}.header--overlay{left:0;position:absolute;top:0;width:100%;z-index:10}main{background-color:#fff;color:#2e2e28;flex-grow:1}.footer,main{font-family:Roboto Flex,sans-serif;font-size:large;font-weight:400}.footer{background-color:#2e2e28;color:#fff}.footer__icons li:last-of-type{margin-right:0}.footer__version{display:inline-block;margin-left:1rem;margin-right:1rem}.footer__background{align-items:center;display:flex;justify-content:space-between;min-height:8vh;padding:1rem}.footer__logo{height:100%}.footer__logo__text{color:#fff;display:inline-block;font-family:MeriendaOne,sans-serif;font-size:1.7rem;font-weight:300}.footer__logo__image1{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCI+PHJlY3Qgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiIGZpbGw9IiMzMTc4YzYiIHJ4PSI2Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNzQuMjYyIDk5LjQ2OHYxNC4wMjZjMi4yNzMgMS4xNjggNC45NiAyLjA0NSA4LjA2MyAyLjYyOSAzLjEwMi41ODUgNi4zNzMuODc3IDkuODEuODc3IDMuMzUgMCA2LjUzMy0uMzIxIDkuNTQ4LS45NjQgMy4wMTYtLjY0MyA1LjY1OS0xLjcwMiA3LjkzMi0zLjE3OGExNi4xNzkgMTYuMTc5IDAgMCAwIDUuMzk3LTUuNzg2YzEuMzI1LTIuMzgxIDEuOTg4LTUuMzI1IDEuOTg4LTguODMxIDAtMi41NDItLjM3OS00Ljc3LTEuMTM2LTYuNjg0YTE1LjYzMiAxNS42MzIgMCAwIDAtMy4yNzgtNS4xMDdjLTEuNDI3LTEuNDktMy4xMzktMi44MjctNS4xMzQtNC4wMS0xLjk5Ni0xLjE4My00LjI0Ni0yLjMwMS02Ljc1Mi0zLjM1M2E4NC43NTYgODQuNzU2IDAgMCAxLTQuOTM4LTIuMjEzYy0xLjQ1Ni0uNzE2LTIuNjk1LTEuNDQ3LTMuNzE0LTIuMTkyLTEuMDItLjc0NS0xLjgwNi0xLjUzNC0yLjM2LTIuMzY3LS41NTMtLjgzMi0uODMtMS43NzUtLjgzLTIuODI3IDAtLjk2NC4yNDctMS44MzMuNzQzLTIuNjA4czEuMTk0LTEuNDM5IDIuMDk3LTEuOTk0Yy45MDMtLjU1NSAyLjAxLS45ODYgMy4zMjEtMS4yOTMgMS4zMTEtLjMwNyAyLjc2OC0uNDYgNC4zNy0uNDYgMS4xNjYgMCAyLjM5Ni4wODggMy42OTMuMjYzIDEuMjk2LjE3NSAyLjYuNDQ1IDMuOTExLjgxIDEuMzExLjM2NiAyLjU4NS44MjYgMy44MjQgMS4zODFhMjEuMDcxIDIxLjA3MSAwIDAgMSAzLjQzIDEuOTI5VjU0LjQxYy0yLjEyNy0uODE4LTQuNDUtMS40MjUtNi45Ny0xLjgyUzEwMS44NjYgNTIgOTguNjAzIDUyYy0zLjMyMSAwLTYuNDY4LjM1OC05LjQ0IDEuMDc0LTIuOTcuNzE2LTUuNTg2IDEuODMzLTcuODQzIDMuMzUzYTE2LjczMiAxNi43MzIgMCAwIDAtNS4zNTMgNS44MDdDNzQuNjU2IDY0LjU4NyA3NCA2Ny40IDc0IDcwLjY3MmMwIDQuMTc4IDEuMjAyIDcuNzQzIDMuNjA1IDEwLjY5NCAyLjQwNCAyLjk1MSA2LjA1MyA1LjQ1IDEwLjk0NyA3LjQ5NSAxLjkyMy43ODkgMy43MTQgMS41NjMgNS4zNzUgMi4zMjMgMS42Ni43NiAzLjA5NSAxLjU0OSA0LjMwNCAyLjM2N3MyLjE2MyAxLjcxIDIuODYyIDIuNjc0Yy43Ljk2NCAxLjA0OSAyLjA2IDEuMDQ5IDMuMjg3IDAgLjkwNi0uMjE4IDEuNzQ2LS42NTUgMi41MnMtMS4xIDEuNDQ2LTEuOTg4IDIuMDE2Yy0uODkuNTctMS45OTYgMS4wMTYtMy4zMjIgMS4zMzctMS4zMjUuMzIxLTIuODc2LjQ4Mi00LjY1NC40ODItMy4wMyAwLTYuMDMtLjUzMy05LjAwMi0xLjYtMi45NzEtMS4wNjYtNS43MjQtMi42NjYtOC4yNTktNC43OTl6bS0yMy41Ni0zNC45MTRINjlWNTNIMTh2MTEuNTU0aDE4LjIwOFYxMTZoMTQuNDk1eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.footer__logo__image1,.footer__logo__image2{background-position:0,100%;background-repeat:no-repeat;background-size:contain;display:inline-block;margin-left:1rem;min-height:5vh;min-width:5vw;vertical-align:middle}.footer__logo__image2{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2MzAgNjMwIj48cmVjdCB3aWR0aD0iNjMwIiBoZWlnaHQ9IjYzMCIgZmlsbD0iI2Y3ZGYxZSIvPjxwYXRoIGQ9Ik00MjMuMiA0OTIuMTljMTIuNjkgMjAuNzIgMjkuMiAzNS45NSA1OC40IDM1Ljk1IDI0LjUzIDAgNDAuMi0xMi4yNiA0MC4yLTI5LjIgMC0yMC4zLTE2LjEtMjcuNDktNDMuMS0zOS4zbC0xNC44LTYuMzVjLTQyLjcyLTE4LjItNzEuMS00MS03MS4xLTg5LjIgMC00NC40IDMzLjgzLTc4LjIgODYuNy03OC4yIDM3LjY0IDAgNjQuNyAxMy4xIDg0LjIgNDcuNGwtNDYuMSAyOS42Yy0xMC4xNS0xOC4yLTIxLjEtMjUuMzctMzguMS0yNS4zNy0xNy4zNCAwLTI4LjMzIDExLTI4LjMzIDI1LjM3IDAgMTcuNzYgMTEgMjQuOTUgMzYuNCAzNS45NWwxNC44IDYuMzRjNTAuMyAyMS41NyA3OC43IDQzLjU2IDc4LjcgOTMgMCA1My4zLTQxLjg3IDgyLjUtOTguMSA4Mi41LTU0Ljk4IDAtOTAuNS0yNi4yLTEwNy44OC02MC41NHptLTIwOS4xMyA1LjEzYzkuMyAxNi41IDE3Ljc2IDMwLjQ1IDM4LjEgMzAuNDUgMTkuNDUgMCAzMS43Mi03LjYxIDMxLjcyLTM3LjJ2LTIwMS4zaDU5LjJ2MjAyLjFjMCA2MS4zLTM1Ljk0IDg5LjItODguNCA4OS4yLTQ3LjQgMC03NC44NS0yNC41My04OC44MS01NC4wNzV6Ii8+PC9zdmc+)}.footer__logo__image3{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1ODkuODI3IiBoZWlnaHQ9IjM2MS4yMzgiIHZlcnNpb249IjEuMiIgdmlld0JveD0iMCAwIDQ0Mi4zNyAyNzAuOTI5Ij48ZGVmcz48Y2xpcFBhdGggaWQ9InByZWZpeF9fYSI+PHBhdGggZD0ibTIzOS4wMyAyMjYuNjA1LTQyLjEzIDI0LjMxN2E1LjA4NSA1LjA4NSAwIDAgMC0yLjU0NiA0LjQwNnY0OC42NjhjMCAxLjgxNy45NjggMy40OTYgMi41NDYgNC40MDZsNDIuMTMzIDI0LjMzNmE1LjEgNS4xIDAgMCAwIDUuMDkgMGw0Mi4xMjYtMjQuMzM2YTUuMDk2IDUuMDk2IDAgMCAwIDIuNTQtNC40MDZ2LTQ4LjY2OGMwLTEuODE2LS45Ny0zLjQ5Ni0yLjU1LTQuNDA2bC00Mi4xMi0yNC4zMTdhNS4xMjMgNS4xMjMgMCAwIDAtNS4xIDAiLz48L2NsaXBQYXRoPjxsaW5lYXJHcmFkaWVudCBpZD0icHJlZml4X19iIiB4MT0iLS4zNDgiIHgyPSIxLjI1MSIgZ3JhZGllbnRUcmFuc2Zvcm09InJvdGF0ZSgxMTYuMTE0IDUzLjEgMjAyLjk3KSBzY2FsZSg4Ni40OCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9Ii4zIiBzdG9wLWNvbG9yPSIjM0U4NjNEIi8+PHN0b3Agb2Zmc2V0PSIuNSIgc3RvcC1jb2xvcj0iIzU1OTM0RiIvPjxzdG9wIG9mZnNldD0iLjgiIHN0b3AtY29sb3I9IiM1QUFENDUiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0icHJlZml4X19jIj48cGF0aCBkPSJNMTk1LjM5OCAzMDcuMDg2Yy40MDMuNTIzLjkwNy45NzYgMS41IDEuMzE2bDM2LjE0IDIwLjg3NSA2LjAyIDMuNDZjLjkuNTIgMS45MjYuNzQgMi45MzQuNjY1LjMzNi0uMDI3LjY3Mi0uMDkgMS0uMTgzbDQ0LjQzNC04MS4zNmMtLjM0LS4zNy0uNzM4LS42OC0xLjE4NC0uOTRsLTI3LjU4Ni0xNS45My0xNC41ODItOC4zOWE1LjMxOCA1LjMxOCAwIDAgMC0xLjMyLS41M3ptMCAwIi8+PC9jbGlwUGF0aD48bGluZWFyR3JhZGllbnQgaWQ9InByZWZpeF9fZCIgeDE9Ii0uNDU2IiB4Mj0iLjU4MiIgZ3JhZGllbnRUcmFuc2Zvcm09InJvdGF0ZSgtMzYuNDYgNTUwLjg0NiAtMjE0LjMzNykgc2NhbGUoMTMyLjc5OCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9Ii41NyIgc3RvcC1jb2xvcj0iIzNFODYzRCIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjNjE5ODU3Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzZBQzY0Ii8+PC9saW5lYXJHcmFkaWVudD48Y2xpcFBhdGggaWQ9InByZWZpeF9fZSI+PHBhdGggZD0iTTI0MS4wNjYgMjI1Ljk1M2E1LjE0IDUuMTQgMCAwIDAtMi4wMzUuNjUybC00Mi4wMSAyNC4yNDcgNDUuMyA4Mi41MWMuNjMtLjA5IDEuMjUtLjMgMS44MS0uNjI0bDQyLjEzLTI0LjMzNmE1LjEwNSA1LjEwNSAwIDAgMCAyLjQ2LTMuNDc2bC00Ni4xOC03OC44OWE1LjI5IDUuMjkgMCAwIDAtMS4wMy0uMTAyYy0uMTQgMC0uMjguMDA3LS40Mi4wMiIvPjwvY2xpcFBhdGg+PGxpbmVhckdyYWRpZW50IGlkPSJwcmVmaXhfX2YiIHgxPSIuMDQzIiB4Mj0iLjk4NCIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgxOTIuODYyIDI3OS42NTIpIHNjYWxlKDk3LjQxNykiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9Ii4xNiIgc3RvcC1jb2xvcj0iIzZCQkY0NyIvPjxzdG9wIG9mZnNldD0iLjM4IiBzdG9wLWNvbG9yPSIjNzlCNDYxIi8+PHN0b3Agb2Zmc2V0PSIuNDciIHN0b3AtY29sb3I9IiM3NUFDNjQiLz48c3RvcCBvZmZzZXQ9Ii43IiBzdG9wLWNvbG9yPSIjNjU5RTVBIi8+PHN0b3Agb2Zmc2V0PSIuOSIgc3RvcC1jb2xvcj0iIzNFODYzRCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxwYXRoIGZpbGw9IiM2ODlmNjMiIGQ9Ik0yMTguNjQ3IDI3MC45M2MtMS40NiAwLTIuOTEtLjM4My00LjE5LTEuMTJsLTEzLjMzNy03Ljg5NmMtMS45OTItMS4xMTQtMS4wMi0xLjUwOC0uMzYzLTEuNzM1IDIuNjU2LS45MyAzLjE5NS0xLjE0IDYuMDMtMi43NS4yOTgtLjE3LjY4OC0uMTEuOTkzLjA3bDEwLjI0NiA2LjA4Yy4zNy4yLjg5NS4yIDEuMjM4IDBsMzkuOTUtMjMuMDZjLjM3LS4yMS42MS0uNjQuNjEtMS4wOHYtNDYuMWMwLS40Ni0uMjQtLjg3LS42MTgtMS4xbC0zOS45MzQtMjMuMDRjLS4zNy0uMjItLjg2LS4yMi0xLjIzIDBsLTM5LjkyNiAyMy4wNGMtLjM4Ny4yMi0uNjMzLjY1LS42MzMgMS4wOXY0Ni4xYzAgLjQ0LjI0Ljg2LjYyIDEuMDdsMTAuOTQgNi4zMmM1Ljk0IDIuOTcgOS41Ny0uNTMgOS41Ny00LjA1di00NS41YzAtLjY1LjUxLTEuMTUgMS4xNi0xLjE1aDUuMDZjLjYzIDAgMS4xNS41IDEuMTUgMS4xNXY0NS41MmMwIDcuOTItNC4zMiAxMi40Ny0xMS44MyAxMi40Ny0yLjMxIDAtNC4xMyAwLTkuMjEtMi41bC0xMC40OC02LjA0YTguNDQ3IDguNDQ3IDAgMCAxLTQuMTktNy4yOXYtNDYuMWMwLTMgMS42LTUuOCA0LjE5LTcuMjhsMzkuOTktMjMuMDdjMi41My0xLjQzIDUuODktMS40MyA4LjQgMGwzOS45NCAyMy4wOGE4LjQyOCA4LjQyOCAwIDAgMSA0LjE5IDcuMjh2NDYuMWMwIDIuOTktMS42MSA1Ljc4LTQuMTkgNy4yOGwtMzkuOTQgMjMuMDdhOC4zOTcgOC4zOTcgMCAwIDEtNC4yMSAxLjEyIi8+PHBhdGggZmlsbD0iIzY4OWY2MyIgZD0iTTIzMC45ODcgMjM5LjE2NGMtMTcuNDggMC0yMS4xNDUtOC4wMjQtMjEuMTQ1LTE0Ljc1NCAwLS42NC41MTYtMS4xNSAxLjE1Ny0xLjE1aDUuMTZjLjU3IDAgMS4wNS40MTUgMS4xNC45NzguNzggNS4yNTggMy4xIDcuOTEgMTMuNjcgNy45MSA4LjQyIDAgMTItMS45MDIgMTItNi4zNjcgMC0yLjU3LTEuMDItNC40OC0xNC4xLTUuNzYtMTAuOTQtMS4wOC0xNy43LTMuNDktMTcuNy0xMi4yNCAwLTguMDYgNi44LTEyLjg2IDE4LjE5LTEyLjg2IDEyLjc5IDAgMTkuMTMgNC40NCAxOS45MyAxMy45OGExLjE2NCAxLjE2NCAwIDAgMS0xLjE2IDEuMjZoLTUuMTljLS41NCAwLTEuMDEtLjM4LTEuMTItLjktMS4yNS01LjUzLTQuMjctNy4zLTEyLjQ4LTcuMy05LjE5IDAtMTAuMjYgMy4yLTEwLjI2IDUuNiAwIDIuOTEgMS4yNiAzLjc2IDEzLjY2IDUuNCAxMi4yOCAxLjYzIDE4LjExIDMuOTMgMTguMTEgMTIuNTYgMCA4LjctNy4yNiAxMy42OS0xOS45MiAxMy42OW00OC42Ni00OC44OWgxLjM0YzEuMSAwIDEuMzEtLjc3IDEuMzEtMS4yMiAwLTEuMTgtLjgxLTEuMTgtMS4yNi0xLjE4aC0xLjM4em0tMS42My0zLjc4aDIuOTdjMS4wMiAwIDMuMDIgMCAzLjAyIDIuMjggMCAxLjU5LTEuMDIgMS45Mi0xLjYzIDIuMTIgMS4xOS4wOCAxLjI3Ljg2IDEuNDMgMS45Ni4wOC42OS4yMSAxLjg4LjQ1IDIuMjhoLTEuODNjLS4wNS0uNC0uMzMtMi42LS4zMy0yLjcyLS4xMi0uNDktLjI5LS43My0uOS0uNzNoLTEuNTF2My40NmgtMS42N3ptLTMuNTcgNC4zYzAgMy41OCAyLjg5IDYuNDggNi40NCA2LjQ4IDMuNTggMCA2LjQ3LTIuOTYgNi40Ny02LjQ4IDAtMy41OS0yLjkzLTYuNDQtNi40OC02LjQ0LTMuNSAwLTYuNDQgMi44MS02LjQ0IDYuNDNtMTQuMTYuMDNjMCA0LjI0LTMuNDcgNy43LTcuNyA3LjctNC4yIDAtNy43LTMuNDItNy43LTcuNyAwLTQuMzYgMy41OC03LjcgNy43LTcuNyA0LjE1IDAgNy42OSAzLjM1IDcuNjkgNy43Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOTQuOTM2IDkwLjU1YzAtMS44NC0uOTctMy41My0yLjU1OC00LjQ0NWwtNDIuMzU2LTI0LjM3YTQuOTQ2IDQuOTQ2IDAgMCAwLTIuMzI4LS42N2gtLjQzOGMtLjgxMi4wMy0xLjYxMy4yNS0yLjM0LjY3TDIuNTYyIDg2LjEwNUE1LjE1NCA1LjE1NCAwIDAgMCAwIDkwLjU1NWwuMDkzIDY1LjY0YzAgLjkxLjQ3IDEuNzYgMS4yNyAyLjIxLjc4LjQ4IDEuNzYuNDggMi41NCAwbDI1LjE4LTE0LjQyYzEuNTktLjk0NiAyLjU2LTIuNjE4IDIuNTYtNC40NFYxMDguODhhNS4xIDUuMSAwIDAgMSAyLjU1NS00LjQzbDEwLjcyLTYuMTc0YTUuMDg2IDUuMDg2IDAgMCAxIDIuNTYtLjY4OGMuODc2IDAgMS43Ny4yMjYgMi41NDQuNjg3bDEwLjcxNSA2LjE3MmMxLjU4Ni45MSAyLjU2IDIuNiAyLjU2IDQuNDN2MzAuNjYzYzAgMS44Mi45ODMgMy41IDIuNTY1IDQuNDRsMjUuMTY0IDE0LjQxYTIuNSAyLjUgMCAwIDAgMi41NiAwIDIuNTY4IDIuNTY4IDAgMCAwIDEuMjY4LTIuMjF6bTE5OS44NjggMzQuMTc2YzAgLjQ1Ny0uMjQzLjg4LS42NCAxLjEwNmwtMTQuNTQ4IDguMzg2YTEuMjgyIDEuMjgyIDAgMCAxLTEuMjc3IDBsLTE0LjU1LTguMzg2Yy0uNC0uMjI3LS42NC0uNjUtLjY0LTEuMTA2VjEwNy45M2MwLS40NTguMjQtLjg4LjYzLTEuMTFsMTQuNTQtOC40Yy40LS4yMy44OS0uMjMgMS4yOSAwbDE0LjU1IDguNGMuNC4yMy42NC42NTIuNjQgMS4xMXpNMjk4LjczNC4zMjRhMi41NjggMi41NjggMCAwIDAtMi41NDQuMDI3Yy0uNzguNDYtMS4yNjIgMS4zLTEuMjYyIDIuMjF2NjVhMS43ODggMS43ODggMCAwIDEtMi42ODQgMS41NUwyODEuNjM0IDYzYTUuMTA4IDUuMTA4IDAgMCAwLTUuMTEyIDBsLTQyLjM3IDI0LjQ1M2E1LjEwNSA1LjEwNSAwIDAgMC0yLjU2IDQuNDJ2NDguOTJjMCAxLjgzLjk3NyAzLjUxIDIuNTYgNC40M2w0Mi4zNyAyNC40N2MxLjU4Mi45MSAzLjUzLjkxIDUuMTE3IDBsNDIuMzctMjQuNDhjMS41OC0uOTIgMi41Ni0yLjYgMi41Ni00LjQzVjE4Ljg2M2E1LjEyOCA1LjEyOCAwIDAgMC0yLjYzLTQuNDd6bTE0MS4wOTMgMTA3LjE2NGE1LjExNiA1LjExNiAwIDAgMCAyLjU0My00LjQyMlY5MS4yMWMwLTEuODI0LS45Ny0zLjUwNy0yLjU0Ny00LjQyNWwtNDIuMS0yNC40NGE1LjExMyA1LjExMyAwIDAgMC01LjEzIDBsLTQyLjM2IDI0LjQ1Yy0xLjU5LjkyLTIuNTYgMi42LTIuNTYgNC40M3Y0OC45YzAgMS44NC45OSAzLjU0IDIuNTggNC40NWw0Mi4wOSAyMy45OWMxLjU1Ljg5IDMuNDUuOSA1LjAyLjAzbDI1LjQ2LTE0LjE1Yy44LS40NSAxLjMxLTEuMyAxLjMxLTIuMjIgMC0uOTItLjQ5LTEuNzgtMS4yOS0yLjIzbC00Mi42Mi0yNC40NmMtLjgtLjQ1LTEuMjktMS4zLTEuMjktMi4yMXYtMTUuMzRjMC0uOTE2LjQ4LTEuNzYgMS4yOC0yLjIxNmwxMy4yNi03LjY1Yy43OS0uNDYgMS43Ni0uNDYgMi41NSAwbDEzLjI3IDcuNjVjLjc5LjQ1IDEuMjggMS4zIDEuMjggMi4yMXYxMi4wNmMwIC45MS40OSAxLjc2IDEuMjggMi4yMi43OS40NSAxLjc3LjQ1IDIuNTYtLjAxem0wIDAiLz48cGF0aCBmaWxsPSIjNjg5ZjYzIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zOTQuNTM4IDEwNS4yYS45Ny45NyAwIDAgMSAuOTggMGw4LjEzIDQuNjljLjMwNC4xNzYuNDkuNS40OS44NXY5LjM5YzAgLjM1LS4xODYuNjc0LS40OS44NWwtOC4xMyA0LjY5YS45Ny45NyAwIDAgMS0uOTggMGwtOC4xMjUtNC42OWEuOTc5Ljk3OSAwIDAgMS0uNS0uODV2LTkuMzljMC0uMzUuMTgtLjY3NC40OS0uODV6bTAgMCIvPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzguMzA2IC0xNjQuMDE2KSI+PHBhdGggZmlsbD0idXJsKCNwcmVmaXhfX2IpIiBkPSJtMzMxLjM2MyAyNDYuNzkzLTExOC43MTUtNTguMTktNjAuODcgMTI0LjE3NEwyNzAuNDkgMzcwLjk3em0wIDAiLz48L2c+PGcgY2xpcC1wYXRoPSJ1cmwoI3ByZWZpeF9fYykiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03OC4zMDYgLTE2NC4wMTYpIj48cGF0aCBmaWxsPSJ1cmwoI3ByZWZpeF9fZCkiIGQ9Im0xNDQuMDcgMjY0LjAwNCA4My44MjUgMTEzLjQ1MyAxMTAuODYtODEuOTA2LTgzLjgzLTExMy40NXptMCAwIi8+PC9nPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2UpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzguMzA2IC0xNjQuMDE2KSI+PHBhdGggZmlsbD0idXJsKCNwcmVmaXhfX2YpIiBkPSJNMTk3LjAyIDIyNS45MzR2MTA3LjQzaDkxLjY4M3YtMTA3LjQzem0wIDAiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;background-size:contain;display:inline-block;margin-left:1rem;min-height:5vh;min-width:10vw;vertical-align:middle}.master{display:flex;flex-direction:column;min-height:100vh;position:relative}.page{word-wrap:break-word;overflow-wrap:break-word;word-break:break-word}.page--auto-margin{padding:1rem}.page--auto-margin ol,.page--auto-margin ul{line-height:1.5;margin-bottom:1rem;padding-left:1.3rem;padding-right:1.3rem}@media only screen and (min-width:992px){.page{width:auto}.page:has(.page-menu){margin-left:30vw}.page:has(.page-menu--sticky){margin-left:0}.page--visible-internal-menu{margin-left:30vw}}.page a{color:#2e2e28;cursor:pointer;-webkit-hyphens:auto;hyphens:auto}.page a:focus,.page a:hover{color:#656558}.page h1,.page h2,.page h3,.page h4,.page h5{margin-bottom:.5rem}.page p{line-height:1.5;margin-bottom:1rem}.page p+ul{margin-top:-1rem}.page table{border-collapse:collapse;margin-top:.5rem}.page table td,.page table th{border:thin solid gray;min-width:3rem;padding:.2rem;text-align:left;vertical-align:top}.page pre{margin-bottom:1rem}.page figcaption{margin-bottom:1rem}.page caption,.page figcaption{font-style:italic;opacity:.7}.grid{position:relative}.grid__background-image-wrapper__image{padding:0}.grid__content{display:block;left:0;position:absolute;top:0}.table{border:0;border-bottom:1px solid #ccc;border-collapse:collapse;border-spacing:2px;border-top:3px solid;color:#000;margin:2rem 0;table-layout:fixed;text-indent:0;width:100%}.table td{border:1px solid #ccc;border-bottom:0;border-left:0;border-right:0;padding:.75rem;vertical-align:top;width:75%}.table th{word-wrap:break-word;border:1px solid #ccc;border-bottom:0;border-left:0;-webkit-hyphens:auto;hyphens:auto;padding:.75rem .75rem .75rem 0;text-align:left;vertical-align:top;width:25%}.background{display:flex;z-index:0}.background__image{display:grid}.background--header{z-index:10}.menu{align-items:center;display:flex;list-style:none;margin:0;width:100%}.menu a{color:#fff;font-size:1.3rem}.menu a:hover{color:#bfbfbf;transition:color .3s ease-in}.menu li{margin-right:1rem}.card{background-color:#f9e54f;border-radius:.5rem;display:block;-webkit-hyphens:auto;hyphens:auto;margin-bottom:.5rem;padding:.5rem;width:100%;word-break:break-word}.card--fill-wrapper{height:100%}.card--dark-summary{background-color:#2e2e28;border-radius:0;color:#fff}.card__simple-youtube-container{display:"inline-block";margin-bottom:1rem;max-width:480px}.card__header{display:block;font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:x-large;font-weight:300;line-height:1.5rem;padding:.5rem;text-align:center}.card__content{display:grid;grid-template-columns:1fr 2fr;width:100%}@media only screen and (min-width:576px){.card__content{grid-template-columns:150px 2fr}}.card__content--long-titles{grid-template-columns:2fr 1fr}@media only screen and (min-width:576px){.card__content--long-titles{grid-template-columns:2fr 150px}}.card__content--orange{color:orange!important}.card__content__title{color:#fff;font-weight:300;padding-bottom:.5rem;padding-right:.5rem}.card__content__description{padding-bottom:.5rem}.card__content__description a{color:#2e2e28;cursor:pointer;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}.card__content__description a:focus,.card__content__description a:hover{color:#656558}.card__content__description input{height:1.3rem;vertical-align:middle;width:1.3rem}.card__content__description__subitems{list-style:none}.card__content__description__subitems__item{border:.5px solid #fff;border-radius:.5rem;margin-bottom:.5rem;padding:.5rem}.card__content__description__subitems__item:last-child{margin-bottom:0}.navbar{align-items:center;background-color:#f7de1e;display:flex;flex-basis:100%;flex-wrap:wrap;font-family:MeriendaOne,sans-serif;font-size:large;font-weight:300;justify-content:space-between;margin:0;padding:1rem;position:relative;width:100%;z-index:100}@media only screen and (min-width:992px){.navbar{justify-content:flex-start}}.navbar__toggler{background-color:transparent;border:1px solid #fff;border-radius:.25rem;cursor:pointer;display:inline-block;font-size:1.25rem;line-height:1;padding:.25rem .75rem;transition:box-shadow .15s ease-in-out}@media only screen and (min-width:992px){.navbar__toggler{display:none}}.navbar__toggler__icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='hsl(0, 0%, 100%)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")!important;background-position:50%;background-repeat:no-repeat;display:inline-block;height:1.5em;vertical-align:middle;width:1.5em}.navbar__brand{color:#fff;font-size:1.7rem;margin-right:1rem;padding-bottom:.3125rem;padding-top:.3125rem;text-decoration:none;white-space:nowrap}.navbar__menu{align-items:center;display:none;flex-basis:100%;flex-grow:1}.navbar__menu--collapse{display:flex}@media only screen and (min-width:992px){.navbar__menu{display:flex;flex-basis:auto}}.navbar__menu__list{display:flex;flex-direction:column;list-style:none}@media only screen and (min-width:992px){.navbar__menu__list{flex-direction:row}}.navbar__menu__list__item{display:list-item;padding-bottom:.5rem;padding-top:.5rem;position:relative}@media only screen and (min-width:992px){.navbar__menu__list__item{padding-left:.5rem;padding-right:.5rem}}.navbar__menu__list__item__link{color:#fff;cursor:pointer;display:block;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}.navbar__menu__list__item__link:focus,.navbar__menu__list__item__link:hover{color:#ccc}.navbar__menu__list__item__link--dropdown-toggle:after{border-bottom:0;border-left:.3em solid transparent;border-right:.3em solid transparent;border-top:.3em solid;content:"";display:inline-block;margin-left:.255em;vertical-align:.255em}.navbar__menu__list__item__dropdown-menu{background-clip:padding-box;background-color:#fff;border:1px solid #2e2e28;border-radius:.25rem;color:#2e2e28;display:none;left:0;list-style:none;margin-top:.125rem;min-width:10rem;padding:.5rem 0;position:static;text-align:left;top:100%;z-index:1000}@media only screen and (min-width:992px){.navbar__menu__list__item__dropdown-menu{position:absolute}}.navbar__menu__list__item__dropdown-menu--collapsed{display:block}.navbar__menu__list__item__dropdown-menu__item{display:list-item;padding:.5rem;position:relative}.navbar__menu__list__item__dropdown-menu__item:focus,.navbar__menu__list__item__dropdown-menu__item:hover{background-color:#e0e0dc}.navbar__menu__list__item__dropdown-menu__item__link{color:#2e2e28;cursor:pointer;display:block;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}.navbar__menu__list__item__dropdown-menu__item__link:focus,.navbar__menu__list__item__dropdown-menu__item__link:hover{color:#656558}@media only screen and (min-width:992px){.navbar{display:flex;flex-basis:auto}}.navbar--transparent-background{background-color:transparent;background-image:none}.navbar--top-of-page{left:0;position:absolute;top:0}.carousel__wrapper{background-color:#f7de1e;background-image:linear-gradient(180deg,#f7de1e 25%,#faec80);box-sizing:border-box;height:auto;margin-top:1rem;max-width:100%;width:100%}.carousel__wrapper__background{display:block}.carousel__wrapper__background--transparent{background-color:transparent;background-image:none}.quote{display:flex;height:100%;justify-content:center;max-width:100vw;padding:30px 20px 60px;width:100%}.quote--close-to-others{padding-bottom:1rem;padding-top:0}.quote__content{align-self:flex-start;border-bottom:1px solid;border-top:1px solid;color:#fff;padding:30px 0;position:relative}.quote__content--dark-and-wide{color:#2e2e28;padding:30px 0;width:100%}.quote__content h3{color:#fff;position:relative}.quote__content h4{color:#2e2e28;margin:0;padding-top:20px;position:relative}.quote__content h4:before{content:"— "}.quote__content:after{bottom:-43px;color:#fff;content:"”";font-size:10rem;line-height:0;position:absolute;right:30px}.schedule{color:#2e2e28;display:flex;flex-direction:column;font-family:Roboto Flex,sans-serif;font-size:large;font-weight:400;gap:.5rem;width:100%}.schedule__header1,.schedule__header2,.schedule__header3,.schedule__header4{display:block;font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:x-large;font-size:large;font-weight:300;line-height:1.5rem;text-align:left}.schedule__title{display:block;font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:x-large;font-size:medium;font-weight:300;line-height:1.5rem}.schedule__title1:not(.schedule__title),.schedule__title2:not(.schedule__title),.schedule__title3:not(.schedule__title),.schedule__title4:not(.schedule__title){display:none}.schedule__session{background-color:#f9e54f;border-radius:.5rem;display:flex;flex-direction:row;flex-wrap:wrap;min-height:5rem;padding:.5rem;width:100%}.schedule__session__title{align-self:flex-start;color:#fff;font-weight:700;text-align:center;width:100%}.schedule__session__time{align-self:flex-end;font-weight:700;text-align:center;width:100%}@media only screen and (min-width:576px){.schedule{color:#2e2e28;display:grid;font-family:Roboto Flex,sans-serif;font-size:large;font-weight:400;grid-template:"headertitle header1 header2  header3  header4" "scheduletitle1 monday1 wednesday1 thursday1 friday1" "scheduletitle2 monday2 wednesday2 thursday2 friday2" "scheduletitle3 monday3 wednesday3 thursday3 friday3" "scheduletitle4 monday4 wednesday4 thursday4 friday4";grid-template-columns:repeat(5,1fr);width:100%}.schedule__title1{display:block;font-size:large;grid-area:scheduletitle1}.schedule__title2{display:block;font-size:large;grid-area:scheduletitle2}.schedule__title3{display:block;font-size:large;grid-area:scheduletitle3}.schedule__title4{display:block;font-size:large;grid-area:scheduletitle4}.schedule__header1{grid-area:header1;text-align:center}.schedule__header2{grid-area:header2;text-align:center}.schedule__header3{grid-area:header3;text-align:center}.schedule__header4{grid-area:header4;text-align:center}.schedule__monday1{grid-area:monday1}.schedule__monday2{grid-area:monday2}.schedule__monday3{grid-area:monday3}.schedule__monday4{grid-area:monday4}.schedule__wednesday1{grid-area:wednesday1}.schedule__wednesday2{grid-area:wednesday2}.schedule__wednesday3{grid-area:wednesday3}.schedule__wednesday4{grid-area:wednesday4}.schedule__thursday1{grid-area:thursday1}.schedule__thursday2{grid-area:thursday2}.schedule__thursday3{grid-area:thursday3}.schedule__thursday4{grid-area:thursday4}.schedule__friday1{grid-area:friday1}.schedule__friday2{grid-area:friday2}.schedule__friday3{grid-area:friday3}.schedule__friday4{grid-area:friday4}.schedule__title:not(.schedule__title1):not(.schedule__title2):not(.schedule__title3):not(.schedule__title4){display:none}}.list{padding-left:1rem;padding-top:1rem}.index{grid-gap:1rem;display:grid;grid-template-columns:1fr}@media only screen and (min-width:576px){.index{grid-template-columns:1fr 1fr}}@media only screen and (min-width:1200px){.index{grid-template-columns:1fr 1fr 1fr}}.index__search{display:block;grid-column-end:-1;grid-column-start:1;margin-bottom:1rem;margin-top:1rem;padding:.5rem;width:100%}.index__button{background-color:#2e2e28;border:none;border-radius:.25rem;color:#fff;cursor:pointer;display:inline-block;margin-top:1rem;padding:.375rem .75rem;text-align:center;vertical-align:middle}.index__button:hover{background-color:#4a4a40}.index__card{background-color:#f9e54f;border-radius:.5rem;display:block;-webkit-hyphens:auto;hyphens:auto;padding:.5rem;width:100%;word-break:break-word}.index__card__header{display:block;font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:x-large;font-weight:300;line-height:1.5rem;padding:.5rem;text-align:center}.index__card__content{display:grid;grid-template-columns:1fr 2fr;width:100%}.index__card__content__title{color:#fff;font-weight:300;padding-bottom:.5rem;padding-right:.5rem}.index__card__content__description{padding-bottom:.5rem}.index__card__content__description a{color:#2e2e28;cursor:pointer;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}.index__card__content__description a:focus,.index__card__content__description a:hover{color:#656558}.index__card__content__description input{height:1.3rem;vertical-align:middle;width:1.3rem}.index__card__content__description__subitems{list-style:none}.index__card__content__description__subitems__item{border:.5px solid #fff;border-radius:.5rem;margin-bottom:.5rem;padding:.5rem}.index__card__content__description__subitems__item:last-child{margin-bottom:0}.index__card__content__description--is-being-edited{background-color:#fff;margin-bottom:.5rem;padding:.3rem}.index__card__content__description--is-inline{display:inline-block}.index__card--is-being-edited{animation:gradient 2s linear infinite;animation-direction:alternate;background:linear-gradient(45deg,#f7de1e,#f7cc1e,#f7b91e,#f7a71e,#f7951e,#f7831e);background-size:600% 100%}@keyframes gradient{0%{background-position:0}to{background-position:100%}}.index .fa-plus-circle{margin-right:.5rem}.index .fa-check-circle{color:green;font-size:1.5rem}.index .fa-minus-circle,.index .fa-times-circle{color:red;font-size:1.5rem}.index .fa-comment-dots,.index .fa-edit,.index .fa-eye,.index .fa-save,.index .fa-times,.index .fa-trash-alt,.index .fa-user-plus,.index .fa-user-times{cursor:pointer;margin-bottom:.5rem;margin-right:.5rem}.index .fa-comment-dots:hover,.index .fa-edit:hover,.index .fa-eye:hover,.index .fa-save:hover,.index .fa-times:hover,.index .fa-trash-alt:hover,.index .fa-user-plus:hover,.index .fa-user-times:hover{color:#4a4a40}.index--long-text{grid-column-end:-1;grid-column-start:1}@media only screen and (min-width:576px){.index--long-text .index__card__content{grid-template-columns:200px 1fr!important}}.spinner__overlay{background:rgba(0,0,0,.7);bottom:0;left:0;position:fixed;right:0;top:0;z-index:5}.spinner__animation{color:#f7de1e;left:50%;position:fixed;top:50%;transform:translate(-50%,-50%);z-index:10}.summary{grid-gap:1rem;display:grid;grid-template-columns:1fr;padding-top:1rem}@media only screen and (min-width:576px){.summary{grid-template-columns:1fr 1fr}}.summary__card-wrapper{display:block;width:100%}.summary__card-wrapper:only-child{grid-column-end:-1;grid-column-start:1;margin-left:auto;margin-right:auto;width:100%}@media only screen and (min-width:576px){.summary__card-wrapper:only-child{width:50%}}@media only screen and (min-width:1200px){.summary__card-wrapper:only-child{width:33%}}.summary .fa-comment,.summary .fa-heart{margin-right:.5rem}.summary .fa-heart{color:red}.summary .fa-comment{color:green}.counter{background-color:#2e2e28;display:flex;justify-content:space-evenly;padding-bottom:.5rem;padding-top:.5rem}.counter__symbol{margin-right:.2rem}.counter__symbol--red{color:red}.counter__symbol--orange{color:orange}.counter__symbol--green{color:green}.codeblock{margin-bottom:.5rem;margin-top:.5rem;overflow:auto}.codeblock pre[class*=language-]{float:left;min-width:100%;padding:.5rem}.codeblock__header{border-bottom:thin solid #9acd32;display:flex;justify-content:flex-start;margin-bottom:.5rem;padding-bottom:.3rem;padding-top:.3rem}.codeblock__header__copy-button{background:none;border:none;color:#fff;cursor:pointer;padding-right:1rem}.codeblock__header__language-name{color:#9acd32}.codeblock__body__line{display:block;min-width:100%}.codeblock__body__line--highlighted{background-color:#353b45}.codeblock__body__line__number{display:table-cell;opacity:.5;-webkit-user-select:none;user-select:none;width:2.5rem}.codeblock__body__line__content{display:table-cell}.scrollable-image{overflow:auto}.scrollable-image__wrapper{display:inline-block;width:100%}.page-menu{padding-bottom:1.3rem;text-align:left;width:auto}@media only screen and (min-width:992px){.page-menu{height:100vh;left:0;margin-top:1rem;overflow-y:auto;position:fixed;top:0;width:30vw;z-index:10}.page-menu--sticky{height:auto;position:relative;top:0;width:max-content}.page-menu--center{margin-left:auto;margin-right:auto}}.page-menu__close-button{display:none}@media only screen and (min-width:992px){.page-menu__close-button{background-color:#111;border-radius:50%;color:#fff;display:block;font-size:20px;margin-bottom:.5rem;padding:5px 15px;right:0}.page-menu__close-button:after{content:"×"}}.page-menu__open-button{display:none}@media only screen and (min-width:992px){.page-menu__open-button{display:block;height:100vh;position:absolute;right:0;top:0}.page-menu__open-button__item{background-color:#111;border:none;border-radius:50%;color:#fff;cursor:pointer;font-size:20px;padding:10px 15px;position:fixed;right:0;z-index:10}.page-menu__open-button__item:after{content:"☰"}}.page-menu__item{background-color:#fff;border:2px solid #33332d;border-radius:0 50px 50px 0;cursor:pointer;display:flex;flex-wrap:wrap;justify-content:flex-start;overflow:hidden;padding:.5rem;position:relative;z-index:10}.page-menu__item:not(:last-child){border-bottom:none}.page-menu__item--selected,.page-menu__item:hover{background-color:#2e2e28;color:#fff!important}.path-viewer{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:1.3rem}.path-viewer__item{background-color:#fff;border:2px solid #33332d;border-radius:0 50px 50px 0;cursor:pointer;margin-bottom:2px;overflow:hidden;padding:.5rem;position:relative;z-index:10}.path-viewer__item--selected,.path-viewer__item:hover{background-color:#2e2e28;color:#fff!important}.path-viewer__item--selected{cursor:text!important}@font-face{font-display:swap;font-family:Kavoon;src:url(/js2/static/Kavoon-Regular-942c5ec99a683f33cbd21f88d0c771dc.ttf)}@font-face{font-display:swap;font-family:MeriendaOne;font-size:15vh;src:url(/js2/static/MeriendaOne-Regular-e9c591ea2539ec7dc624851057cb737b.ttf)}@font-face{font-display:swap;font-family:Apercu Pro Regular;src:url("/js2/static/Apercu Pro Regular-c90f8890213c974793f9a1f665d86410.otf")}@font-face{font-display:swap;font-family:Roboto Regular;src:url(/js2/static/Roboto-Regular-a8d6ac03c7b96b7acb6228ff2676139d.ttf)}@font-face{font-display:swap;font-family:Roboto Flex;src:url(/js2/static/RobotoFlex-VariableFont-459379f8e8d3e82cccd433a512be1a75.ttf)}@font-face{font-display:swap;font-family:Baloo Bhaina\ 2 Bold;src:url(/js2/static/BalooBhaina2-Bold-0c4963b78753a15075509a388f17234e.ttf)}h1{font-size:2rem;line-height:2rem}h1,h2{color:#2e2e28;font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-weight:300}h2{font-size:1.5rem;line-height:1.5rem}h3{font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:1.3rem;font-style:italic;font-weight:300;line-height:1.3rem}.text,h3{color:#2e2e28}.text{font-family:Roboto Flex,sans-serif;font-size:large;font-weight:400}.text--center{text-align:center}.text--light{color:#fff!important}.text--italic{font-style:italic!important}.text--emphasized{font-family:Baloo Bhaina\ 2 Bold,sans-serif;font-size:x-large;font-weight:300;line-height:1.5rem}.text--hand-written{font-family:MeriendaOne,sans-serif;font-size:large;font-weight:300}a{color:#2e2e28;cursor:pointer;-webkit-hyphens:auto;hyphens:auto}a:focus,a:hover{color:#656558}code{color:#d63384}.ml-0{margin-left:0!important}.ml-1{margin-left:.25rem!important}.ml-2{margin-left:.5rem!important}.ml-3{margin-left:1rem!important}.ml-4{margin-left:1.5rem!important}.ml-5{margin-left:3rem!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mr-0{margin-right:0!important}.mr-1{margin-right:.25rem!important}.mr-2{margin-right:.5rem!important}.mr-3{margin-right:1rem!important}.mr-4{margin-right:1.5rem!important}.mr-5{margin-right:3rem!important}.pl-0{padding-left:0!important}.pl-1{padding-left:.25rem!important}.pl-2{padding-left:.5rem!important}.pl-3{padding-left:1rem!important}.pl-4{padding-left:1.5rem!important}.pl-5{padding-left:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.pr-0{padding-right:0!important}.pr-1{padding-right:.25rem!important}.pr-2{padding-right:.5rem!important}.pr-3{padding-right:1rem!important}.pr-4{padding-right:1.5rem!important}.pr-5{padding-right:3rem!important}.vh-5{height:5vh}.vh-10{height:10vh}.vh-15{height:15vh}.vh-20{height:20vh}.vh-25{height:25vh}.vh-30{height:30vh}.vh-35{height:35vh}.vh-40{height:40vh}.vh-45{height:45vh}.vh-50{height:50vh}.vh-55{height:55vh}.vh-60{height:60vh}.vh-65{height:65vh}.vh-70{height:70vh}.vh-75{height:75vh}.vh-80{height:80vh}.vh-85{height:85vh}.vh-90{height:90vh}.vh-95{height:95vh}.vh-100{height:100vh}.vw-5{flex-basis:5vw;width:5vw}.vw-10{flex-basis:10vw;width:10vw}.vw-15{flex-basis:15vw;width:15vw}.vw-20{flex-basis:20vw;width:20vw}.vw-25{flex-basis:25vw;width:25vw}.vw-30{flex-basis:30vw;width:30vw}.vw-35{flex-basis:35vw;width:35vw}.vw-40{flex-basis:40vw;width:40vw}.vw-45{flex-basis:45vw;width:45vw}.vw-50{flex-basis:50vw;width:50vw}.vw-55{flex-basis:55vw;width:55vw}.vw-60{flex-basis:60vw;width:60vw}.vw-65{flex-basis:65vw;width:65vw}.vw-70{flex-basis:70vw;width:70vw}.vw-75{flex-basis:75vw;width:75vw}.vw-80{flex-basis:80vw;width:80vw}.vw-85{flex-basis:85vw;width:85vw}.vw-90{flex-basis:90vw;width:90vw}.vw-95{flex-basis:95vw;width:95vw}.vw-100{flex-basis:100vw;width:100vw}.w-5{flex-basis:5%;width:5%}.w-10{flex-basis:10%;width:10%}.w-15{flex-basis:15%;width:15%}.w-20{flex-basis:20%;width:20%}.w-25{flex-basis:25%;width:25%}.w-30{flex-basis:30%;width:30%}.w-35{flex-basis:35%;width:35%}.w-40{flex-basis:40%;width:40%}.w-45{flex-basis:45%;width:45%}.w-50{flex-basis:50%;width:50%}.w-55{flex-basis:55%;width:55%}.w-60{flex-basis:60%;width:60%}.w-65{flex-basis:65%;width:65%}.w-70{flex-basis:70%;width:70%}.w-75{flex-basis:75%;width:75%}.w-80{flex-basis:80%;width:80%}.w-85{flex-basis:85%;width:85%}.w-90{flex-basis:90%;width:90%}.w-95{flex-basis:95%;width:95%}.w-100{flex-basis:100%;width:100%}.svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;line-height:inherit;position:absolute;text-align:center;width:2em}.fa-border{border:.08em solid #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical,.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1);transform:scale(-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{clip:rect(0,0,0,0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor)}.svg-inline--fa .fa-secondary,.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fad.fa-inverse{color:#fff}</style><title data-react-helmet="true">Refactoring de l&#x27;API</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/js2/favicon-32x32.png" type="image/png"/><link rel="icon" href="/js2/favicon.svg" type="image/svg+xml"/><link rel="manifest" href="/js2/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/js2/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/js2/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/js2/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/js2/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/js2/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/js2/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/js2/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/js2/icons/icon-512x512.png"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="master"><header class="header "><nav class="navbar "><a class="navbar__brand" href="/js2/">web2course</a><button class="navbar__toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar__toggler__icon"></span></button><div class="navbar__menu " id="navbarSupportedContent"><ul class="navbar__menu__list"><li class="navbar__menu__list__item"><a class="navbar__menu__list__item__link navbar__menu__list__item__link--dropdown-toggle">Contenu du cours</a><ul class="navbar__menu__list__item__dropdown-menu " aria-labelledby="navbarDropdown"><li class="navbar__menu__list__item__dropdown-menu__item"><a class="navbar__menu__list__item__dropdown-menu__item__link" href="/js2/part0/">Partie 0 : Info &amp; intro</a></li><li class="navbar__menu__list__item__dropdown-menu__item"><a class="navbar__menu__list__item__dropdown-menu__item__link" href="/js2/part1/">Partie 1 : Services web</a></li><li class="navbar__menu__list__item__dropdown-menu__item"><a class="navbar__menu__list__item__dropdown-menu__item__link" href="/js2/part2/">Partie 2 : IHM</a></li><li class="navbar__menu__list__item__dropdown-menu__item"><a class="navbar__menu__list__item__dropdown-menu__item__link" href="/js2/part3/">Partie 3 : Sécurisation</a></li><li class="navbar__menu__list__item__dropdown-menu__item"><a class="navbar__menu__list__item__dropdown-menu__item__link" href="/js2/repo/">Repositories</a></li><li class="navbar__menu__list__item__dropdown-menu__item"><a class="navbar__menu__list__item__dropdown-menu__item__link" href="/js2/references/">Bibliographie</a></li></ul></li><li class="navbar__menu__list__item"><a class="navbar__menu__list__item__link" href="/js2/about/">About</a></li></ul></div></nav></header><main class="main"><div class="page page--auto-margin "><h1>c) Refactoring à l&#x27;aide de services</h1>
<div class="page-menu " style="top:0"><button class="page-menu__close-button"></button><div class="path-viewer"><a class="path-viewer__item " id="item_web_2_course" href="/js2/"> web2course </a><a class="path-viewer__item " id="item_partie_1" href="/js2/part1/"> Partie 1)</a><a aria-current="page" class="path-viewer__item path-viewer__item--selected" id="item_c_refactoring" href="/js2/part1/refactoring/"> c) Refactoring </a></div><a class="page-menu__item " id="item_architectures_web_possibles_pour_une_api" href="/js2/part1/refactoring/#architectures_web_possibles_pour_une_api"> Architectures web possibles pour une API ? </a><a class="page-menu__item " id="item_architecture_express_services" href="/js2/part1/refactoring/#architecture_express_services"> Architecture Express &amp; services </a><a class="page-menu__item " id="item_exercice_1_8_refactoring_a_laide_dun_service" href="/js2/part1/refactoring/#exercice_1_8_refactoring_a_laide_dun_service"> Exercice 1.8 : Refactoring à l&#x27;aide d&#x27;un service </a><a class="page-menu__item " id="item_exercice_1_9_encore_un_service" href="/js2/part1/refactoring/#exercice_1_9_encore_un_service"> Exercice 1.9 : Encore un service </a></div>
<div class="card card__simple-youtube-container"><a href="https://youtu.be/FihV6wXpIQE" target="_blank"><img src="https://img.youtube.com/vi/FihV6wXpIQE/hqdefault.jpg" style="width:100%;z-index:2" alt="YoutubeImage"/></a></div>
<h1><span><a id="architectures_web_possibles_pour_une_api" class="internal-page-title"></a> Architectures web possibles pour une API ? </span></h1>
<p>Si nous reprenons le code actuel du tutoriel de l&#x27;API gérant des boissons (<a href="https://github.com/e-vinci/js-demos/tree/main/back/api/persistence">persistence</a>), nous pouvons détecter que celui-ci pourrait être plus propre.</p>
<p>Par exemple, le routeur de &quot;drinks&quot; s&#x27;occupe tant de gérer les requêtes des clients que d&#x27;accéder directement aux données.<br/>
<!-- -->Généralement, nous préférons séparer le code gérant les accès aux données du code gérant la présentation du résultat des opérations.</p>
<p>On peut donc se demander comment séparer le code traitant de sujets très différents. Il existe une multitude d&#x27;architectures possibles, voici par exemple certains des plus grands noms :</p>
<ul>
<li><strong>Architecture MVC (Model View Controller)</strong> ; au niveau backend, ce genre d&#x27;architecture est généralement très utile quand on fait des MPA (ou Multi-Page Applications) via du Server-Side Rendering. Les <strong>Views</strong> permettent de générer le frontend à l&#x27;aide d&#x27;un moteur de templating ; le <strong>Controller</strong> s&#x27;occupe de traiter les requêtes en appelant le <strong>Model</strong> pour l&#x27;accès aux opérations sur les données et en renvoyant les <strong>Views</strong> adéquates. Pour une API, cette architecture n&#x27;est pas la plus adaptée.</li>
<li><strong>Architecture classique &quot;three-tier&quot;</strong> ; au nivau backend, quand on développe une architecture trois tiers, cela signifie que l&#x27;on découpe notre API en trois couches :<!-- -->
<ul>
<li><strong>couche de présentation</strong> : cette couche est responsable de présenter les ressources aux clients et d&#x27;interpréter les représentations des ressources données dans les requêtes ;</li>
<li><strong>couche business</strong> : cette couche s&#x27;occupe de toute la logique de l&#x27;API, elle fait l&#x27;intermédiaire entre la couche de présentation et la couche de données ;</li>
<li><strong>couche de données</strong> : cette couche s&#x27;occupe des accès aux données et permet notamment la persistance des ressources au sein de bases de données.<br/>
<!-- -->Le modèle trois tiers est fort intéressant, mais il demande un peu trop d&#x27;écriture de codes sans grande valeur ajoutée quand nous utilisons le framework Express.</li>
</ul>
</li>
<li>...</li>
</ul>
<p>Finalement, parmi les architectures classiques, il n&#x27;y a pas réellement une architecture qui colle parfaitement à ce qui est offert par le framework Express, sans devoir écrire du code sans valeur ajoutée.</p>
<p>Ainsi, nous allons simplement créer notre propre architecture &quot;maison&quot;, sur base de ces points :</p>
<ul>
<li>On souhaite pouvoir <strong>facilement remplacer la couche d&#x27;accès aux données sans changer la représentation des ressources</strong> ; en effet, dans un premier temps, nous sauvegarderons des données dans des fichiers JSON. Plus tard, si l&#x27;on venait à sauvegarder les données dans un système de gestion de base de données, on ne veut pas devoir mettre à jour le code prenant en compte les requêtes des clients et présentant la réponse à ces requêtes ; en gros, on souhaite que le code de nos routers, au sein d&#x27;Express, soit indépendant de l&#x27;implémentation des accès aux données.</li>
<li>Nous n&#x27;avons pas vraiment de contraintes pour l&#x27;aspect &quot;business&quot; de nos APIs : la logique de l&#x27;application peut soit s&#x27;associer à la couche de données, soit à la couche présentation. Néanmoins, nous allons préférer <strong>associer un maximum de la logique de notre application</strong> à ce que nous allons appeler un <strong>service</strong>. Le <strong>service</strong> contiendra toutes les <strong>opérations possibles sur les ressources</strong>, ainsi que les <strong>accès aux données</strong>.</li>
<li>Le <strong>service</strong> peut être soit écrit en orienté objet, soit simplement être un module fournissant des fonctions. Dans le cadre de ce cours, nous choisissons de présenter un maximum de programmation fonctionnelle plutôt que de l&#x27;orienté objet.<br/>
<!-- -->Néanmoins, n&#x27;hésitez pas à écrire des classes si cela vous tient à coeur 😉.</li>
</ul>
<h1><span><a id="architecture_express_services" class="internal-page-title"></a> Architecture Express &amp; services </span></h1>
<p>Dans un nouveau tutoriel, nous allons maintenant faire un refactor de notre API de gestion des pizzas en créant et utilisant un service.</p>
<p>Veuillez créer un nouveau projet <strong><code>/tutorials/back/api/services</code></strong> sur base d&#x27;un copier/coller de votre répertoire <strong><code>/tutorials/back/api/persistence</code></strong>.</p>
<p>En cas de souci, vous pouvez télécharger le code du tutoriel précédent ici : <a href="https://github.com/e-vinci/ts-demos/tree/main/back/api/persistence">persistence</a>.</p>
<p>Nous allons commencer par créer le <strong>service</strong> offrant les opérations sur les boissons.<br/>
<!-- -->Veuillez créer le fichier <strong><code>/services/drinks.js</code></strong>.<br/>
<!-- -->Au sein de ce fichier, veuillez ajouter le code s&#x27;occupant des opérations sur les ressources de type &quot;drinks&quot; :</p>
<div class="codeblock"><pre class="prism-code language-ts" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeblock__header"><button class="codeblock__header__copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button><span class="codeblock__header__language-name">ts</span></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">1</span><div class="codeblock__body__line__content"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> path </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;node:path&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">2</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> Drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> NewDrink </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../types&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">3</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> serialize </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../utils/json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">4</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> jsonDbPath </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/../data/drinks.json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">5</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">6</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> defaultDrinks</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">7</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">8</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">9</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Coca-Cola&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">10</span><div class="codeblock__body__line__content"><span class="token plain">    image</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">11</span><div class="codeblock__body__line__content"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://media.istockphoto.com/id/1289738725/fr/photo/bouteille-en-plastique-de-coke-avec-la-conception-et-le-chapeau-rouges-d%C3%A9tiquette.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=HBWfROrGDTIgD6fuvTlUq6SrwWqIC35-gceDSJ8TTP8=&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">12</span><div class="codeblock__body__line__content"><span class="token plain">    volume</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.33</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">13</span><div class="codeblock__body__line__content"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">14</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">15</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">16</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">17</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Pepsi&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">18</span><div class="codeblock__body__line__content"><span class="token plain">    image</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">19</span><div class="codeblock__body__line__content"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://media.istockphoto.com/id/185268840/fr/photo/bouteille-de-cola-sur-un-fond-blanc.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=xdsxwb4bLjzuQbkT_XvVLyBZyW36GD97T1PCW0MZ4vg=&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">20</span><div class="codeblock__body__line__content"><span class="token plain">    volume</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.33</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">21</span><div class="codeblock__body__line__content"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">22</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">23</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">24</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">25</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Eau Minérale&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">26</span><div class="codeblock__body__line__content"><span class="token plain">    image</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">27</span><div class="codeblock__body__line__content"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://media.istockphoto.com/id/1397515626/fr/photo/verre-deau-gazeuse-%C3%A0-boire-isol%C3%A9.jpg?s=1024x1024&amp;w=is&amp;k=20&amp;c=iEjq6OL86Li4eDG5YGO59d1O3Ga1iMVc_Kj5oeIfAqk=&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">28</span><div class="codeblock__body__line__content"><span class="token plain">    volume</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">29</span><div class="codeblock__body__line__content"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">30</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">31</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">32</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">33</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Jus d&#x27;Orange&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">34</span><div class="codeblock__body__line__content"><span class="token plain">    image</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">35</span><div class="codeblock__body__line__content"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://images.unsplash.com/photo-1600271886742-f049cd451bba?q=80&amp;w=1374&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">36</span><div class="codeblock__body__line__content"><span class="token plain">    volume</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.25</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">37</span><div class="codeblock__body__line__content"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">4.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">38</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">39</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">40</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">41</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Limonade&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">42</span><div class="codeblock__body__line__content"><span class="token plain">    image</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">43</span><div class="codeblock__body__line__content"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://images.unsplash.com/photo-1583064313642-a7c149480c7e?q=80&amp;w=1430&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">44</span><div class="codeblock__body__line__content"><span class="token plain">    volume</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.33</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">45</span><div class="codeblock__body__line__content"><span class="token plain">    price</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">46</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">47</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">48</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">49</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readAllDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">budgetMax</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">50</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">51</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">budgetMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">52</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">53</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">54</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">55</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> budgetMaxNumber </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">budgetMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">56</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">57</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> filteredDrinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">filter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">58</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">price </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> budgetMaxNumber</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">59</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">60</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> filteredDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">61</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">62</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">63</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Drink </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">64</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">65</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">find</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">66</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">67</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">68</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">69</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">70</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">71</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">72</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">createOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newDrink</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> NewDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Drink </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">73</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">74</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">75</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> nextId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">76</span><div class="codeblock__body__line__content"><span class="token plain">    drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">reduce</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">maxId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> maxId </span><span class="token operator" style="color:rgb(212, 212, 212)">?</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> maxId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">77</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">78</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">79</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> createdDrink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">80</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> nextId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">81</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">...</span><span class="token plain">newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">82</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">83</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">84</span><div class="codeblock__body__line__content"><span class="token plain">  drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">push</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">createdDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">85</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">serialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">86</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">87</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> createdDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">88</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">89</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">90</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">deleteOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drinkId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Drink </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">91</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">92</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> index </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">findIndex</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> drinkId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">93</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">index </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">94</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">95</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">96</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">97</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> deletedElements </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">splice</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">98</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">serialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">99</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> deletedElements</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">100</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">101</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">102</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">updateOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">103</span><div class="codeblock__body__line__content"><span class="token plain">  drinkId</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">104</span><div class="codeblock__body__line__content"><span class="token plain">  newDrink</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Partial</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">NewDrink</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">105</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Drink </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">106</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">107</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">find</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> drinkId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">108</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">109</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">110</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">111</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">112</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">113</span><div class="codeblock__body__line__content"><span class="token plain">    drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// the router already checks for the presence of title</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">114</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">115</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">image </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">116</span><div class="codeblock__body__line__content"><span class="token plain">    drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">image </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">image</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">117</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">118</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">volume </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">119</span><div class="codeblock__body__line__content"><span class="token plain">    drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">volume </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">volume</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">120</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">121</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">price </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">122</span><div class="codeblock__body__line__content"><span class="token plain">    drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">price </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">price</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">123</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">124</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">125</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">serialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">126</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">127</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">128</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">129</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">130</span><div class="codeblock__body__line__content"><span class="token plain">  readAllDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">131</span><div class="codeblock__body__line__content"><span class="token plain">  readOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">132</span><div class="codeblock__body__line__content"><span class="token plain">  createOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">133</span><div class="codeblock__body__line__content"><span class="token plain">  deleteOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">134</span><div class="codeblock__body__line__content"><span class="token plain">  updateOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">135</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span></div></div></pre></div>
<p>Maintenant, nous allons mettre à jour le router <strong><code>/routes/drinks.js</code></strong> afin de faire les appels aux fonctions offertes par le modèle :</p>
<div class="codeblock"><pre class="prism-code language-js" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeblock__header"><button class="codeblock__header__copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button><span class="codeblock__header__language-name">js</span></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">1</span><div class="codeblock__body__line__content"><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Router</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">2</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">NewDrink</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../types&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">3</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token imports"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">4</span><div class="codeblock__body__line__content"><span class="token imports">  createOneDrink</span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token imports"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">5</span><div class="codeblock__body__line__content"><span class="token imports">  deleteOneDrink</span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token imports"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">6</span><div class="codeblock__body__line__content"><span class="token imports">  readAllDrinks</span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token imports"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">7</span><div class="codeblock__body__line__content"><span class="token imports">  readOneDrink</span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token imports"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">8</span><div class="codeblock__body__line__content"><span class="token imports">  updateOneDrink</span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token imports"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">9</span><div class="codeblock__body__line__content"><span class="token imports"></span><span class="token imports punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../services/drinks&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">10</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">11</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> router </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(220, 220, 170)">Router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">12</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">13</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">14</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> budgetMax </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;budget-max&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">15</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drinks </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readAllDrinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">budgetMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">16</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drinks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">17</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">18</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">19</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/:id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">20</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">21</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> drink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">22</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">23</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">24</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">25</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">drink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">26</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">27</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">28</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">post</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">29</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> volume</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> price </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> </span><span class="token maybe-class-name">NewDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">30</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">31</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">32</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">33</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">image </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">34</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">volume </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">35</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">price </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">36</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> title </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;string&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">37</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> image </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;string&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">38</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> volume </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">39</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> price </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">40</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">41</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">42</span><div class="codeblock__body__line__content"><span class="token plain">    volume </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">43</span><div class="codeblock__body__line__content"><span class="token plain">    price </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">44</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">45</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">400</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">46</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">47</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">48</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> newDrink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">createOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> volume</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> price </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">49</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">50</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">51</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">52</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">delete</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/:id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">53</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">54</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> deletedDrink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">deleteOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">55</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">deletedDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">56</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">57</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">58</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">deletedDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">59</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">60</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">61</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">patch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/:id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">62</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">63</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">64</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> volume</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> price </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">NewDrink</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">65</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">66</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">67</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> title </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;string&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">68</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">image </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> image </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;string&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">69</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">volume </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> volume </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> volume </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">70</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">price </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">typeof</span><span class="token plain"> price </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> price </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">71</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">72</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">400</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">73</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">74</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">75</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> updatedDrink </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">updateOneDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> volume</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> price </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">76</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">77</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">updatedDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">78</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">79</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">80</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">81</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">updatedDrink</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">82</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">83</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">84</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">default</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span></div></div></pre></div>
<p>Lancer votre API soit via le debugger, soit via la commande <strong><code>npm run dev</code></strong>.<br/>
<!-- -->Veuillez ensuite tester que les opérations sur les boissons fonctionnent bien en exécutant les requêtes HTTP déjà présentes dans le répertoire <strong><code>REST Client</code></strong> du boilerplate.</p>
<p>Maintenant, nous allons aussi mettre à jour l&#x27;architecture pour traiter des ressources de type &quot;pizzas&quot;. Veuillez créer un fichier <strong><code>/services/pizzas.js</code></strong> :</p>
<div class="codeblock"><pre class="prism-code language-ts" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeblock__header"><button class="codeblock__header__copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button><span class="codeblock__header__language-name">ts</span></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">1</span><div class="codeblock__body__line__content"><span class="token comment" style="color:rgb(106, 153, 85)">// Create the pizzas service based on the drinks.ts service</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">2</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> path </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;node:path&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">3</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> Pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> NewPizza </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../types&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">4</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> serialize </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../utils/json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">5</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> jsonDbPath </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/../data/pizzas.json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">6</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">7</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> defaultPizzas</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">8</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">9</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">10</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;4 fromages&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">11</span><div class="codeblock__body__line__content"><span class="token plain">    content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Gruyère, Sérac, Appenzel, Gorgonzola, Tomates&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">12</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">13</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">14</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">15</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Vegan&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">16</span><div class="codeblock__body__line__content"><span class="token plain">    content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Tomates, Courgettes, Oignons, Aubergines, Poivrons&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">17</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">18</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">19</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">20</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Vegetarian&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">21</span><div class="codeblock__body__line__content"><span class="token plain">    content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Mozarella, Tomates, Oignons, Poivrons, Champignons, Olives&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">22</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">23</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">24</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">25</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Alpage&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">26</span><div class="codeblock__body__line__content"><span class="token plain">    content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Gruyère, Mozarella, Lardons, Tomates&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">27</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">28</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">29</span><div class="codeblock__body__line__content"><span class="token plain">    id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">30</span><div class="codeblock__body__line__content"><span class="token plain">    title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Diable&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">31</span><div class="codeblock__body__line__content"><span class="token plain">    content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Tomates, Mozarella, Chorizo piquant, Jalapenos&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">32</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">33</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">34</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">35</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readAllPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">order</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">36</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> orderByTitle </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> order </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">includes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;title&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">?</span><span class="token plain"> order </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">37</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">38</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">let</span><span class="token plain"> orderedMenu</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">39</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">40</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">orderByTitle</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">41</span><div class="codeblock__body__line__content"><span class="token plain">    orderedMenu </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token operator" style="color:rgb(212, 212, 212)">...</span><span class="token plain">pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">localeCompare</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">42</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">43</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">orderByTitle </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;-title&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> orderedMenu </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> orderedMenu</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">reverse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">44</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">45</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> orderedMenu</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">length </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">?</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> orderedMenu</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">46</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">47</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">48</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readPizzaById</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">49</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">50</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">find</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">51</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">52</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">53</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">createPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newPizza</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> NewPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">54</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">55</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> lastId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">length </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">56</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizza</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> lastId </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">...</span><span class="token plain">newPizza </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">57</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> updatedPizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token operator" style="color:rgb(212, 212, 212)">...</span><span class="token plain">pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">58</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">serialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> updatedPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">59</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">60</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">61</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">62</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">deletePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">63</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">64</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> index </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">findIndex</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">65</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">index </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">66</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">67</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> deletedElements </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">splice</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">68</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">serialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">69</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> deletedElements</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">70</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">71</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">72</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">updatePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">73</span><div class="codeblock__body__line__content"><span class="token plain">  id</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">74</span><div class="codeblock__body__line__content"><span class="token plain">  updatedPizza</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Partial</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">NewPizza</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">75</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Pizza </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">76</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">parse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> defaultPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">77</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizza </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">find</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">78</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">79</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">80</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">updatedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">81</span><div class="codeblock__body__line__content"><span class="token plain">    pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> updatedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">82</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">83</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">updatedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">content </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">84</span><div class="codeblock__body__line__content"><span class="token plain">    pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">content </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> updatedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">85</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">86</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">87</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">serialize</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">jsonDbPath</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">88</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">89</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">90</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">91</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> readAllPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> readPizzaById</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> createPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> deletePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> updatePizza </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span></div></div></pre></div>
<p>Et le router <strong><code>/routes/pizzas.js</code></strong> doit aussi être mis à jour :</p>
<div class="codeblock"><pre class="prism-code language-ts" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeblock__header"><button class="codeblock__header__copy-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14 fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button><span class="codeblock__header__language-name">ts</span></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">1</span><div class="codeblock__body__line__content"><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> Router </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">2</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">3</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> NewPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> PizzaToUpdate </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../types&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">4</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> isString </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../utils/type-guards&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">5</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">6</span><div class="codeblock__body__line__content"><span class="token plain">  createPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">7</span><div class="codeblock__body__line__content"><span class="token plain">  deletePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">8</span><div class="codeblock__body__line__content"><span class="token plain">  readAllPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">9</span><div class="codeblock__body__line__content"><span class="token plain">  readPizzaById</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">10</span><div class="codeblock__body__line__content"><span class="token plain">  updatePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">11</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../services/pizzas&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">12</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">13</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> router </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">Router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">14</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">15</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/error&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">_req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> _res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> _next</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">16</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;This is an error&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">17</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// equivalent of next(new Error(&quot;This is an error&quot;));</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">18</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">19</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">20</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">/* Read all the pizzas from the menu</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">21</span><div class="codeblock__body__line__content"><span class="token comment" style="color:rgb(106, 153, 85)">   GET /pizzas?order=title : ascending order by title</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">22</span><div class="codeblock__body__line__content"><span class="token comment" style="color:rgb(106, 153, 85)">   GET /pizzas?order=-title : descending order by title</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">23</span><div class="codeblock__body__line__content"><span class="token comment" style="color:rgb(106, 153, 85)">*/</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">24</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">25</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token function" style="color:rgb(220, 220, 170)">isString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">400</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">26</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">27</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzas </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readAllPizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">order</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">28</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">pizzas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">29</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">30</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">31</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Read the pizza identified by an id in the menu</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">32</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/:id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">33</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">34</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizza </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">readPizzaById</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">35</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">36</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">pizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">37</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">38</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">39</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Create a pizza to be added to the menu.</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">40</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">post</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">41</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">body </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> NewPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">42</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">43</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">44</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">45</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">content </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">46</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token function" style="color:rgb(220, 220, 170)">isString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">47</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token function" style="color:rgb(220, 220, 170)">isString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">48</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">49</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">50</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">51</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">400</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">52</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">53</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">54</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> addedPizza </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">createPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">55</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">56</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">addedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">57</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">58</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">59</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Delete a pizza from the menu based on its id</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">60</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">delete</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/:id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">61</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">62</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> deletedPizza </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">deletePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">63</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">deletedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">64</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">65</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">deletedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">66</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">67</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">68</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Update a pizza based on its id and new values for its parameters</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">69</span><div class="codeblock__body__line__content"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">patch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/:id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">70</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> pizzaToUpdate </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">body </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> PizzaToUpdate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">71</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> content </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> pizzaToUpdate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">72</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">73</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">74</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">75</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token function" style="color:rgb(220, 220, 170)">isString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">76</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">content </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">undefined</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token function" style="color:rgb(220, 220, 170)">isString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">trim</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">77</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">78</span><div class="codeblock__body__line__content"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">400</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">79</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">80</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">81</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">Number</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">82</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> updatedPizza </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">updatePizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> pizzaToUpdate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">83</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">updatedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">sendStatus</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">84</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">85</span><div class="codeblock__body__line__content"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">updatedPizza</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">86</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">87</span><div class="codeblock__body__line__content"><span class="token plain" style="display:inline-block">
</span></div></div><div class="token-line codeblock__body__line" style="color:#9CDCFE"><span class="codeblock__body__line__number">88</span><div class="codeblock__body__line__content"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">default</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span></div></div></pre></div>
<p>Lancer votre API soit via le debugger, soit via la commande <strong><code>npm run dev</code></strong>.<br/>
<!-- -->Veuillez ensuite tester que tout fonctionne bien en exécutant quelques requêtes HTTP associées aux pizzas et déjà présentes dans le répertoire <strong><code>REST Client</code></strong> du boilerplate.</p>
<p>En cas de souci, vous pouvez accéder au code du tutoriel ici :
<a href="https://github.com/e-vinci/js-demos/tree/main/back/api/services">services</a>.</p>
<h1><span><a id="exercice_1_8_refactoring_a_laide_dun_service" class="internal-page-title"></a> Exercice 1.8 : Refactoring à l&#x27;aide d&#x27;un service </span></h1>
<p>Vous allez faire un nouveau refactor de la RESTful API de <strong>myMovies</strong>, afin de restructurer l&#x27;application selon l&#x27;architecture recommandée, en utilisant un service pour gérer les opérations sur les films.</p>
<p>Veuillez repartir du code de la solution de votre <a href="../json/#exercice_1_7_persistance_des_donnees">Exercice 1.7</a>.<br/>
<!-- -->Le code de votre application doit se trouver dans votre repo git dans <strong><code>/exercises/1.8</code></strong>.</p>
<p>Veuillez faire un refactor de votre API gérant les films afin que tout ce qui traite des opérations sur les ressources soit fait au sein du service <strong><code>/services/films.js</code></strong>.</p>
<p>Veuillez tester que votre API fonctionne toujours aussi bien après le refactoring.</p>
<p>Veuillez faire un <strong><code>commit</code></strong> de votre code avec le message suivant : <strong><code>new: ex1.8</code></strong>.</p>
<h1><span><a id="exercice_1_9_encore_un_service" class="internal-page-title"></a> Exercice 1.9 : Encore un service </span></h1>
<p>Vous allez créer une nouvelle API mettant à disposition des opérations CRUD (<strong>C</strong>reate, <strong>R</strong>ead, <strong>U</strong>pdate &amp; <strong>D</strong>elete) sur des ressources de type &quot;texte à dactylographier&quot;.</p>
<p>Vous devez appliquer les outils de développement et l&#x27;architecture recommandée dans ce cours-ci en mettant en place un service.</p>
<p>Pour ce faire, veuillez créer un nouveau projet dans votre repo git dans <strong><code>/exercises/1.9</code></strong> sur base du boilerplate : <a href="https://github.com/e-vinci/basic-ts-api-boilerplate">basic-ts-api-boilerplate</a>.</p>
<p>⚡ Si vous avez fait un clone du boilerplate, attention au Git dans le Git, n&#x27;oubliez pas de supprimer le dossier <strong><code>.git</code></strong> présent dans votre nouveau projet.</p>
<p>Un texte à dactylographier contient comme propriétés :</p>
<ul>
<li><strong><code>id</code></strong> : un uuid généré via la librairie <a href="https://www.npmjs.com/package/uuid">https://www.npmjs.com/package/uuid</a> ;</li>
<li><strong><code>content</code></strong> : un contenu textuel ;</li>
<li><strong><code>level</code></strong> : le niveau associé au texte; les seules valeurs autorisées sont : <strong>easy</strong>, <strong>medium</strong> et <strong>hard</strong>.</li>
</ul>
<p>Voici le tableau formalisant toutes les opérations que vous devez implémenter :</p>
<table><thead><tr><th>URI</th><th>Méthode</th><th>Méthode</th></tr></thead><tbody><tr><td><strong><code>texts</code></strong></td><td>GET</td><td>READ ALL : Lire toutes les ressources de la collection</td></tr><tr><td><strong><code>texts?level=value</code></strong></td><td>GET</td><td>READ ALL FILTERED : Lire toutes les ressources de la collection selon le filtre donné</td></tr><tr><td><strong><code>texts/:id</code></strong></td><td>GET</td><td>READ ONE : Lire la ressource identifiée</td></tr><tr><td><strong><code>texts</code></strong></td><td>POST</td><td>CREATE ONE : Créer une ressource basée sur les données de la requête</td></tr><tr><td><strong><code>texts/:id</code></strong></td><td>DELETE</td><td>DELETE ONE : Effacer la ressource identifiée</td></tr><tr><td><strong><code>texts/:id</code></strong></td><td>PUT</td><td>UPDATE ONE : Remplacer l&#x27;entièreté de la ressource par les données de la requête</td></tr></tbody></table>
<br/>
<p>Veuillez bien valider les valeurs des paramètres. Notament, une <strong><code>level</code></strong> doit être compris dans les valeurs autorisées, sinon un code d&#x27;erreur approprié doit être renvoyé.</p>
<p>Veuillez tester toutes les méthodes offertes par votre application à l&#x27;aide du client HTTP de REST Client.</p>
<p>Veuillez faire un <strong><code>commit</code></strong> de votre code avec le message suivant : <strong><code>new: ex1.9</code></strong>.</p></div></main><footer class="footer "><div class="background footer__background"><div class="footer__logo"><h3 class="footer__logo__text">web2course</h3><div class="footer__logo__image1"></div><div class="footer__logo__image2"></div><div class="footer__logo__image3"></div></div><div class="footer__version text--hand-written">v<!-- -->4.0.1</div><div class="footer__icons"><ul class="menu"><li><a href="mailto: raphael.baroni@vinci.be" data-email="raphael.baroni@vinci.be" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></li></ul></div></div></footer><div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/part1/refactoring/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-024572540ea8292940b8.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-99547ffeb771d821cc1d.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-c36d863742165e789023.js\"],\"component---src-pages-login-js\":[\"/component---src-pages-login-js-5051ce968dc83c247a65.js\"],\"component---src-pages-logout-js\":[\"/component---src-pages-logout-js-7986cffbef9abd23013e.js\"],\"component---src-pages-my-reviews-page-js\":[\"/component---src-pages-my-reviews-page-js-d60c256e700915853f3c.js\"],\"component---src-pages-project-page-js\":[\"/component---src-pages-project-page-js-a273ec5289c862099ee2.js\"],\"component---src-pages-review-page-js\":[\"/component---src-pages-review-page-js-ee021633e143cccadaeb.js\"],\"component---src-pages-test-fr-js\":[\"/component---src-pages-test-fr-js-2e0e5026d1423d984bd3.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-about-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-about-fr-mdx-4180713c1198234ffa6d.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-essentials-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-essentials-fr-mdx-bb75a7ae9ddf28d2232d.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-index-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-index-fr-mdx-33048774498a48855d8b.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-git-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-git-fr-mdx-b042e5ebc357cd27d9d9.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-index-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-index-fr-mdx-ef67650e915a3c68050c.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-info-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-info-fr-mdx-67bcce55c001893dbb09.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-js-context-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-js-context-fr-mdx-f246a679aa6e2177be83.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-js-language-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-js-language-fr-mdx-e2b4f326af47e4125a5f.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-nodejs-app-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-nodejs-app-fr-mdx-f53050125c0525d982ef.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-ts-language-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-0-ts-language-fr-mdx-b533bcd1e5f8ce977077.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-express-api-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-express-api-fr-mdx-90386227bb6374c2218e.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-index-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-index-fr-mdx-e66e781f27a17bf2280a.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-json-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-json-fr-mdx-47e96e3a19b47271e2dc.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-refactoring-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-1-refactoring-fr-mdx-7f37730e42a7c620e203.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-collections-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-collections-fr-mdx-334f6ffbca2aef483378.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-components-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-components-fr-mdx-ae7ee968604e37cb24fc.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-fetch-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-fetch-fr-mdx-e93f7efef532281bba3e.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-index-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-index-fr-mdx-b015e2c9d1052cce3d05.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-medium-state-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-medium-state-fr-mdx-4c0337ed77fb4a45c9be.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-routing-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-routing-fr-mdx-a6691d2d2930f32c3119.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-start-state-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-start-state-fr-mdx-f5c539467772935f4861.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-ui-library-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-ui-library-fr-mdx-652210536b109f7459b2.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-auths-api-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-auths-api-fr-mdx-eaaf731b4b0db35d477c.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-auths-hmi-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-auths-hmi-fr-mdx-4bdff70bb16ffcaa7998.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-cors-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-cors-fr-mdx-83555136f6dd8b4c3a29.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-index-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-3-index-fr-mdx-78abfd7129b509e2b0c9.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-5-index-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-5-index-mdx-69d655bfff7ffa6a2bec.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2020-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2020-mdx-09c74ef44efec7bc4b7b.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2021-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2021-mdx-f45adb759060f49a0a7c.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2022-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-public-projects-showcase-2022-mdx-749314117390dab1a773.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-references-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-references-fr-mdx-758768d70fc457b776ce.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-repo-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-repo-fr-mdx-7c259614b70ac154ca45.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-to-be-deleted-dom-interaction-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-to-be-deleted-dom-interaction-fr-mdx-e96e840c235fb9ae3005.js\"],\"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-to-be-deleted-js-intro-fr-mdx\":[\"/component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-to-be-deleted-js-intro-fr-mdx-e1d321310eb2de3e91af.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="d918a0618657a458e5b6";</script><script src="/js2/webpack-runtime-c0a315dc2278a8c3246e.js" async></script><script src="/js2/framework-2e5b211a15610374bd3d.js" async></script><script src="/js2/cb1608f2-79a359b845df824af80c.js" async></script><script src="/js2/app-024572540ea8292940b8.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>