"use strict";(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[1800],{5804:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var l=t(5680),r=t(6540);function a(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",br:"br",a:"a",strong:"strong",code:"code",pre:"pre",ul:"ul",li:"li",h3:"h3",ol:"ol"},(0,l.RP)(),e.components),{InternalPageMenu:t,PathViewer:a,PathViewerItem:o,InternalPageMenuItem:s,InternalPageTitle:i,LinkFile:u}=n;return t||c("InternalPageMenu",!0),s||c("InternalPageMenuItem",!0),i||c("InternalPageTitle",!0),u||c("LinkFile",!0),a||c("PathViewer",!0),o||c("PathViewerItem",!0),r.createElement(r.Fragment,null,r.createElement(n.h1,null,"a) React et les composants"),"\n",r.createElement(t,null,r.createElement(a,null,r.createElement(o,{to:"/"}," web2course "),r.createElement(o,{to:"/part2"}," Partie 2 "),r.createElement(o,{selected:!0}," a) React et les composants ")),r.createElement(s,null,' D√©veloppement "old school" d\'applications web '),r.createElement(s,null," Mise en place d'un projet Vite + React + TS "),r.createElement(s,null," Les composants React "),r.createElement(s,null," TSX "),r.createElement(s,null," Gestion des assets avec Vite : sons & images "),r.createElement(s,null," Gestion du CSS "),r.createElement(s,null," Cr√©ation de composants React "),r.createElement(s,null," Les props et la d√©finition de type "),r.createElement(s,null," Exercice 2.1 : Cr√©ation de composants int√©gr√©s "),r.createElement(s,null," Exercice 2.2 : Meilleure gestion des types "),r.createElement(s,null," Le linter "),r.createElement(s,null," Le formatter ")),"\n",r.createElement(n.h1,null,r.createElement(i,null,' D√©veloppement "old school" d\'applications web  ')),"\n",r.createElement(n.h2,null,"Introduction"),"\n",r.createElement(n.p,null,'Avant d\'entrer dans le vif du sujet, nous allons d√©couvrir une application associ√©e √† une pizzeria qui a √©t√© d√©velopp√©e "old school" en pur HTML / JS / CSS.'),"\n",r.createElement(n.p,null,'Nous allons rapidement voir comment cette application a √©t√© d√©velopp√©e, et pourquoi il est int√©ressant de d√©velopper autrement. Nous vous recommandons de ne pas passer plus de 10 minutes √† la d√©couverte de cette application "old school", car il n\'est pas n√©cessaire de comprendre en d√©tail le code de cette application pour la suite de ce cours.'),"\n",r.createElement(n.p,null,"Veuillez t√©l√©charger le code source de cette application ici : ",r.createElement(u,{name:"public.zip",target:"_blank",download:!0},"Pizzeria Old School"),".",r.createElement(n.br),"\n","Cette application est aussi disponible ici : ",r.createElement(n.a,{href:"https://github.com/e-vinci/ts-demos/tree/main/front/old-school"},"old-school"),"."),"\n",r.createElement(n.p,null,"D√©compressez le fichier et placez le contenu dans le dossier ",r.createElement(n.strong,null,r.createElement(n.code,null,"/tutorials/front/old-school"))," de votre repo git."),"\n",r.createElement(n.h2,null,'Ex√©cution de l\'application "old school"'),"\n",r.createElement(n.p,null,"Veuillez installer l'extension ",r.createElement(n.code,null,"Live Server")," au sein de VS Code."),"\n",r.createElement(n.p,null,"Veuillez ensuite ex√©cuter ",r.createElement(n.code,null,"index.hmtl")," en faisant un clic droit sur ce fichier dans l'explorer de VS Code, puis ",r.createElement(n.code,null,"Open with Live Server"),"."),"\n",r.createElement(n.h2,null,"Structure de l'IHM"),"\n",r.createElement(n.p,null,"Veuillez observer la structure de l'IHM de cette application web en parcourant tr√®s rapidement le fichier ",r.createElement(n.strong,null,r.createElement(n.code,null,"index.html")),". Celui-ci contient un header, un main et un footer."),"\n",r.createElement(n.p,null,"Le header contient un titre anim√©, le main contient un message et un lecteur audio, et le footer contient un titre anim√© et une image."),"\n",r.createElement(n.h2,null,"Gestion des assets"),"\n",r.createElement(n.p,null,"Pour int√©grer une image ou un son dans une page HTML, il suffit d'utiliser une balise ",r.createElement(n.code,null,"<img>")," ou ",r.createElement(n.code,null,"<audio>"),"."),"\n",r.createElement(n.p,null,"Le footer contient une image stock√©e dans ",r.createElement(n.strong,null,r.createElement(n.code,null,"/img/js-logo.png"))," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<img src="./img/js-logo.png" alt="" />\n')),"\n",r.createElement(n.p,null,"Le main contient un lecteur audio avec un son stock√© dans ",r.createElement(n.strong,null,r.createElement(n.code,null,"/sound/Infecticide-11-Pizza-Spinoza.mp3"))," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<audio id="audioPlayer" controls autoplay>\r\n  <source src="./sound/Infecticide-11-Pizza-Spinoza.mp3" type="audio/mpeg" />\r\n  Your browser does not support the audio element.\r\n</audio>\n')),"\n",r.createElement(n.p,null,"Ces ressources sont publi√©es √† l'aide de chemins relatifs sp√©cifi√©s dans les attributs ",r.createElement(n.code,null,"src"),"."),"\n",r.createElement(n.h2,null,"Mise en forme"),"\n",r.createElement(n.p,null,"A l'aide de CSS, cette application est styl√©e dans : ",r.createElement(n.strong,null,r.createElement(n.code,null,"/stylesheets/style.css")),". Jetez un rapide coup d'oeil √† ce fichier."),"\n",r.createElement(n.p,null,"Le layout de la page fait toujours, au minimum, la hauteur compl√®te du navigateur gr√¢ce :"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"√† un body repris comme un un √©l√©ment Flexbox faisant 100% de hauteur."),"\n",r.createElement(n.li,null,"le ",r.createElement(n.strong,null,r.createElement(n.code,null,"main"))," qui est styl√© pour remplir l'espace disponible."),"\n"),"\n",r.createElement(n.p,null,"Ainsi, le footer donne l'effet d'√™tre \"sticky\" en bas de page."),"\n",r.createElement(n.p,null,"De plus, ",r.createElement(n.strong,null,r.createElement(n.code,null,"/img/pizza.jpg"))," est utilis√© comme background de l'√©l√©ment ",r.createElement(n.strong,null,r.createElement(n.code,null,"html")),"."),"\n",r.createElement(n.p,null,"Cette balise dans ",r.createElement(n.strong,null,r.createElement(n.code,null,"index.html")),", √† la fin de la balise ",r.createElement(n.strong,null,r.createElement(n.code,null,"head")),", permet d'appliquer la stylesheet √† ",r.createElement(n.strong,null,r.createElement(n.code,null,"index.html"))," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<link rel="stylesheet" href="./stylesheets/style.css" />\n')),"\n",r.createElement(n.h2,null,"Ajout d'interactivit√©"),"\n",r.createElement(n.p,null,"Un script nomm√© ",r.createElement(n.strong,null,r.createElement(n.code,null,"/index.js"))," permet de g√©rer les clics des utilisateurs sur la page et de stopper / red√©marrer la musique. Veuillez parcourir tr√®s rapidement ce fichier."),"\n",r.createElement(n.p,null,"L'interactivit√© est ajout√©e √† la page en utilisant un script JS qui est inclus √† la fin de la balise ",r.createElement(n.strong,null,r.createElement(n.code,null,"body"))," de ",r.createElement(n.strong,null,r.createElement(n.code,null,"index.html"))," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<script src="./index.js"><\/script>\n')),"\n",r.createElement(n.h2,null,"Ajout d'une librairie externe"),"\n",r.createElement(n.p,null,"La librairie ",r.createElement(n.a,{href:"https://animate.style/"},"Animate.css")," ",r.createElement(n.a,{href:"/js2/references/#r32"},"[R.32]")," a √©t√© ajout√©e pour g√©rer une animation. Voici comment la librairie est appel√©e au sein de ",r.createElement(n.code,null,"/index.html")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<link\r\n  rel="stylesheet"\r\n  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"\r\n/>\n')),"\n",r.createElement(n.p,null,"L'application offre un titre qui rebondit en utilisant la classe CSS ",r.createElement(n.code,null,"animate__animated animate__bounce")," de cette librairie  directement au sein de ",r.createElement(n.code,null,"/index.html")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<h1 class="animate__animated animate__bounce">We love Pizza</h1>\n')),"\n",r.createElement(n.h2,null,"Pourquoi d√©velopper autrement ?"),"\n",r.createElement(n.p,null,"Bien que cette application fonctionne, elle n'est pas tr√®s maintenable. Le plus gros souci est la gestion des d√©pendances. En effet, si vous souhaitez mettre a jour la librairie ",r.createElement(n.code,null,"Animate.css"),", vous devrez le faire manuellement. Et que se passe-t-il si vous avez des dizaines de librairies √† g√©rer ?"),"\n",r.createElement(n.p,null,"De plus, la gestion du rendu de la page est assez complexe et pas optimis√©. C'est ainsi que React est n√© : pour simplifier la cr√©ation d'IHM complexes et pour g√©rer les mises √† jour de l'IHM de mani√®re efficace."),"\n",r.createElement(n.h1,null,r.createElement(i,null," Mise en place d'un projet Vite + React + TS ")),"\n",r.createElement(n.h2,null,"Choix des technologies"),"\n",r.createElement(n.p,null,"Comme annonc√© dans l'introduction (voir ",r.createElement(n.a,{href:"../../part0/js-context"},"Introduction"),"), nous allons d√©velopper nos Interfaces-Homme-Machine (IHM) √† l'aide de ",r.createElement(n.strong,null,"React"),"."),"\n",r.createElement(n.p,null,r.createElement(n.strong,null,"React")," est une librairie JS d√©velopp√©e par Facebook en 2013. Elle est utilis√©e pour cr√©er des interfaces utilisateur (UI) interactives et r√©actives."),"\n",r.createElement(n.p,null,r.createElement(n.strong,null,"React")," est bas√© sur des composants, des √©l√©ments r√©utilisables qui permettent de structurer une application web."),"\n",r.createElement(n.p,null,"Nous allons utiliser ",r.createElement(n.strong,null,"Vite")," pour la cr√©ation de nos projets web.\r\n",r.createElement(n.strong,null,"Vite")," est un outil de d√©veloppement permettant de d√©velopper des applications web avec des technologies modernes comme React, Vue, Svelte, TypeScript, SCSS, CSS, etc."),"\n",r.createElement(n.p,null,"Et plut√¥t que de faire du ",r.createElement(n.strong,null,"React")," en JavaScript, nous allons utiliser ",r.createElement(n.strong,null,"TypeScript"),", que vous connaissez d√©j√† un peu gr√¢ce √† la partie 1 de ce cours."),"\n",r.createElement(n.p,null,"Finalement, nous allons utiliser ",r.createElement(n.strong,null,"SWC")," qui est un transpiler TypeScript/JavaScript √©crit en Rust. Il permet de transpiler du code TypeScript en JavaScript tr√®s rapidement."),"\n",r.createElement(n.h2,null,"Cr√©ation d'un projet Vite + React + TypeScript + SWC"),"\n",r.createElement(n.h3,null,"Cr√©ation du projet en mode interactif"),"\n",r.createElement(n.p,null,"Nous allons cr√©er notre premier projet React nomm√© ",r.createElement(n.code,null,"components")," au sein de notre repo git."),"\n",r.createElement(n.p,null,"Au sein de VS Code, ouvrez un terminal dans le dossier de votre repo git contenant les tutorials (par exemple clic droit sur ",r.createElement(n.code,null,"web2/tutorials"),", ",r.createElement(n.code,null,"Open in Integrated Terminal"),") et tapez la commande suivante :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-bash"},"npm create vite@latest\n")),"\n",r.createElement(n.p,null,"Veuillez choisir comme nom de projet ",r.createElement(n.code,null,"components")," et ces technos:"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"React"),"\n",r.createElement(n.li,null,"TypeScript + SWC (Speedy Web Compiler, Rust-based)"),"\n"),"\n",r.createElement(n.p,null,"Pour ex√©cutez votre projet, veuillez taper les commandes suivantes :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-bash"},"npm i\r\nnpm run dev\n")),"\n",r.createElement(n.h3,null,"Cr√©ation du projet en une seule ligne de commande"),"\n",r.createElement(n.p,null,"Il est possible de cr√©er un projet avec une seule ligne de commande, sans passer par le mode interactif, en s√©lectionnant les technologies appliqu√©es dans ce cours :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-bash"},"npm create vite@latest PROJECT_NAME -- --template react-swc-ts\n")),"\n",r.createElement(n.h1,null,r.createElement(i,null," Les composants React ")),"\n",r.createElement(n.p,null,"Veuillez observer le code de votre projet. Vous avez un fichier ",r.createElement(n.code,null,"App.tsx"),' qui d√©finit un "React component" ayant le nom ',r.createElement(n.code,null,"App"),"."),"\n",r.createElement(n.p,null,"Ce composant est en fait une fonction JavaScript. Elle ressemble √† cela :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},"function App() {\r\n  return (\r\n    // Qqch qui ressemble √† de l'HTML\r\n  )\r\n}\r\nexport default App\n")),"\n",r.createElement(n.p,null,"Un ",r.createElement(n.strong,null,"composant")," React doit :"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"toujours ",r.createElement(n.strong,null,"commencer")," par une ",r.createElement(n.strong,null,"majuscule")," !  Sinon React ne serait pas capable de distinguer entre de simples balises HTML et vos composants."),"\n",r.createElement(n.li,null,"doit renvoyer un seul √©l√©ment. Par exemple, cela n'est pas autoris√© et ne compilerait pas (car renvoi de 3 √©l√©ments) :"),"\n"),"\n",r.createElement(n.pre,{highlighting:"3-5"},r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (   \r\n      <Header title="We love Pizza" version={0+1} />\r\n      <Main />\r\n      <Footer />\r\n  );\r\n}\n')),"\n",r.createElement(n.p,null,"Nous pourrions soit renvoyer tout cela dans une ",r.createElement(n.code,null,"div"),', ou utiliser un "fragment", un √©l√©ment vide (',r.createElement(n.code,null,"<></>"),") :"),"\n",r.createElement(n.pre,{highlighting:"3,7"},r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <>\r\n      <Header title="We love Pizza" version={0+1} />\r\n      <Main />\r\n      <Footer />\r\n    </>\r\n  );\r\n}\n')),"\n",r.createElement(n.p,null,"Un composant React est donc g√©n√©ralement une fonction qui doit √™tre export√©e √† la fin du fichier."),"\n",r.createElement(n.p,null,"‚ö°Ô∏è N'oubliez jamais d'exporter vos composants React s'ils doivent √™tre import√© dans un autre script !"),"\n",r.createElement(n.p,null,"NB : Pour rappel, il y a plusieurs fa√ßons de d√©finir des fonctions en JS : function arrows, fonctions nomm√©es, fonctions anonymes... Nous verrons cela plus en d√©tails plus tard."),"\n",r.createElement(n.p,null,r.createElement(n.code,null,"main.tsx")," s'occupe de rendre le composant ",r.createElement(n.code,null,"App")," dans une ",r.createElement(n.code,null,"div")," qui a un id dont la valeur vaut ",r.createElement(n.code,null,"root")," dans ",r.createElement(n.code,null,"index.html"),"."),"\n",r.createElement(n.p,null,"Voici le code de ",r.createElement(n.code,null,"main.tsx")," o√π l'on va r√©cup√©rer l'acc√®s √† la ",r.createElement(n.code,null,"div#root")," (css selector pour indiquer la ",r.createElement(n.code,null,"div")," qui a l'",r.createElement(n.code,null,"id")," root) via ",r.createElement(n.code,null,"document.getElementById('root')"),":"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"ReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n)\n")),"\n",r.createElement(n.p,null,"üí≠ Qu'est-ce que l'op√©rateur ",r.createElement(n.code,null,"!")," ci-dessus ?\r\nIl permet d'assurer au compilateur que ",r.createElement(n.code,null,"document.getElementById('root')"),' ne sera jamais nul... Cela fait partie de la "null safety"... Nous allons expliciter tout cela plus tard.'),"\n",r.createElement(n.p,null,"Qu'est-ce que ",r.createElement(n.code,null,"<React.StrictMode>")," ? Le StrictMode  est con√ßu pour vous aider √† √©crire des applications robustes et √©volutives tout en adoptant les meilleures pratiques recommand√©es par l'√©quipe de React : aide √† la d√©tection de probl√®mes comme des pratiques d√©pr√©ci√©es, double rendu temporaire en d√©veloppement pour d√©tecter des effets secondaires lors d'op√©ration de lecture & √©criture d'√©tats dans des composants..."),"\n",r.createElement(n.p,null,"‚ö°Ô∏è Pens√©e pour plus tard...",r.createElement(n.br),"\n","Pensez √† vous souvenir, si un jour vous ne comprenez pas pourquoi un composant est rendu 2 fois au lieu d'une... c'est probablement que vous √™tes en ",r.createElement(n.code,null,"StrictMode"),"..."),"\n",r.createElement(n.p,null,"Voici le code de ",r.createElement(n.code,null,"index.html")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-html"},'<!doctype html>\r\n<html lang="en">\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\r\n    <title>Vite + React + TS</title>\r\n  </head>\r\n  <body>\r\n    <div id="root"></div>\r\n    <script type="module" src="/src/main.tsx"><\/script>\r\n  </body>\r\n</html>\n')),"\n",r.createElement(n.h1,null,r.createElement(i,null," TSX ")),"\n",r.createElement(n.h2,null,"Introduction"),"\n",r.createElement(n.p,null,"Regardez bien le fichier ",r.createElement(n.code,null,"App.tsx")," : il semblerait que les composants React retournent des balises HTML.\r\nMais √ßa n'est pas le cas !",r.createElement(n.br),"\n","Bien que TSX ressemble √† de l'HTML, c'est finalement du JS qui sera compil√©..."),"\n",r.createElement(n.p,null,"Nous allons voir comment le code TSX est transpil√© en JavaScript, et comment il est ex√©cut√© par le navigateur."),"\n",r.createElement(n.h2,null,"Transpilation/Compilation"),"\n",r.createElement(n.ol,null,"\n",r.createElement(n.li,null,"Transpilation TypeScript vers JavaScript: Le code TSX est transpil√© en JavaScript par le compilateur TypeScript (tsc). Ce processus convertit le code TypeScript en code JavaScript tout en supprimant les annotations de type."),"\n",r.createElement(n.li,null,"Conversion JSX/TSX vers JavaScript: Le JSX/TSX est √©galement transform√© en appels ",r.createElement(n.code,null,"React.createElement"),", qui est la forme JavaScript compr√©hensible par le moteur JavaScript.\r\nPar exemple, pour ce composant TSX permettant d'afficher un message de bienvenue (nous verrons plus tard la syntaxe associ√©e) :"),"\n"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},"import React from 'react';\r\n\r\ninterface GreetingProps {\r\n  name: string;\r\n}\r\n\r\nconst Greeting = ({ name }: GreetingProps) => {\r\n  return <h1>Hello, {name}!</h1>;\r\n};\r\n\r\nexport default Greeting;\n")),"\n",r.createElement(n.p,null,"Ce composant ci-dessus serait compil√© en JavaScript de la mani√®re suivante :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'const Greeting = ({ name }) => {\r\n  return React.createElement("h1", null, `Hello, ${name}!`);\r\n};\n')),"\n",r.createElement(n.h2,null,"Ex√©cution"),"\n",r.createElement(n.p,null,"Le code r√©sultant est du JavaScript standard. Les navigateurs ex√©cutent ce code JavaScript. Ils ne comprennent pas TypeScript directement, donc tout le code TypeScript doit √™tre transpil√© en JavaScript avant l'ex√©cution."),"\n",r.createElement(n.p,null,"En conclusion, bien que les composants soient √©crits en TypeScript (TSX) pour b√©n√©ficier de ses fonctionnalit√©s, le code ex√©cut√© par React et le navigateur est du JavaScript."),"\n",r.createElement(n.p,null,"Pour rentrer dans le vif du sujet, nous allons convertir l'application associ√©e √† une pizzeria qui a √©t√© d√©velopp√©e \"old school\", et l'int√©grer dans notre environnement Vite React TS SWC...\r\nVeuillez copier le code HTML dans ",r.createElement(n.code,null,"App.tsx")," afin de cr√©er les √©l√©ments TSX correspondants :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'import "./App.css";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <header>\r\n            <h1 class="animate__animated animate__bounce">We love Pizza</h1>\r\n          </header>\r\n\r\n          <main>\r\n            <p>My HomePage</p>\r\n            <p>\r\n              Because we love JS, you can also click on the header to stop / start the\r\n              music ; )\r\n            </p>\r\n\r\n            <audio id="audioPlayer" controls autoplay>\r\n              <source\r\n                src="./sound/Infecticide-11-Pizza-Spinoza.mp3"\r\n                type="audio/mpeg"\r\n              />\r\n              Your browser does not support the audio element.\r\n            </audio>\r\n          </main>\r\n\r\n          <footer>\r\n            <h1 class="animate__animated animate__bounce animate__delay-2s">\r\n              But we also love JS\r\n            </h1>\r\n            <img src="./img/js-logo.png" alt="" />\r\n          </footer>\r\n        </>\r\n  );\r\n}\r\n\r\nexport default App;\n')),"\n",r.createElement(n.p,null,'Pour adapter le code "old school" √† React, il faut transformer :'),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,r.createElement(n.code,null,"class")," en ",r.createElement(n.code,null,"className")),"\n",r.createElement(n.li,null,r.createElement(n.code,null,"autoplay")," en ",r.createElement(n.code,null,"autoPlay")),"\n"),"\n",r.createElement(n.p,null,"Veuillez ajouter le fichier audio du projet ",r.createElement(n.code,null,"old-school")," dans :",r.createElement(n.code,null," /src/assets/sounds/Infecticide-11-Pizza-Spinoza.mp3"),"."),"\n",r.createElement(n.p,null,"Veuillez changer le chemin vers le fichier audio dans ",r.createElement(n.code,null,"App.tsx")," :"),"\n",r.createElement(n.pre,{highlighting:"3"},r.createElement(n.code,{className:"language-tsx"},'<audio id="audioPlayer" controls autoplay>\r\n        <source\r\n          src="./assets/sounds/Infecticide-11-Pizza-Spinoza.mp3"\r\n          type="audio/mpeg"\r\n        />\r\n        Your browser does not support the audio element.\r\n      </audio>\n')),"\n",r.createElement(n.p,null,"Ca ne fonctionne pas !\r\nEn effet, vous utilisez Vite comme module bundler. Le fichier n'est pas servi l√† o√π vous le pensez."),"\n",r.createElement(n.h1,null,r.createElement(i,null," Gestion des assets avec Vite : sons & images ")),"\n",r.createElement(n.h2,null,"Introduction"),"\n",r.createElement(n.p,null,"Lors de la compilation, vos assets (fichiers statiques tels que des images, des sons, des vid√©os, des scripts...) pourrons √™tre optimis√©s par votre module bundler et se trouveront dans un r√©pertoire et sous un nom que vous ne ma√Ætrisez pas."),"\n",r.createElement(n.p,null,"Pour conna√Ætre le chemin exact de votre fichier apr√®s le build, vous devez le demander √† votre application en faisant un ",r.createElement(n.code,null,"import"),"."),"\n",r.createElement(n.h2,null,"Import de sons"),"\n",r.createElement(n.p,null,"Veuillez changer  ",r.createElement(n.code,null,"App.tsx")," pour y importer le fichier son de la pizzeria :"),"\n",r.createElement(n.pre,{highlighting:"1,7"},r.createElement(n.code,{className:"language-tsx"},'import sound from "./assets/sounds/Infecticide-11-Pizza-Spinoza.mp3"\r\n\r\n// Reste du code\r\n\r\n <audio id="audioPlayer" controls autoPlay>\r\n          <source\r\n            src={sound}\r\n            type="audio/mpeg"\r\n          />\r\n          Your browser does not support the audio element.\r\n</audio>\n')),"\n",r.createElement(n.p,null,"La variable ",r.createElement(n.code,null,"sound")," contient le chemin du fichier son lors de la compilation."),"\n",r.createElement(n.h2,null,"Import d'images"),"\n",r.createElement(n.p,null,"A partir du projet ",r.createElement(n.code,null,"old-school"),", veuillez ajouter les deux images ",r.createElement(n.code,null,"js-logo.png")," et ",r.createElement(n.code,null,"pizza.jpg"),"et le svg ",r.createElement(n.code,null,"pizza-svgrepo-com.svg")," dans ",r.createElement(n.code,null,"/src/assets/images"),"."),"\n",r.createElement(n.p,null,"Dans ",r.createElement(n.code,null,"App.tsx"),", veuillez commencer par importer les deux images :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'import logo from "./assets/img/js-logo.png";\r\nimport pizzaBackground from "./assets/img/pizza.jpg";\n')),"\n",r.createElement(n.p,null,"Ces deux variables peuvent √™tre utilis√©es comme chemins dans nos balises ",r.createElement(n.code,null,"img"),"."),"\n",r.createElement(n.p,null,"Pour le footer, il est simple de faire le lien vers le logo de JS :"),"\n",r.createElement(n.pre,{highlighting:"5"},r.createElement(n.code,{className:"language-tsx"},'<footer>\r\n        <h1 className="animate__animated animate__bounce animate__delay-2s">\r\n          But we also love JS\r\n        </h1>\r\n        <img src={logo} alt="" />\r\n</footer>\n')),"\n",r.createElement(n.p,null,"Par contre, pour avoir une image de background, √ßa n'est pas si √©vident. Pour rappel, React s'occupe d'offrir un point d'acc√®s au fichier ",r.createElement(n.code,null,"index.html"),", √† une ",r.createElement(n.code,null,"div#id")," qui se trouve dans le ",r.createElement(n.code,null,"body"),"."),"\n",r.createElement(n.p,null,"Une des fa√ßons de faire, c'est que nous pourrions cr√©er une nouvelle balise ",r.createElement(n.code,null,"div")," comme premier √©l√©ment de ",r.createElement(n.code,null,"App"),", et changer son ",r.createElement(n.code,null,"style")," pour avoir une ",r.createElement(n.code,null,"backgroundImage"),":"),"\n",r.createElement(n.pre,{highlighting:"3"},r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <div style={{ backgroundImage: `url(${pizzaBackground})` }}>\r\n      <header>\r\n        <h1 className="animate__animated animate__bounce">We love Pizza</h1>\r\n      </header>\r\n\r\n      <main>\r\n        <p>My HomePage</p>\r\n        <p>\r\n          Because we love JS, you can also click on the header to stop / start\r\n          the music ; )\r\n        </p>\r\n\r\n        <audio id="audioPlayer" controls autoPlay>\r\n          <source src={sound} type="audio/mpeg" />\r\n          Your browser does not support the audio element.\r\n        </audio>\r\n      </main>\r\n\r\n      <footer>\r\n        <h1 className="animate__animated animate__bounce animate__delay-2s">\r\n          But we also love JS\r\n        </h1>\r\n        <img src={logo} alt="" />\r\n      </footer>\r\n    </div>\r\n  );\r\n}\n')),"\n",r.createElement(n.p,null,"Veuillez regarder le r√©sultat visuel actuel dans votre browser. Cela n'est pas tr√®s beau, il y a du travail √† faire au niveau du CSS."),"\n",r.createElement(n.h1,null,r.createElement(i,null," Gestion du CSS ")),"\n",r.createElement(n.h2,null,"Introduction"),"\n",r.createElement(n.p,null,"Nous souhaitons reprendre le style de l'application initial, tout en int√©grant la philosophie propos√©e par React pour g√©rer les fichiers ",r.createElement(n.code,null,".css"),"."),"\n",r.createElement(n.h2,null,"Style g√©n√©ral du layout de toutes les pages"),"\n",r.createElement(n.p,null,"Pour ce faire, nous voyons que ",r.createElement(n.code,null,"index.css")," permet de g√©rer le style de ",r.createElement(n.code,null,"index.html"),", pour ce qui concerne principalement le style de la balise ",r.createElement(n.code,null,"html")," et ",r.createElement(n.code,null,"body"),"."),"\n",r.createElement(n.p,null,"Nous allons remplacer ",r.createElement(n.code,null,"index.css")," par ce contenu afin d'ajouter une image d'une pizza en background :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-css"},"html,\r\nbody {\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nhtml {\r\n  background-image: url(./assets/images/pizza.jpg);\r\n  background-size: cover;\r\n}\n")),"\n",r.createElement(n.p,null,"On peut voir ici avec ",r.createElement(n.code,null,"url(./assets/images/pizza.jpg)")," que notre outil ",r.createElement(n.code,null,"Vite")," va s'occuper d'importer le fichier ",r.createElement(n.code,null,"pizza.jpg")," et de r√©cup√©rer le bon chemin vers ce fichier lors du build."),"\n",r.createElement(n.h2,null,"Style des composants React"),"\n",r.createElement(n.p,null,"Chaque composant React devrait pouvoir √™tre r√©utilis√© facilement dans d'autres applications. Ainsi, il est int√©ressant d'attacher les feuilles de style √† leur composant React.",r.createElement(n.br),"\n","Si l'on consid√®re le composant ",r.createElement(n.code,null,"App"),", son style va √™tre g√©r√© par un fichier nomm√© ",r.createElement(n.code,null,"App.css")," qui se trouvera dans le m√™me dossier que ",r.createElement(n.code,null,"App.tsx"),"."),"\n",r.createElement(n.p,null,"Veuillez donc donner le style √† votre composant ",r.createElement(n.code,null,"App")," en rempla√ßant le contenu de ",r.createElement(n.code,null,"App.css")," par celui-ci :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-css"},"div#root {\r\n  height: 100%;\r\n  display: inline-block; /* avoid margins to collapse to avoid vertical scrollbar */\r\n  width: 100%;\r\n}\r\n\r\n.page {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n}\r\n\r\nheader {\r\n  text-align: center;\r\n}\r\n\r\nmain {\r\n  text-align: center;\r\n  /*to easily deal with sticky footer:\r\n   grow the main to fill the space*/\r\n  flex: 1 0 auto;\r\n}\r\n\r\nfooter {\r\n  text-align: center;\r\n}\r\n\r\nfooter img {\r\n  height: 50px;\r\n}\r\n\r\nfooter h1 {\r\n  color: white;\r\n}\n")),"\n",r.createElement(n.p,null,"Nous avons cr√©√© un classe ",r.createElement(n.code,null,"page")," qui doit √™tre appliqu√©e √† notre premi√®re balise ",r.createElement(n.code,null,"div")," dans ",r.createElement(n.code,null,"App.tsx")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <div className="page">\n')),"\n",r.createElement(n.p,null,"Veuillez visualiser l'√©tat de notre application : elle commence √† ressembler √† quelque chose !"),"\n",r.createElement(n.h1,null,r.createElement(i,null," Cr√©ation de composants React  ")),"\n",r.createElement(n.h2,null,"Introduction"),"\n",r.createElement(n.p,null,"Il est int√©ressant de pouvoir structurer ses applications en plusieurs composants potentiellement r√©utilisables dans d'autres applications."),"\n",r.createElement(n.p,null,"Si l'on regarde attentivement notre composant ",r.createElement(n.code,null,"App"),", nous voyons qu'il y a 3 grandes parties :"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"Un ",r.createElement(n.code,null,"Header")," qui devrait √™tre le m√™me sur toutes les √©ventuelles futures pages."),"\n",r.createElement(n.li,null,"Un ",r.createElement(n.code,null,"Main")," qui reprendra le contenu int√©ressant associ√© √† chaque page."),"\n",r.createElement(n.li,null,"Un ",r.createElement(n.code,null,"Footer")," qui l√† aussi devrait √™tre le m√™me sur toutes les √©ventuelles futures pages."),"\n"),"\n",r.createElement(n.p,null,"D√®s lors, nous pourrions cr√©er trois composants React pour mieux structurer notre page."),"\n",r.createElement(n.h2,null,"Cr√©ation de composants internes √† un composant"),"\n",r.createElement(n.p,null,"Si nous partions de ces hypoth√®ses :"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"nous ne souhaitons jamais r√©utiliser le ",r.createElement(n.code,null,"Header"),", le ",r.createElement(n.code,null,"Main")," et le ",r.createElement(n.code,null,"Footer")," √† l'ext√©rieur de ",r.createElement(n.code,null,"App.tsx"),","),"\n",r.createElement(n.li,null,"le code de",r.createElement(n.code,null," App.tsx")," n'est pas trop volumineux,\r\nalors il est totalement acceptable de consid√©rer cr√©er ces composants √† l'int√©rieur du module ",r.createElement(n.code,null,"App"),"."),"\n"),"\n",r.createElement(n.p,null,"NB : Nous appelons un ",r.createElement(n.strong,null,"module")," tout script que nous pouvons importer dans notre application."),"\n",r.createElement(n.p,null,"Voici comment nous pouvons cr√©er 3 composants React et les utiliser au sein du composant ",r.createElement(n.code,null,"App"),". Veuillez mettre √† jour ",r.createElement(n.code,null,"App.tsx")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <div className="page">\r\n      <Header></Header>\r\n      <Main />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <h1 className="animate__animated animate__bounce">We love Pizza</h1>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst Main = () => {\r\n  return (\r\n    <main>\r\n      <p>My HomePage</p>\r\n      <p>\r\n        Because we love JS, you can also click on the header to stop / start the\r\n        music ; )\r\n      </p>\r\n      <audio id="audioPlayer" controls autoPlay>\r\n        <source src={sound} type="audio/mpeg" />\r\n        Your browser does not support the audio element.\r\n      </audio>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <h1 className="animate__animated animate__bounce animate__delay-2s">\r\n        But we also love JS\r\n      </h1>\r\n      <img src={logo} alt="" />\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default App;\n')),"\n",r.createElement(n.p,null,"Nous voyons que chaque nouveau composant a √©t√© d√©fini ici comme une ",r.createElement(n.strong,null,"function arrow"),".",r.createElement(n.br),"\n","Ensuite, afin d'utiliser un composant, nous cr√©ons ce que nous appelons un √©l√©ment React d'un composant. Ici, ",r.createElement(n.code,null,"<Header />")," est un √©l√©ment du composant ",r.createElement(n.code,null,"Header"),"."),"\n",r.createElement(n.p,null,"Tout comme en HTML, la balise ",r.createElement(n.code,null,"<Header />")," est la contraction de ",r.createElement(n.code,null,"<Header></Header>"),"."),"\n",r.createElement(n.p,null,"Notre code devient nettement plus lisible avec ces nouveaux composants.\r\nIl se lit comme une histoire, j'ai une ",r.createElement(n.code,null,"App")," qui est constitu√©e de 3 √©l√©ments... Si je veux les d√©tails de chaque composant associ√© √† un √©l√©ment, il suffit d'aller plus bas et de lire le code associ√©."),"\n",r.createElement(n.h2,null,"√âl√©ments multiples"),"\n",r.createElement(n.p,null,"Si nous souhaitons avoir trois ",r.createElement(n.code,null,"Headers")," dans notre page, il suffit de faire appel trois fois √† ",r.createElement(n.code,null,"<Header/>")," au sein de ",r.createElement(n.code,null,"App")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <div className="page">\r\n      <Header/>\r\n      <Header/>\r\n      <Header/>\r\n      <Main />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\n')),"\n",r.createElement(n.h1,null,r.createElement(i,null," Les props et la d√©finition de type  ")),"\n",r.createElement(n.h2,null,"Les props"),"\n",r.createElement(n.p,null,"Il est int√©ressant de pouvoir passer des donn√©es √† ses composants. Nous le faisons √† l'aide de ce que nous appelons en React, des ",r.createElement(n.strong,null,"props"),"."),"\n",r.createElement(n.p,null,'Cela va nous permettre de cr√©er des composants "configurables" via leur props. C\'est int√©ressant car √ßa va nous amener √† b√©n√©ficier de composants plus facilement r√©utilisables dans diff√©rents contextes.'),"\n",r.createElement(n.p,null,"Par exemple, ici, ",r.createElement(n.code,null,"Header")," devrait pouvoir offrir une propri√©t√© permettant de d√©finir le titre du header. Transformons ",r.createElement(n.code,null,"Header")," ainsi :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'const Header = (props) => {\r\n  return (\r\n    <header>\r\n      <h1 className="animate__animated animate__bounce">{props.title}</h1>\r\n    </header>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"Si vous faites cela et que vous avez install√© et activ√© votre Linter (plus de d√©tails plus loin, l'extension ESLint de VS Code doit √™tre install√©e), vous verrez que cette fonction JavaScript am√®ne √† cette erreur dans votre √©diteur de code : ",r.createElement(n.code,null,"Parameter 'props' implicitly has an 'any' type"),".",r.createElement(n.br),"\n","Notez aussi que malgr√© les erreurs de lecture statique de votre code, votre code compile...",r.createElement(n.br),"\n","N√©anmoins, il est important d'√©crire du code propre."),"\n",r.createElement(n.p,null,'En TypeScript, nous devons sp√©cifier les types des variables au minimum pour les cas o√π TypeScript ne peut pas "inf√©rer" (ou d√©duire) le type.'),"\n",r.createElement(n.h2,null,"D√©finition de types"),"\n",r.createElement(n.p,null,"Pour rappel, pour d√©finir un type en TS, il y a deux principales fa√ßons de le faire. Soit √† l'aide de ",r.createElement(n.code,null,"type"),", soit √† l'aide de ",r.createElement(n.code,null,"interface"),".",r.createElement(n.br),"\n","Dans ce cours, nous avons choisi d'utiliser ",r.createElement(n.code,null,"interface")," pour d√©finir la structure d'objets."),"\n",r.createElement(n.p,null,"Voici comment on d√©fini de la mani√®re la plus claire et la plus concise un type pour les props du composant ",r.createElement(n.code,null,"Header")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'interface HeaderProps {\r\n  title: string;\r\n}\r\n\r\nconst Header = (props: HeaderProps) => {\r\n  return (\r\n    <header>\r\n      <h1 className="animate__animated animate__bounce">{props.title}</h1>\r\n    </header>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"Le type ",r.createElement(n.code,null,"HeaderProps")," est compos√© d'un ",r.createElement(n.code,null,"title")," uniquement. Le param√®tre du composant ",r.createElement(n.code,null,"Header")," re√ßoit un objet de ce type (via le ",r.createElement(n.code,null,"props:HeaderProps"),") contenant toutes les props que l'utilisateur du composant d√©finit."),"\n",r.createElement(n.p,null,"Pour le composant ",r.createElement(n.code,null,"Header"),", TS est capable d'inf√©rer le type de retour de la fonction React. Si l'on avait voulu, on aurait pu expliciter le type de retour en ",r.createElement(n.code,null,"JSX.Element")," ainsi :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'const Header = (props: HeaderProps): JSX.Element => {\r\n  return (\r\n    <header>\r\n      <h1 className="animate__animated animate__bounce">{props.title}</h1>\r\n    </header>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"Nous estimons que dans ce cas, il n'est pas utile d'expliciter le type de retour."),"\n",r.createElement(n.p,null,"Il aurait aussi √©t√© possible d'utiliser du ",r.createElement(n.strong,null,"inline prop type annotation")," pour typer ",r.createElement(n.code,null,"props")," ainsi :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'const Header = (props: {title:string}) => {\r\n  return (\r\n    <header>\r\n      <h1 className="animate__animated animate__bounce">{props.title}</h1>\r\n    </header>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"Cette notation, sans utiliser les interface, est acceptable dans les cas o√π vous avez des composants tr√®s simples, avec peu de props, ou en phase de prototypage (pour aller vite)."),"\n",r.createElement(n.p,null,"üëç N√©anmoins, en r√®gle g√©n√©rale, vous devez utiliser ",r.createElement(n.code,null,"interface")," pour d√©finir le type de composants que vous souhaitez r√©utiliser, afin d'am√©liorer la lisibilit√© (coh√©rence entre tous les composants) et la maintenabilit√© de votre code."),"\n",r.createElement(n.p,null,"Voici comment on passe les props √† un √©l√©ment React :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <div className="page">\r\n      <Header title="We love Pizza"/>\r\n      <Main />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\n')),"\n",r.createElement(n.p,null,"Si l'on souhaitait ajouter une deuxi√®me propri√©t√© qui indiquerait un num√©ro de version, on pourrait le faire ainsi."),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'interface HeaderProps {\r\n  title: string;\r\n  version:number;\r\n}\r\n\r\nconst Header = (props: HeaderProps) => {\r\n  return (\r\n    <header>\r\n      <h1 className="animate__animated animate__bounce">{props.title}</h1>\r\n      <h4>Version: {props.version}</h4>\r\n    </header>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"üí≠ On voit que le linter indique une erreur si on ajoute pas la props ",r.createElement(n.code,null,"version")," lorsqu'on cr√©√© un √©l√©ment. Pourtant l'application compile toujours...",r.createElement(n.br),"\n","Si l'on souhaite se forcer √† √©crire du code propre, √ßa n'est pas une bonne chose que √ßa compile. Nous verrons plus loin comment afficher les erreurs de linter dans le browser."),"\n",r.createElement(n.p,null,"Nous allons maintenant ajouter le num√©ro de version attendu par notre √©l√©ment de type ",r.createElement(n.code,null,"Header"),":"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'function App() {\r\n  return (\r\n    <div className="page">\r\n      <Header title="We love Pizza" version={0+1} />\r\n      <Main />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\n')),"\n",r.createElement(n.p,null,"Nous voyons que lorsque nous passons des props, nous pouvons donner comme valeur d'une props le r√©sultat d'une expression JavaScript. Toute expression JavaScript (ici une b√™te addition : ",r.createElement(n.code,null,"{0+1}"),") doit √™tre plac√©e entre accolade au sein du code TSX."),"\n",r.createElement(n.p,null,"Si n√©cessaire, vous pouvez trouver le code associ√© √† ce tutoriel ici : ",r.createElement(n.a,{href:"https://github.com/e-vinci/ts-demos/tree/main/front/components"},"components"),"."),"\n",r.createElement(n.h1,null,r.createElement(i,null," Exercice 2.1 : Cr√©ation de composants int√©gr√©s  ")),"\n",r.createElement(n.p,null,"Veuillez cr√©er un nouveau projet en utilisant les technos Vite + React + TS + SWC nomm√© ",r.createElement(n.code,null,"/exercises/2.1-2-3-4")," dans votre git repo."),"\n",r.createElement(n.p,null,"Veuillez supprimer les fichiers non utilis√©s (",r.createElement(n.code,null,".css"),", assets...)."),"\n",r.createElement(n.p,null,"Voici le code de d√©part du composant ",r.createElement(n.code,null,"App")," (√† mettre dans ",r.createElement(n.code,null,"App.tsx"),") :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'const App = () => {\r\n  const pageTitle = "Informations sur les films dans les cin√©mas";\r\n\r\n  const cinema1Name = "UGC DeBrouck√®re";\r\n  const cinema1Movie1Title = "Film 1 - DeBrouck√®re";\r\n  const cinema1Movie1Director = "Director A";\r\n  const cinema1Movie2Title = "Film 2 - DeBrouck√®re";\r\n  const cinema1Movie2Director = "Director B";\r\n\r\n  const cinema2Name = "UGC Toison d\'Or";\r\n  const cinema2Movie1Title = "Film 1 - Toison d\'Or";\r\n  const cinema2Movie1Director = "Director C";\r\n  const cinema2Movie2Title = "Film 2 - Toison d\'Or";\r\n  const cinema2Movie2Director = "Director D";\r\n\r\n  return (\r\n    <div>\r\n      <h1>{pageTitle}</h1>\r\n\r\n      <div>\r\n        <h2>{cinema1Name}</h2>\r\n        <ul>\r\n          <li>\r\n            <strong>{cinema1Movie1Title}</strong> - R√©alisateur :{" "}\r\n            {cinema1Movie1Director}\r\n          </li>\r\n          <li>\r\n            <strong>{cinema1Movie2Title}</strong> - R√©alisateur :{" "}\r\n            {cinema1Movie2Director}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div>\r\n        <h2>{cinema2Name}</h2>\r\n        <ul>\r\n          <li>\r\n            <strong>{cinema2Movie1Title}</strong> - R√©alisateur :{" "}\r\n            {cinema2Movie1Director}\r\n          </li>\r\n          <li>\r\n            <strong>{cinema2Movie2Title}</strong> - R√©alisateur :{" "}\r\n            {cinema2Movie2Director}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n')),"\n",r.createElement(n.p,null,"Le code n'est pas tr√®s propre üò±.",r.createElement(n.br),"\n",'Veuillez faire un "refactor" de ce code afin que deux nouveaux composants permettent :'),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"d'afficher le titre de la page"),"\n",r.createElement(n.li,null,"d'afficher toutes les informations associ√©es au premier cinema"),"\n",r.createElement(n.li,null,"d'afficher toutes les informations associ√©es du deuxi√®me cin√©ma"),"\n"),"\n",r.createElement(n.p,null,"Les nouveaux composants doivent se trouver dans ",r.createElement(n.code,null,"App.tsx"),".",r.createElement(n.br),"\n","S'il y a de l'info √† donner √† un composant, faites le √† l'aide des props. M√™me si √ßa n'est pas des plus propres, un composant ",r.createElement(n.code,null,"Cinema")," re√ßoit toutes les infos sans cr√©er de nouveaux types abstrait (comme ",r.createElement(n.code,null,"Movie")," par exemple)."),"\n",r.createElement(n.p,null,"‚ö°Ô∏è Veuillez avancer pas √† pas et ne pas tenter de programmer tous vos composants d'un coup. Une fois qu'un composant fonctionne, passez alors seulement au suivant ; )"),"\n",r.createElement(n.p,null,"Voila √† quoi ressemblera ",r.createElement(n.code,null,"App")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-tsx"},'const App = () => {\r\n  const pageTitle = "Informations sur les films dans les cin√©mas";\r\n  // ... for const definitions\r\n\r\n  return (\r\n    <div>\r\n      <PageTitle title={pageTitle} />\r\n\r\n      <Cinema\r\n        name={cinema1Name}\r\n        movie1Title={cinema1Movie1Title}\r\n        // ...\r\n      />\r\n\r\n      <Cinema\r\n        name={cinema2Name}\r\n        //...\r\n      />\r\n    </div>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"Une fois tout fonctionnel, veuillez faire un commit avec le message suivant : ",r.createElement(n.strong,null,r.createElement(n.code,null,"new:ex2.1"))),"\n",r.createElement(n.h1,null,r.createElement(i,null," Exercice 2.2 : Meilleure gestion des types  ")),"\n",r.createElement(n.p,null,"Nous allons continuer le projet de votre exercice pr√©c√©dent qui se trouve dans le dossier ",r.createElement(n.code,null,"/exercises/2.1-2-3-4")," dans votre repo git."),"\n",r.createElement(n.p,null,"Nous avons vu pr√©c√©demment qu'il est recommand√©, pour un code propre, de d√©finir des types pour chacune des props de nos composants."),"\n",r.createElement(n.p,null,"De plus, notre client nous a donn√© une nouvelle version des donn√©es d'entr√©e du composant ",r.createElement(n.code,null,"App")," qui n'est pas parfaite, mais qui s'am√©liore. Voici ces donn√©es, ainsi qu'une id√©e du r√©sultat du composant ",r.createElement(n.code,null,"App")," :"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},'const App = () => {\r\n  const pageTitle = "Informations sur les films dans les cin√©mas";\r\n\r\n  const cinema1Name = "UGC DeBrouck√®re";\r\n\r\n  const movie1 = {\r\n    title: "HAIKYU-THE DUMPSTER BATTLE",\r\n    director: "Susumu Mitsunaka",\r\n  };\r\n  const movie2 = {\r\n    title: "GOODBYE JULIA ",\r\n    director: "Mohamed Kordofani",\r\n  };\r\n\r\n  const cinema2Name = "UGC Toison d\'Or";\r\n  const movie3 = {\r\n    title: "THE WATCHERS",\r\n    director: "Ishana Night Shyamalan",\r\n  };\r\n  const movie4 = {\r\n    title: "BAD BOYS: RIDE OR DIE",\r\n    director: "Adil El Arbi, Bilall Fallah",\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PageTitle title={pageTitle} />\r\n\r\n      <Cinema name={cinema1Name} movie1={movie1} movie2={movie2} />\r\n\r\n      <Cinema name={cinema2Name} movie1={movie3} movie2={movie4} />\r\n    </div>\r\n  );\r\n};\n')),"\n",r.createElement(n.p,null,"Pour cet exercice nous souhaitons :"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"qu'un type abstrait ",r.createElement(n.code,null,"Movie")," soit cr√©√© qui contiendra un ",r.createElement(n.code,null,"title")," et un ",r.createElement(n.code,null,"director")," ;"),"\n",r.createElement(n.li,null,"qu'un type abstrait ",r.createElement(n.code,null,"PageTitleProps")," soit cr√©√© ;"),"\n",r.createElement(n.li,null,"qu'un type abstrait ",r.createElement(n.code,null,"CinemaProps")," soit cr√©√©."),"\n"),"\n",r.createElement(n.p,null,"Veuillez mettre √† jour votre composant ",r.createElement(n.code,null,"Cinema")," pour que tout soit fonctionnel."),"\n",r.createElement(n.p,null,"Une fois tout fonctionnel, veuillez faire un commit avec le message suivant : ",r.createElement(n.strong,null,r.createElement(n.code,null,"new:ex2.2"))),"\n",r.createElement(n.p,null,"üí≠ A la fin de cet exercice, nous nous rendons compte que le passage des informations √† nos composants peut encore √™tre am√©lior√©... par example, un ",r.createElement(n.code,null,"Cinema")," devrait pouvoir recevoir des ",r.createElement(n.code,null,"movies")," au sein d'un tableau.  De plus, il serait utile d'apprendre √† externaliser nos composants dans des modules. Nous allons apprendre cela dans la suite du cours."),"\n",r.createElement(n.h1,null,r.createElement(i,null," Le linter  ")),"\n",r.createElement(n.p,null,"Cet outil permet de d√©tecter des erreurs de programmation lors de l'√©criture de nos scripts. Par d√©faut, l'application Vite a cr√©√© une configuration du linter qui se trouve dans ",r.createElement(n.code,null,".eslintrc.cjs"),"."),"\n",r.createElement(n.p,null,'Pour b√©n√©ficier de feedback sur votre code au sein de VS Code, veuillez installer l\'extension ESLint.\r\nVous avez m√™me des propositions de "Quick fix" !'),"\n",r.createElement(n.p,null,"Pour ajouter les probl√®mes de linter dans le browser ainsi que dans le terminal, apr√®s la transpilation/compilation, vous devez utiliser un plugin."),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"Installation du plugin ",r.createElement(n.code,null,"vite-plugin-checker")," :"),"\n"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-bash"},"npm i vite-plugin-checker -D\n")),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"Nouvelle configuration de Vite pour afficher les erreurs dans le browser dans ",r.createElement(n.code,null,"vite.config.ts")," :"),"\n"),"\n",r.createElement(n.pre,{highlighting:"3,8-11"},r.createElement(n.code,{className:"language-ts"},"import { defineConfig } from 'vite'\r\nimport react from '@vitejs/plugin-react-swc'\r\nimport checker from 'vite-plugin-checker'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [react(),\r\n  checker({\r\n    // e.g. use TypeScript check\r\n    typescript: true,\r\n  }),\r\n  ],\r\n})\n")),"\n",r.createElement(n.h1,null,r.createElement(i,null," Le formatter  ")),"\n",r.createElement(n.p,null,"Pour formater facilement votre code, vous pouvez utiliser un \"formatter\". Nous recommandons l'utilisation de l'outil ",r.createElement(n.strong,null,"Prettier")," pour formater votre code."),"\n",r.createElement(n.p,null,"Veuillez donc installer l'extension prettier au sein de VS Code."),"\n",r.createElement(n.p,null,"Une fois prettier install√© dans VS Code, vous pouvez facilement formatter votre code ainsi :"),"\n",r.createElement(n.ul,null,"\n",r.createElement(n.li,null,"soit en tapant ",r.createElement(n.code,null,"Shift Alt F")," (",r.createElement(n.code,null,"Option Shift F")," sous MacOS);"),"\n",r.createElement(n.li,null,"soit en faisant un clic droit sur votre script, ",r.createElement(n.code,null,"Format Document")," ; la premi√®re fois, il se peut que vous deviez s√©lectionner prettier comme formatter."),"\n"))}var o=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.RP)(),e.components);return n?r.createElement(n,e,r.createElement(a,e)):a(e)};function c(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}var s=t(4810),i=t(2662),u=t(9640),m=t(5938),p=t(9460),d=t(7929),E=t(794),g=t(4092),v=t(4262),h=t(3528),f=t(9942),b=t(4698),S=t(2214),x=t(9838),y=(t(1262),t(1731)),z=t(7050),N=t(2483),q=t(4902),A=t(9294),P=t(7828),T=t(2035),j=t(5590);const C={Link:s.Link,Image:u.A,Section:m.A,Content:p.A,Background:d.A,SectionHeader:E.A,SectionFooter:g.A,PageHeader:v.A,CodeBlock:f.A,LinkFile:b.A,ScrollableImage:S.A,PublicProjectsView:x.A,AuthenticatedBlock:y.A,UnAuthenticatedBlock:z.A,NestedMdxBlock:N.A,YoutubeImage:q.A,InternalPageMenu:A.A,InternalPageMenuItem:P.A,InternalPageTitle:T.A,PathViewer:j.E,PathViewerItem:j.F};function I(e){var n,t,a,o,c;let{data:{mdx:s,allImages:u},children:m}=e;return C.PageHeader=(0,h.R)(v.A,null==s?void 0:s.frontmatter),r.createElement(i.A,Object.assign({},null!=s&&s.frontmatter?{frontmatter:s.frontmatter}:{},null!=s&&null!==(n=s.frontmatter)&&void 0!==n&&n.navbarExtraStyles?{navbarExtraStyles:s.frontmatter.navbarExtraStyles}:{},null!=s&&null!==(t=s.frontmatter)&&void 0!==t&&t.headerImage?{headerImage:s.frontmatter.headerImage}:{},null!=s&&null!==(a=s.frontmatter)&&void 0!==a&&a.featuredImage?{featuredImage:s.frontmatter.featuredImage}:{},null!=s&&null!==(o=s.frontmatter)&&void 0!==o&&o.title?{pageTitle:s.frontmatter.title}:{},u&&u.length>0?{allImages:u}:{}),r.createElement(l.xA,{components:C},r.createElement("div",{className:null!=s&&null!==(c=s.frontmatter)&&void 0!==c&&c.autoMargin?"page page--auto-margin ":"page"},m)))}function M(e){return r.createElement(I,e,r.createElement(o,e))}}}]);
//# sourceMappingURL=component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-2-components-fr-mdx-a0830246a2563aa1d740.js.map